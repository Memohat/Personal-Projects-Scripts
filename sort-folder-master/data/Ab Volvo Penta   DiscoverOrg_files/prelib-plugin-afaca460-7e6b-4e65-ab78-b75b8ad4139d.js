!function(){function t(e,r,n){function i(a,s){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=r[a]={exports:{}};e[a][0].call(d.exports,function(t){var r=e[a][1][t];return i(r?r:t)},d,d.exports,t,e,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}return t}()({1:[function(t,e,r){(function(e,r){!function(){var n,i=t("wm-prelib-logger");function o(){return n}window._walkmeInternals=window._walkmeInternals||{},t("wm-di")(window._walkmeInternals);var a=window._walkmeInternals.ctx;!function(){var o={},s=function(){function t(t){this.promiseManager=t,this._plugins=[]}return t.prototype.register=function(t){this._plugins.push(t)},t.prototype.run=function(t){for(var e,r=this._plugins,n=[],i=0;i<r.length;i++)e=r[i].run(t),e&&n.push(e);return this.promiseManager.all(n)},t}();o.PluginsManager=s;/*!
 * @overview RSVP - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/tildeio/rsvp.js/master/LICENSE
 * @version   3.1.0
 */
var u=o.promiseManager=function(){"use strict";function n(t){return"function"==typeof t||"object"==typeof t&&null!==t}function i(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}var a;a=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var s=a,u=Date.now||function(){return(new Date).getTime()};function c(){}var d=Object.create||function(t){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof t)throw new TypeError("Argument must be an object");return c.prototype=t,new c};function f(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function l(t){var e=t._promiseCallbacks;return e||(e=t._promiseCallbacks={}),e}var h={mixin:function(t){return t.on=this.on,t.off=this.off,t.trigger=this.trigger,t._promiseCallbacks=void 0,t},on:function(t,e){if("function"!=typeof e)throw new TypeError("Callback must be a function");var r,n=l(this);r=n[t],r||(r=n[t]=[]),f(r,e)===-1&&r.push(e)},off:function(t,e){var r,n,i=l(this);if(!e)return void(i[t]=[]);r=i[t],n=f(r,e),n!==-1&&r.splice(n,1)},trigger:function(t,e,r){var n,i,o=l(this);if(n=o[t])for(var a=0;a<n.length;a++)(i=n[a])(e,r)}},p={instrument:!1};h.mixin(p);function g(t,e){if("onerror"===t)return void p.on("error",e);if(2!==arguments.length)return p[t];p[t]=e}var v=[];function _(){setTimeout(function(){for(var t,e=0;e<v.length;e++){t=v[e];var r=t.payload;r.guid=r.key+r.id,r.childGuid=r.key+r.childId,r.error&&(r.stack=r.error.stack),p.trigger(t.name,t.payload)}v.length=0},50)}function b(t,e,r){1===v.push({name:t,payload:{key:e._guidKey,id:e._id,eventName:t,detail:e._result,childId:r&&r._id,label:e._label,timeStamp:u(),error:p["instrument-with-stack"]?new Error(e._label):null}})&&_()}var y=b;function m(){return new TypeError("A promises callback cannot return that same promise.")}function w(){}var E=void 0,O=1,S=2,D=new U;function I(t){try{return t.then}catch(e){return D.error=e,D}}function T(t,e,r,n){try{t.call(e,r,n)}catch(i){return i}}function N(t,e,r){p.async(function(t){var n=!1,i=T(r,e,function(r){if(n)return;n=!0,e!==r?x(t,r):L(t,r)},function(e){if(n)return;n=!0,R(t,e)},"Settle: "+(t._label||" unknown promise"));!n&&i&&(n=!0,R(t,i))},t)}function A(t,e){e._state===O?L(t,e._result):e._state===S?(e._onError=null,R(t,e._result)):k(e,void 0,function(r){e!==r?x(t,r):L(t,r)},function(e){R(t,e)})}function C(t,e){if(e.constructor===t.constructor)A(t,e);else{var r=I(e);r===D?R(t,D.error):void 0===r?L(t,e):i(r)?N(t,e,r):L(t,e)}}function x(t,e){t===e?L(t,e):n(e)?C(t,e):L(t,e)}function M(t){t._onError&&t._onError(t._result),P(t)}function L(t,e){if(t._state!==E)return;t._result=e,t._state=O,0===t._subscribers.length?p.instrument&&y("fulfilled",t):p.async(P,t)}function R(t,e){if(t._state!==E)return;t._state=S,t._result=e,p.async(M,t)}function k(t,e,r,n){var i=t._subscribers,o=i.length;t._onError=null,i[o]=e,i[o+O]=r,i[o+S]=n,0===o&&t._state&&p.async(P,t)}function P(t){var e=t._subscribers,r=t._state;if(p.instrument&&y(r===O?"fulfilled":"rejected",t),0===e.length)return;for(var n,i,o=t._result,a=0;a<e.length;a+=3)n=e[a],i=e[a+r],n?B(r,n,i,o):i(o);t._subscribers.length=0}function U(){this.error=null}var j=new U;function F(t,e){try{return t(e)}catch(r){return j.error=r,j}}function B(t,e,r,n){var o,a,s,u,c=i(r);if(c){if(o=F(r,n),o===j?(u=!0,a=o.error,o=null):s=!0,e===o)return void R(e,m())}else o=n,s=!0;e._state!==E||(c&&s?x(e,o):u?R(e,a):t===O?L(e,o):t===S&&R(e,o))}function V(t,e){var r=!1;try{e(function(e){if(r)return;r=!0,x(t,e)},function(e){if(r)return;r=!0,R(t,e)})}catch(n){R(t,n)}}function z(t,e,r){return t===O?{state:"fulfilled",value:r}:{state:"rejected",reason:r}}function W(t,e,r,n){var i=this;i._instanceConstructor=t,i.promise=new t(w,n),i._abortOnReject=r,i._validateInput(e)?(i._input=e,i.length=e.length,i._remaining=e.length,i._init(),0===i.length?L(i.promise,i._result):(i.length=i.length||0,i._enumerate(),0===i._remaining&&L(i.promise,i._result))):R(i.promise,i._validationError())}var H=W;W.prototype._validateInput=function(t){return s(t)},W.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},W.prototype._init=function(){this._result=new Array(this.length)},W.prototype._enumerate=function(){for(var t=this,e=t.length,r=t.promise,n=t._input,i=0;r._state===E&&i<e;i++)t._eachEntry(n[i],i)},W.prototype._eachEntry=function(t,e){var r=this,n=r._instanceConstructor;o(t)?t.constructor===n&&t._state!==E?(t._onError=null,r._settledAt(t._state,e,t._result)):r._willSettleAt(n.resolve(t),e):(r._remaining--,r._result[e]=r._makeResult(O,e,t))},W.prototype._settledAt=function(t,e,r){var n=this,i=n.promise;i._state===E&&(n._remaining--,n._abortOnReject&&t===S?R(i,r):n._result[e]=n._makeResult(t,e,r)),0===n._remaining&&L(i,n._result)},W.prototype._makeResult=function(t,e,r){return r},W.prototype._willSettleAt=function(t,e){var r=this;k(t,void 0,function(t){r._settledAt(O,e,t)},function(t){r._settledAt(S,e,t)})};function G(t,e){return new H(this,t,(!0),e).promise}var Y=G;function J(t,e){var r=this,n=new r(w,e);if(!s(t))return R(n,new TypeError("You must pass an array to race.")),n;var i=t.length;function o(t){x(n,t)}function a(t){R(n,t)}for(var u=0;n._state===E&&u<i;u++)k(r.resolve(t[u]),void 0,o,a);return n}var Q=J;function q(t,e){var r=this;if(t&&"object"==typeof t&&t.constructor===r)return t;var n=new r(w,e);return x(n,t),n}var K=q;function X(t,e){var r=this,n=new r(w,e);return R(n,t),n}var Z=X,$="rsvp_"+u()+"-",tt=0;function et(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function rt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function nt(t,e){var r=this;r._id=tt++,r._label=e,r._state=void 0,r._result=void 0,r._subscribers=[],p.instrument&&y("created",r),w!==t&&(i(t)||et(),r instanceof nt||rt(),V(r,t))}var it=nt;nt.cast=K,nt.all=Y,nt.race=Q,nt.resolve=K,nt.reject=Z,nt.prototype={constructor:nt,_guidKey:$,_onError:function(t){var e=this;p.after(function(){e._onError&&p.trigger("error",t,e._label)})},then:function(t,e,r){var n=this,i=n._state;if(i===O&&!t||i===S&&!e)return p.instrument&&y("chained",n,n),n;n._onError=null;var o=new n.constructor(w,r),a=n._result;if(p.instrument&&y("chained",n,o),i){var s=arguments[i-1];p.async(function(){B(i,o,s,a)})}else k(n,o,t,e);return o},"catch":function(t,e){return this.then(void 0,t,e)},"finally":function(t,e){var r=this,n=r.constructor;return r.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})},e)}};function ot(t,e,r){this._superConstructor(t,e,!1,r)}ot.prototype=d(H.prototype),ot.prototype._superConstructor=H,ot.prototype._makeResult=z,ot.prototype._validationError=function(){return new Error("allSettled must be called with an array")};function at(t,e){return new ot(it,t,e).promise}var st=at;function ut(t,e){return it.all(t,e)}var ct,dt=ut,ft=0;({}).toString;function lt(t,e){St[ft]=t,St[ft+1]=e,ft+=2,2===ft&&Tt()}var ht=lt,pt="undefined"!=typeof window?window:void 0,gt=pt||{},vt=gt.MutationObserver||gt.WebKitMutationObserver,_t="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),bt="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function yt(){var t=e.nextTick,r=e.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(r)&&"0"===r[1]&&"10"===r[2]&&(t=setImmediate),function(){t(Dt)}}function mt(){return function(){ct(Dt)}}function wt(){var t=0,e=new vt(Dt),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}function Et(){var t=new MessageChannel;return t.port1.onmessage=Dt,function(){t.port2.postMessage(0)}}function Ot(){return function(){setTimeout(Dt,1)}}var St=new Array(1e3);function Dt(){for(var t=0;t<ft;t+=2){var e=St[t],r=St[t+1];e(r),St[t]=void 0,St[t+1]=void 0}ft=0}function It(){try{var e=t,r=e("vertx");return ct=r.runOnLoop||r.runOnContext,mt()}catch(n){return Ot()}}var Tt;Tt=_t?yt():vt?wt():bt?Et():void 0===pt&&"function"==typeof t?It():Ot();function Nt(t){var e={};return e.promise=new it(function(t,r){e.resolve=t,e.reject=r},t),e}var At=Nt;function Ct(t,e,r){return it.all(t,r).then(function(t){if(!i(e))throw new TypeError("You must pass a function as filter's second argument.");for(var n=t.length,o=new Array(n),a=0;a<n;a++)o[a]=e(t[a]);return it.all(o,r).then(function(e){for(var r=new Array(n),i=0,o=0;o<n;o++)e[o]&&(r[i]=t[o],i++);return r.length=i,r})})}var xt=Ct;function Mt(t,e,r){this._superConstructor(t,e,!0,r)}var Lt=Mt;Mt.prototype=d(H.prototype),Mt.prototype._superConstructor=H,Mt.prototype._init=function(){this._result={}},Mt.prototype._validateInput=function(t){return t&&"object"==typeof t},Mt.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")},Mt.prototype._enumerate=function(){var t=this,e=t.promise,r=t._input,n=[];for(var i in r)e._state===E&&Object.prototype.hasOwnProperty.call(r,i)&&n.push({position:i,entry:r[i]});var o=n.length;t._remaining=o;for(var a,s=0;e._state===E&&s<o;s++)a=n[s],t._eachEntry(a.entry,a.position)};function Rt(t,e,r){this._superConstructor(t,e,!1,r)}Rt.prototype=d(Lt.prototype),Rt.prototype._superConstructor=H,Rt.prototype._makeResult=z,Rt.prototype._validationError=function(){return new Error("hashSettled must be called with an object")};function kt(t,e){return new Rt(it,t,e).promise}var Pt=kt;function Ut(t,e){return new Lt(it,t,e).promise}var jt=Ut;function Ft(t,e,r){return it.all(t,r).then(function(t){if(!i(e))throw new TypeError("You must pass a function as map's second argument.");for(var n=t.length,o=new Array(n),a=0;a<n;a++)o[a]=e(t[a]);return it.all(o,r)})}var Bt=Ft;function Vt(){this.value=void 0}var zt=new Vt,Wt=new Vt;function Ht(t){try{return t.then}catch(e){return zt.value=e,zt}}function Gt(t,e,r){try{t.apply(e,r)}catch(n){return zt.value=n,zt}}function Yt(t,e){for(var r,n,i={},o=t.length,a=new Array(o),s=0;s<o;s++)a[s]=t[s];for(n=0;n<e.length;n++)r=e[n],i[r]=a[n+1];return i}function Jt(t){for(var e=t.length,r=new Array(e-1),n=1;n<e;n++)r[n-1]=t[n];return r}function Qt(t,e){return{then:function(r,n){return t.call(e,r,n)}}}function qt(t,e){var r=function(){for(var r,n=this,i=arguments.length,o=new Array(i+1),a=!1,u=0;u<i;++u){if(r=arguments[u],!a){if(a=$t(r),a===Wt){var c=new it(w);return R(c,Wt.value),c}a&&a!==!0&&(r=Qt(a,r))}o[u]=r}var d=new it(w);return o[i]=function(t,r){t?R(d,t):void 0===e?x(d,r):e===!0?x(d,Jt(arguments)):s(e)?x(d,Yt(arguments,e)):x(d,r)},a?Zt(d,o,t,n):Xt(d,o,t,n)};return r.__proto__=t,r}var Kt=qt;function Xt(t,e,r,n){var i=Gt(r,n,e);return i===zt&&R(t,i.value),t}function Zt(t,e,r,n){return it.all(e).then(function(e){var i=Gt(r,n,e);return i===zt&&R(t,i.value),t})}function $t(t){return!(!t||"object"!=typeof t)&&(t.constructor===it||Ht(t))}var te;if("object"==typeof self)te=self;else{if("object"!=typeof r)throw new Error("no global: `self` or `global` found");te=r}function ee(t,e){return it.race(t,e)}var re=ee;function ne(t,e){return it.reject(t,e)}var ie=ne;function oe(t,e){return it.resolve(t,e)}var ae=oe;function se(t){throw setTimeout(function(){throw t}),t}var ue=se;p.async=ht,p.after=function(t){setTimeout(t,0)};function ce(t,e){p.async(t,e)}function de(){p.on.apply(p,arguments)}function fe(){p.off.apply(p,arguments)}if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var le=window.__PROMISE_INSTRUMENTATION__;g("instrument",!0);for(var he in le)le.hasOwnProperty(he)&&de(he,le[he])}var pe={race:re,Promise:it,allSettled:st,hash:jt,hashSettled:Pt,denodeify:Kt,on:de,off:fe,map:Bt,filter:xt,resolve:ae,reject:ie,all:dt,rethrow:ue,defer:At,EventTarget:h,configure:g,async:ce};return pe}(),c=function(){function t(t,e,r){this.PluginsManager=e,this._configs=new this.PluginsManager(r),this._plugins=new this.PluginsManager(r),this.ctx=t.ctx,this.di=t.di}return t.prototype.config=function(t){this._configs.register(t)},t.prototype.plugin=function(t){this._plugins.register(t)},t.prototype.start=function(t){var e=this,r=this._configs,n=this._plugins,i=r.run(t);return i.then(function(){return n.run(t)}).then(function(){return e.callWalkmePreLibLoaded()})["catch"](function(t){e.logError(t)})},t.prototype.callWalkmePreLibLoaded=function(){window.walkme_pre_lib_loaded&&window.walkme_pre_lib_loaded()},t.prototype.logError=function(t){throw this.ctx.has("PrelibLogger")&&this.ctx.get("PrelibLogger").write("Prelib encountered an error while loading: "+t+"\nDetails:\n"+t.stack),t},t}();o.LegoDI=c,a.register("PromiseManager").asInstance(u),a.register("Promise").asCtor(u.Promise).asProto(),n=new c(window._walkmeInternals,s,u);var d=wmjQuery({}),f=t("wm-events"),l=new f.EventsTrigger(d,u),h=new f.EventsListener(d);window._walkmeInternals.events={listener:h,trigger:l,_eventsBase:d},n.ctx.register("EventsTrigger").asInstance(l),n.ctx.register("EventsListener").asInstance(h),n.ctx.register("PrelibLogger").asInstance(i)}(),t("wm-plugin-abra")(o),t("wm-plugin-visions-recorder")(o);var s=function(){var t,e=window.wmSnippet||window.wmPlaySnippet||window.wmPreviewSnippet;return e&&(t=e.getSettingsFile()),t||(t={}),t}();n.start(s)}()}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:18,"wm-di":19,"wm-events":22,"wm-plugin-abra":8,"wm-plugin-visions-recorder":15,"wm-prelib-logger":23}],2:[function(t,e,r){var n=function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n},i=function(){function e(){}return e.registerClass=function(t,r,n){e.classRegistrations.push({name:t,ctor:r,dependencies:n})},e.getCtx=function(){if(e.ctx)return e.ctx;throw new Error("ctx is not set")},e.load=function(t){e.ctx=t,e.loadMockDependencies(t),e.loadModules(t);for(var r=0,n=e.classRegistrations;r<n.length;r++){var i=n[r],o=t.register(i.name).asCtor(i.ctor);i.dependencies&&o.dependencies(i.dependencies)}e.classRegistrations=[]},e.loadMockDependencies=function(t){t.register("Abra:Walkme").asInstance(window._walkMe)},e.loadModules=function(e){e.register("Abra:ElementDescriptionGeneratorCtor").asInstance(t("wm-element-description-generator")),e.register("Abra:SimpleNlp").asInstance(t("wm-simple-nlp")),e.register("Abra:EventObfuscator").asCtor(t("wm-string-obfuscation/encoder.js").Encoder).dependencies("Abra:JSON")},e.classRegistrations=[],e}(),o=function(){function t(t,e,r,n,i){this.elementDescriptionGeneratorCtor=t,this.json=e,this.jQuery=r,this.privacyUtils=n,this.logger=i,this.elementDescriptionGenerator=new t(r,this.getErrorHandler(),this.createWindowFinder(),e,this.createDocumentProvider(),this.createElementPrivacyFilter(),(!0))}return t.prototype.generate=function(t,e){return void 0===e&&(e={}),this.json.parse(this.elementDescriptionGenerator.generateElementJson(t,e)||"{}")},t.prototype.getErrorHandler=function(){var t=this;return{ReportError:function(e){t.logger.error("error generating element description",e)}}},t.prototype.createElementPrivacyFilter=function(){var t=this;return function(e){t.privacyUtils.isElementSafe(e)}},t.prototype.createDocumentProvider=function(){return{get:function(){return document}}},t.prototype.createWindowFinder=function(){var t=this,e={};return e.getLibWindow=e.getLibWrappedWindow=function(e){for(var r=e.ownerDocument,n=r.defaultView;n&&!n._makeTutorial&&n!=n.top;)n=t.isSameDomain(r,n.parent.document)?n.parent:null;return n},e},t.prototype.isSameDomain=function(t,e){if(e.domain!=t.domain||e.location.port!=t.location.port||e.location.protocol!=t.location.protocol)return!1;return!0},t}();i.registerClass("Abra:ElementDescriptionGeneratorWrapper",o,"Abra:ElementDescriptionGeneratorCtor, Abra:JSON, wmjQuery, Abra:PrivacyUtils, Abra:Logger");var a=function(){function t(t,e,r,n,i,o){this.elementDescriptionGeneratorWrapper=t,this.parentDataUtils=e,this.jQuery=r,this.privacyUtils=n,this.textUtils=i,this.logger=o,this.textOptions={maxLength:200}}return t.prototype.generate=function(t){var e=this.logger.pref("capture"),r=this.convertToNewScheme(this.elementDescriptionGeneratorWrapper.generate(t)),n=this.parentDataUtils.findParent(t);if(n&&this.privacyUtils.isElementSafe(n)&&(r.pfText=this.parentDataUtils.firstText(this.jQuery(n))),this.privacyUtils.isElementSafe(t)){var i=this.jQuery(t);"SELECT"===s.getElementTag(i)?r.text=i.find('option[value="'+i.val()+'"]').text():r.text=B.trim(this.textUtils.collectText(t,this.textOptions),this.textOptions.maxLength);var o=i.val();r.value=o?B.trim(o.toString(),this.textOptions.maxLength):void 0}return r.type=t.type,r.tag=(t.localName||t.nodeName).toLowerCase(),e.stop(),r},t.prototype.convertToNewScheme=function(t){return{name:t.elementName,title:t.title,"class":t.elementClass,id:t.elementId,autoQuery:t.autoQuery,xpath:t.elementXpath}},t}();i.registerClass("Abra:ElementDescriptionGenerator",a,"Abra:ElementDescriptionGeneratorWrapper, Abra:ParentDataUtils, wmjQuery, Abra:PrivacyUtils, Abra:TextUtils, Abra:Logger");var s=function(){function t(){}return t.getElementTag=function(t){var e=t.prop("tagName");return"string"==typeof e?e.toUpperCase():void 0},t.isElementTextNode=function(t){return t.nodeType===H.Text||t.nodeType===H.CDATASection},t.isVisualDomElement=function(t){var e=t.nodeType===H.Element&&!t.tagName.match(/^(script|style)$/i);return e},t.getParent=function(t){var e=t.parentNode;if(e&&e.nodeType==H.Element)return e;return null},t}(),u=function(){function t(t){this.jQuery=t,this.cursorOverrideNotPointer=["SELECT","INPUT","BUTTON","TEXTAREA","VIDEO","AUDIO","LABEL"]}return t.prototype.get=function(t){for(var e=this.jQuery(t),r=void 0,n=!0,i=!1;i===!1;){var o=s.getElementTag(e);if("BUTTON"===o){r={type:"button",element:e[0]};break}if(n===!0){var a=this.getElementCursor(e);this.isPointer(e,a)?r={type:"pointer",element:e[0]}:n=this.isCursorCouldBePointer(e,a)}void 0===r&&this.isStoppableAttribute(e[0])&&(r={type:"attribute",element:e[0]}),e=e.parent(),i=1!==e.prop("nodeType")}return r&&t!==r.element&&(r.climb=!0),r},t.prototype.isStoppableAttribute=function(t){if(!t||!t.attributes)return!1;var e=t.attributes.tabIndex;if(e&&e.value&&t.tabIndex>=0)return!0;return e=t.attributes.accesskey,!(!e||!e.value)},t.prototype.getElementCursor=function(t){try{return this.jQuery(t).css("cursor")}catch(e){return"auto"}},t.prototype.isPointer=function(t,e){if("pointer"===e)return!0;if("auto"!==e)return!1;switch(s.getElementTag(t)){case"A":return void 0!==t.attr("href");default:return!1}},t.prototype.isCursorCouldBePointer=function(t,e){if("pointer"===e)return!0;if("auto"!==e)return!1;return this.jQuery.inArray(s.getElementTag(t),this.cursorOverrideNotPointer)===-1},t}();i.registerClass("Abra:MeaningfulElementGetter",u,"wmjQuery");var c=function(){function t(t,e,r){this.jQuery=t,this.simpleNlp=e,this.textUtils=r}return t.prototype.findParent=function(t,e){void 0===e&&(e=200);var r,n=this.jQuery(t),i=t;do i=s.getParent(i),r=!!i&&this.firstText(n,e)===this.firstText(this.jQuery(i),e);while(r&&i);if(!r&&i)return i;return null},t.prototype.firstText=function(t,e){var r=this;return B.trim(this.textUtils.extractFirstOccuringText(t,function(t,e){return t&&r.simpleNlp.isPhraseHuman(t.toString())||e&&r.simpleNlp.isPhraseHuman(e.toString())}),e)},t}();i.registerClass("Abra:ParentDataUtils",c,"wmjQuery, Abra:SimpleNlp, Abra:TextUtils");var d;!function(t){t[t.Creating=0]="Creating",t[t.Altering=1]="Altering",t[t.Finalizing=1e3]="Finalizing"}(d||(d={}));var f=function(){function t(t,e,r){this.promiseManager=t,this.jQuery=e,this.logger=r,this.providers=[],this.providersCount=0}return t.prototype.build=function(e){var r=this;if(0===this.providersCount)return this.promiseManager.resolve(e.event);return this.jQuery(t.ProvidersTypeOrder).reduce(function(t,n){return t.then(function(){return r.runProvidersGroup(e,r.providers[n])})},this.promiseManager.resolve()).then(function(){return e.event})},t.prototype.runProvidersGroup=function(t,e){var r=this,n=[];if(e)for(var i=function(i){var a=e[i];try{var s=a.handler(t);if(s){var u=s["catch"](function(t){r.logger.error("failed to run provider",t,{providerName:a.name,promise:!0})});n.push(u)}}catch(c){o.logger.error("failed to run provider",c,{providerName:a.name})}},o=this,a=0;a<e.length;a++)i(a);return this.promiseManager.all(n)},t.prototype.register=function(t,e,r){void 0===r&&(r=d.Creating),this.providers[r]=this.providers[r]||[],this.providers[r].push({name:t,handler:e}),this.providersCount++},t.ProvidersTypeOrder=[d.Creating,d.Altering,d.Finalizing],t}();i.registerClass("Abra:EventBuilder",f,"PromiseManager, wmjQuery, Abra:Logger");var l=function(){function t(t,e,r,n,i,o,a,s,u,c,d){this.eventBuilder=t,this.eventsSenderWrapper=e,this.eventsTrigger=r,this.logger=n,this.privacyUtils=i,this.window=o,this.windowIdGetter=a,this.commonEventAttributesProvider=s,this.jQuery=u,this.obfuscator=c,this.shouldEncode=!0,this.shouldEncode=!d.isFeatureEnabled("Abra-DisableEncoding")}return t.prototype.initiate=function(t){var e=this,r=W.now();this.eventBuilder.build(t).then(function(t){return t.time=r,t.ctx=t.ctx||{},e.addTimingData(t),e.addPageData(t),e.addApplicationData(t),e.addWindowData(t).then(function(){e.substringEvent(t),e.censorEvent(t),t=wmjQuery.extend(!0,t,e.commonEventAttributesProvider.get()),e.sendEvent(t)})})["catch"](function(t){e.logger.error("error sending event",t)})},t.prototype.substringEvent=function(t){B.substringObject(U.Value,t)},t.prototype.addTimingData=function(t){t.ctx.timing=W.getTimingData()},t.prototype.addWindowData=function(t){return this.windowIdGetter.getOrCreate().then(function(e){t.ctx.winId=e})},t.prototype.addPageData=function(t){t.ctx.referrer=this.window.document.referrer,this.addIframeData(t),t.ctx.referrer=t.ctx.referrer?t.ctx.referrer:void 0},t.prototype.addIframeData=function(t){try{S.isIframe()&&(t.ctx.topTitle=S.getTopTitle(),t.ctx.referrer=t.ctx.referrer||top.window.document.referrer)}catch(e){}},t.prototype.addApplicationData=function(t){t.version={abra:A.App.version}},t.prototype.censorEvent=function(t){t.element&&("keypress"!==t.type&&"change"!==t.type||"select"!==t.element.tag&&(t.element.value=void 0,t.element.text=void 0),t.element=this.privacyUtils.filterCreditCard(t.element))},t.prototype.sendEvent=function(t){this.eventsSenderWrapper.send(this.shouldEncode?this.obfuscator.encode(t):t),this.eventsTrigger.sync("Abra:EventSent",t),this.logger.debug(t)},t}();i.registerClass("Abra:EventHandler",l,"Abra:EventBuilder, Abra:EventsSenderWrapper, EventsTrigger, Abra:Logger, Abra:PrivacyUtils, win, Abra:WindowIdGetter, CommonEventAttributesProvider, wmjQuery, Abra:EventObfuscator, FeaturesManager");var h={active:"active",idle:"idle",pageChange:"pageChange"},p=function(){function t(t,e,r,n){this.eventHandler=t,this.userEventListener=e,this.reusableTimerFactory=r,this.errorUtils=n,this.delay=6e4,this.isIdle=!1,this.isEnabled=!1}return t.prototype.load=function(){var t=this;this.timer||(this.timer=this.reusableTimerFactory.create(function(){return t.setIdle()},this.delay),this.registerId=this.userEventListener.register(function(e){return t.setActive(e)},["blur","change","click","dblclick","focus","focusin","focusout","hover","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","resize","scroll","select","submit"]),this.timer.set(),this.isEnabled=!0)},t.prototype.unload=function(){this.timer&&(this.userEventListener.unregister(this.registerId),this.timer.clear(),this.isEnabled=!1)},t.prototype.setDelay=function(t){this.delay=t},t.prototype.setActive=function(t){this.isEnabled&&(this.isIdle&&(this.isIdle=!1,this.raiseEvent(h.active,t&&t.type)),this.timer.set())},t.prototype.setIdle=function(){this.isEnabled&&(this.isIdle=!0,this.raiseEvent(h.idle))},t.prototype.raiseEvent=function(t,e){var r=this;this.errorUtils.wrapCallAndLog(function(){r.eventHandler.initiate({event:{type:t,misc:{trigger:e}}})},"error at IdleEventCreator",{type:t,trigger:e})},t}();i.registerClass("Abra:IdleEventCreator",p,"Abra:EventHandler, Abra:UserEventListener, Abra:ReusableTimerFactory, Abra:ErrorUtils");var g=function(){function t(t,e,r){var n=this;this.errorUtils=t,this.eventHandler=e,this.reusableTimerFactory=r,this.isEnabled=!1,this.timer=this.reusableTimerFactory.create(function(){return n.feedEvent()},1e3)}return t.prototype.load=function(){this.isEnabled||(this.registerBeforeUnload(),this.isEnabled=!0)},t.prototype.unload=function(){this.isEnabled&&(this.timer.clear(),this.eventData=void 0,this.isEnabled=!1)},t.prototype.feedEvent=function(t,e){if(!this.isEnabled)return;t&&"keypress"==t.type&&e?this.eventData?this.eventData.desc.xpath===e.xpath?(this.timer.set(),this.eventData.desc=e,this.eventData.count++):(this.raiseEvent(),this.createNew(e)):this.createNew(e):this.raiseEvent()},t.prototype.createNew=function(t){this.eventData={desc:t,count:1,t1:W.now()},this.timer.set()},t.prototype.raiseEvent=function(){this.timer.clear(),this.eventData&&(this.eventHandler.initiate({event:{type:"keypress",element:this.eventData.desc,misc:{count:this.eventData.count,t1:this.eventData.t1}}}),this.eventData=void 0)},t.prototype.registerBeforeUnload=function(){var t=this,e=window.onbeforeunload;window.onbeforeunload=function(r){if(t.errorUtils.wrapCallAndLog(function(){return t.feedEvent()},"error on onbeforeunload keypress"),e)return e.call(window,r)}},t}();i.registerClass("Abra:KeypressEventCreator",g,"Abra:ErrorUtils, Abra:EventHandler, Abra:ReusableTimerFactory");var v=function(){function t(t,e,r,n,i){var o=this;this.logger=t,this.pageVisitIdProvider=e,this.eventHandler=r,this.pageLoadSync=n,this.eventsListener=i,this.eventCallback=function(){return o.distribute()}}return t.prototype.distribute=function(){this.eventHandler.initiate({event:{type:h.pageChange}})},t.prototype.load=function(){this.pageLoadSync.initializationData&&(this.pageVisitIdProvider.get()!==this.pageLoadSync.initializationData.id&&this.logger.error("Data inconsistency in pageVisitId"),this.distribute()),this.eventsListener.on("PageVisitIdUpdated",this.eventCallback)},t.prototype.unload=function(){this.eventsListener.off("PageVisitIdUpdated",this.eventCallback)},t}();i.registerClass("Abra:PageInfoCreator",v,"Abra:Logger, PageVisitIdProvider, Abra:EventHandler, Abra:PageLoadSync, EventsListener");var _=function(){function t(t,e){this.jQuery=t,this.compatibilityUtils=e}return t.prototype.bindEvents=function(t,e,r){var n=this,i=function(e){return n.jQuery(t).on(e+".abra",r)},o=i;this.compatibilityUtils.isCaptureBindCompatible()&&(o=function(e){try{t.addEventListener(e,r,!0)}catch(n){i(e)}}),this.jQuery.each(e,function(t,e){o(e)})},t.prototype.unbindEvents=function(t,e,r){var n=this,i=function(e){try{t.removeEventListener(e,r,!0),n.jQuery(t).off(e+".abra",r)}catch(i){}};this.jQuery.each(e,function(t,e){i(e)})},t}();i.registerClass("Abra:UserEventBinder",_,"wmjQuery, Abra:CompatibilityUtils");var b=function(){function t(t,e,r,n,i,o,a){this.userEventListener=t,this.eventHandler=e,this.elementDescriptionGenerator=r,this.meaningfulElementGetter=n,this.jQuery=i,this.keypressEventCreator=o,this.errorUtils=a}return t.prototype.createEvent=function(t){var e,r=this;this.errorUtils.wrapCall(function(){if("mousedown"===t.type){var n=r.meaningfulElementGetter.get(t.target);void 0!==n&&(t=r.jQuery.extend({},t,{target:n.element}),e={type:n.type,climb:n.climb})}},"meaningful element");var n=this.errorUtils.wrapCall(function(){return r.elementDescriptionGenerator.generate(t.target)},"element capture");"keypress"!==t.type&&this.eventHandler.initiate({event:{type:t.type,element:n,misc:e},data:{event:t,element:t.target}}),this.keypressEventCreator.feedEvent(t,n)},t.prototype.load=function(){var t=this;this.registerId=this.userEventListener.register(function(e){return t.createEvent(e)},["change","mousedown","dblclick","select","submit","keypress"]),this.keypressEventCreator.load()},t.prototype.unload=function(){this.userEventListener.unregister(this.registerId),this.keypressEventCreator.unload()},t}();i.registerClass("Abra:UserEventCreator",b,"Abra:UserEventListener, Abra:EventHandler, Abra:ElementDescriptionGenerator, Abra:MeaningfulElementGetter, wmjQuery, Abra:KeypressEventCreator, Abra:ErrorUtils");var y=function(){function t(t,e,r){var n=this;this.userEventBinder=t,this.frameBinder=e,this.errorUtils=r,this.runningCallbackId=-1,this.distributeMap={},this.unregisterData={},this.enabled=!0,this.mainCallback=function(t){return n.distribute(t)}}return t.prototype.register=function(t,e){for(var r=++this.runningCallbackId,n=[],i=0;i<e.length;i++){var o=e[i];this.distributeMap[o]?this.distributeMap[o].push(t):(this.distributeMap[o]=[t],n.push(o))}return this.bind(n,this.mainCallback),this.unregisterData[r]={callback:t,events:e},r},t.prototype.unregister=function(t){var e=this.unregisterData[t];if(!e)return!1;for(var r=[],n=0;n<e.events.length;n++)for(var i=e.events[n],o=this.distributeMap[i],a=0;a<o.length;a++)if(o[a]===e.callback){o.splice(a,1),0===o.length&&(r.push(i),delete this.distributeMap[i]);break}return this.unbind(r,this.mainCallback),delete this.unregisterData[t],!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.distribute=function(t){if(this.enabled)for(var e=this.distributeMap[t.type]||[],r=function(r){n.errorUtils.wrapCallAndLog(function(){return e[r](t)},"error distributing event",{trigger:t.type})},n=this,i=0;i<e.length;i++)r(i)},t.prototype.bind=function(t,e){var r=this;this.frameBinder.forEach(function(n){r.userEventBinder.bindEvents(n,t,e)})},t.prototype.unbind=function(t,e){var r=this;this.frameBinder.forEach(function(n){r.userEventBinder.unbindEvents(n,t,e)})},t}();i.registerClass("Abra:UserEventListener",y,"Abra:UserEventBinder, Abra:FrameBinder, Abra:ErrorUtils");var m=function(){function t(t){this.walkme=t}return t.prototype.isCaptureBindCompatible=function(){var t=this.walkme.getHostData();return t.isIE(9,"gte")||!t.isIE()},t}();i.registerClass("Abra:CompatibilityUtils",m,"Abra:Walkme");var w=function(){function t(t,e,r){this.promiseManager=t,this.jQuery=e,this.logger=r}return t.prototype.wrapCatch=function(t){var e=this;return function(r){return e.promiseManager.reject(e.wrapError(r,t))}},t.prototype.wrapCall=function(t,e){try{return t()}catch(r){throw this.wrapError(r,e)}},t.prototype.wrapCallAndLog=function(t,e,r){try{return t()}catch(n){n=this.wrapError(n,r),this.logger.error(e,n,n.extraData)}},t.prototype.wrapError=function(t,e){var r="string"==typeof t?{message:t}:t||{message:"no error provided"};return e="string"!=typeof e?e||{}:{failPoint:e},r.extraData=this.jQuery.extend(e,r.extraData),r},t}();i.registerClass("Abra:ErrorUtils",w,"PromiseManager, wmjQuery, Abra:Logger");var E=function(){function t(t){this.eventsSenderFactory=t}return t.prototype.init=function(t,e){var r={name:"Abra",postEventAction:"/event/tell",storageConfig:{keyName:t,autoSave:!1,expiresSeconds:600},stagingStorageConfig:{keyName:t+"-s",autoSave:!1,expiresSeconds:600},failureStorageConfig:{keyName:t+"-f",autoSave:!0,expiresSeconds:86400},storageType:"session",dataSender:"accumulation",clientStorageManager:"ArrayBuffer",clientStagingStorageManager:"ArrayBuffer"};this.sender=this.eventsSenderFactory.generateAndGetEventsSender(r),i.getCtx().has("EventServerBaseUrlProvider")||this.sender.setBaseUrl(e),this.sender.enable()},t.prototype.disable=function(){this.sender&&(this.sender.sleep(),this.sender.disable(),this.sender=void 0)},t.prototype.send=function(t){this.sender&&this.sender.send(t)},t}();i.registerClass("Abra:EventsSenderWrapper",E,"EventsSenderFactory");var O=function(){function t(t,e){this.iFramesManager=t,this.uIChangeTracker=e}return t.prototype.load=function(){this.isSpa()||this.iFramesManager.mapIframes()},t.prototype.forEach=function(t){t(document);try{var e=function(e){e.documentAccessible&&t(e.iframe.contentWindow.document);
};this.iFramesManager.foreachIframe(e,!0),this.iFramesManager.onIframeLoad(e)}catch(r){}},t.prototype.isSpa=function(){return this.uIChangeTracker.isActivated()},t}();i.registerClass("Abra:FrameBinder",O,"IFramesManager, UIChangeTracker");var S=function(){function t(){}return t.isIframe=function(){return top!==window},t.getTopTitle=function(){return top.window.document.title},t}(),D=function(){function t(t){this.jQuery=t,this.creditCardStripRegex=/[\-\t ]/g,this.allowedInputTypes=["radio","checkbox","button","reset","submit"]}return t.prototype.isElementSafe=function(t){if(t.nodeType===H.Element&&t.tagName){var e=this.jQuery(t).attr("contenteditable");if("true"===e)return!1;var r=t.tagName.toUpperCase();if("TEXTAREA"===r)return!1;if("INPUT"===r){var n=(t.type||"").toLowerCase();if(this.jQuery.inArray(n,this.allowedInputTypes)!==-1)return!0;return!1}}return!0},t.prototype.filterCreditCard=function(t){if(t){var e=typeof t;if("object"===e)if("number"!=typeof t.length||t.propertyIsEnumerable("length"))for(var r in t)t.hasOwnProperty(r)&&(t[r]=this.filterCreditCard(t[r]));else for(var n=t.length-1;n>=0;n--)t[n]=this.filterCreditCard(t[n]);else if("string"===e&&t.length>=12){var i=t.replace(this.creditCardStripRegex,"");if(i.length>=12&&/[0-9]{12,}/.test(i))return null}else if("number"===e&&t>=99999999999)return null}return t},t}();i.registerClass("Abra:PrivacyUtils",D,"wmjQuery");var I=function(){function t(t,e,r){this.promiseManager=t,this.storageManager=e,this.settingsFile=r,this.KEY="wm-abra-server"}return t.prototype.get=function(){var t=this;return new this.promiseManager.Promise(function(e){t.storageManager.getStorage().getData(t.KEY,void 0,"",function(r){var n=r||t.settingsFile.getSettingsFile().EventServer;e(n)})})},t}();i.registerClass("Abra:ServerUrlGetter",I,"PromiseManager, Abra:StorageManager, SettingsFile");var T=function(){function t(t){this.walkmeCommonUtils=t}return t.prototype.stringify=function(t){return this.walkmeCommonUtils.toJSON(t)},t.prototype.parse=function(t){return this.walkmeCommonUtils.secureEvalJSON(t)},t}();i.registerClass("Abra:JSON",T,"CommonUtils");var N=function(){function t(t,e,r,n,i){var o=this;this.storageManager=t,this.promiseManager=e,this.guidGenerator=r,this.sessionPersister=n,this.jQuery=i,this.libCallback=function(){return o.createNew()}}return t.prototype.load=function(){if(this.jQuery(A.WalkmeInternals).on(t.LibNewSessionEventName,this.libCallback),this.sessionPersister.isNewSession())return this.promiseManager.resolve(this.createNew());return this.getOrCreate()},t.prototype.unload=function(){this.jQuery(A.WalkmeInternals).off(t.LibNewSessionEventName,this.libCallback)},t.prototype.getOrCreate=function(){var t=this;return this.get().then(function(e){return e||t.createNew()})},t.prototype.get=function(){var e=this;return new this.promiseManager.Promise(function(r){e.storageManager.getStorage().getData(t.WindowIdStorageKey,void 0,void 0,function(t){r(t)})})},t.prototype.createNew=function(){var e=this.guidGenerator.generateGuid(!0);return this.storageManager.getStorage().saveData(t.WindowIdStorageKey,e),e},t.WindowIdStorageKey="__WMML_SESSION_ID__",t.LibNewSessionEventName="NewSession",t}();i.registerClass("Abra:WindowIdGetter",N,"Abra:StorageManager, PromiseManager, GuidGenerator, SessionPersister, wmjQuery");var A;!function(t){t.App={name:"abra",version:"5.0.0-beta3",rev:"6d81c99"},t.WalkmeInternals=window._walkmeInternals,t.AbraObject={version:t.App.version,rev:t.App.rev};function e(e){t.WalkmeInternals.abraState=e}t.setState=e;function r(e){t.AbraObject.errorInfo=e}t.setErrorInfo=r;function n(t){try{o(t),t.get("EventsListener").once("BeforeWalkmeReady",function(){var e=t.get("HostData");!e.isIE(8,"gte")&&e.isIE()||a(t)})}catch(n){e("errored"),r({error:n})}return null}t.start=n;function o(t){var e={initializationData:void 0};t.get("EventsListener").once("PageVisitIdUpdated",function(t,r){e.initializationData=r}),t.register("Abra:PageLoadSync").asInstance(e)}function a(n){var o,a=M.registerLogger(n),s=a.pref("load");try{if(t.WalkmeInternals.abra)return a.error("Abra was already loaded");e("preload"),t.WalkmeInternals.abra=t.AbraObject,o="load abra to ctx",i.load(n),n.get("EventsTrigger").sync("Abra:CtxLoaded"),o="load abra",n.get("Abra:Loader").load().then(function(t){t&&s.stop()})}catch(u){a.error("could not "+o,u),e("errored"),r({error:u})}}}(A||(A={})),e.exports=A;var C=function(){function t(t,e,r,n,i,o,a,s,u,c,d,f,l,h,p){this.logger=t,this.storageSynchronizer=e,this.serverUrlGetter=r,this.eventsSenderWrapper=n,this.eventsTrigger=i,this.jQuery=o,this.userEventCreator=a,this.idleEventCreator=s,this.windowIdGetter=u,this.errorUtils=c,this.frameBinder=d,this.pageInfoCreator=f,this.timingUtils=l,this.eventsListener=h,this.userEventListener=p,this.isUnloaded=!1}return t.prototype.load=function(){var t=this;return A.setState("loading"),this.storageSynchronizer.getStorageKey()["catch"](this.errorUtils.wrapCatch("get storage key")).then(function(e){return t.serverUrlGetter.get()["catch"](t.errorUtils.wrapCatch("get host")).then(function(r){return t.windowIdGetter.load()["catch"](t.errorUtils.wrapCatch("get winId")).then(function(){return t.errorUtils.wrapCall(function(){return t.frameBinder.load()},"bind frames"),t.errorUtils.wrapCall(function(){return t.eventsSenderWrapper.init(e,r)},"load sender"),t.errorUtils.wrapCall(function(){return t.userEventCreator.load()},"load event creator"),t.errorUtils.wrapCall(function(){return t.idleEventCreator.load()},"load idle event creator"),t.errorUtils.wrapCall(function(){return t.pageInfoCreator.load()},"load page info creator"),A.WalkmeInternals.removeAbra=function(e){t.unload({message:e||"no error provided"},{failPoint:"API call"})},t.eventsListener.once("removeWalkMe",function(){t.unload({message:"removeWalkMe"},void 0,!0)}),A.setState("loaded"),t.eventsTrigger.sync("Abra:Ready"),!0})})})["catch"](function(e){return t.unload(e),!1})},t.prototype.unload=function(t,e,r){if(void 0===r&&(r=!1),this.isUnloaded===!0)return;A.setState("removing"),A.WalkmeInternals.removeAbra=void 0,this.isUnloaded=!0,e=e?this.jQuery.extend(t.extraData||{},e):t.extraData||{},A.setErrorInfo({error:t,extraData:e});try{this.userEventListener.disable(),this.eventsSenderWrapper.disable(),this.timingUtils.disable(),this.windowIdGetter.unload(),this.userEventCreator.unload(),this.idleEventCreator.unload(),this.pageInfoCreator.unload(),A.setState("removed")}catch(n){this.logger.warn("error unloading abra",n)}e.failPoint=e.failPoint||"unknown reason",r||this.logger.error("abra unload: "+e.failPoint,t,e)},t}();i.registerClass("Abra:Loader",C,"Abra:Logger, Abra:StorageSynchronizer, Abra:ServerUrlGetter, Abra:EventsSenderWrapper, EventsTrigger, wmjQuery, Abra:UserEventCreator, Abra:IdleEventCreator, Abra:WindowIdGetter, Abra:ErrorUtils, Abra:FrameBinder, Abra:PageInfoCreator, Abra:TimingUtils, EventsListener, Abra:UserEventListener");var x=function(){function t(t){this.customerLog=t.wrapCustomerLog("Abra")}return t.prototype.error=function(t,e){this.logError(1,t,e)},t.prototype.warn=function(t,e){this.logError(2,t,e)},t.prototype.info=function(t){this.log(3,t)},t.prototype.debug=function(t){this.log(4,t)},t.prototype.logError=function(t,e,r){var n=r&&r.stack||(r&&r.length?r:"");this.customerLog(e+": "+n,t)},t.prototype.log=function(t,e){this.customerLog(e,t)},t}(),M=function(t){n(e,t);function e(e,r,n){t.call(this,n),this.serverLogger=e,this.performanceLogger=r}return e.registerLogger=function(t){var r="Abra:Logger";return t.has(r)||t.register(r).asCtor(e).dependencies("EventSenderErrorLogger, PerformanceBILogger, Logger"),t.get(r)},e.prototype.error=function(e,r,n){void 0===n&&(n={}),n.app=A.App.name,n.version=A.App.version,n.rev=A.App.rev,r&&(r.message||r.stack?(n.errorMsg=r.message,n.stack=r.stack):"string"==typeof r&&(n.errorMsg=r)),void 0===n.errorMsg&&(n.errorMsg='could not get errorMsg, error type is "'+typeof r+'"'),this.serverLogger.logError(e,n),t.prototype.error.call(this,e,r)},e.prototype.pref=function(t){return this.performanceLogger.measure(A.App.name+"-"+t)},e}(x),L=function(){function t(t){this.storage=t}return t.prototype.getData=function(t,e,r,n){this.storage.sessionGetData(t,e,r,n)},t.prototype.saveData=function(t,e){this.storage.sessionSetData(t,e)},t}(),R=function(){function t(){}return t.prototype.getData=function(t,e,r,n){n(sessionStorage[t]||e)},t.prototype.saveData=function(t,e){sessionStorage[t]=e},t}(),k=function(){function t(t){this.walkme=t,this.isCrossDomain()?this.storage=new L(this.walkme.getClientStorageManager()):this.storage=new R}return t.prototype.isCrossDomain=function(){var t=this.walkme.getStorageType();if(t.indexOf("crossdomain")!==-1)return!0;return!1},t.prototype.getStorage=function(){return this.storage},t}();i.registerClass("Abra:StorageManager",k,"Abra:Walkme");var P=function(){function t(t,e){this.promiseManager=t,this.storageManager=e}return t.prototype.getStorageKey=function(){var e=this;return new this.promiseManager.Promise(function(r){S.isIframe()?e.storageManager.getStorage().getData(t.StorageNumberKey,1,void 0,function(n){e.storageManager.getStorage().saveData(t.StorageNumberKey,Number(n)+1),r("wm-dc-storage"+n)}):r("wm-dc-storage0")})},t.StorageNumberKey="__WMML_STORAGE_NUM__",t}();i.registerClass("Abra:StorageSynchronizer",P,"PromiseManager, Abra:StorageManager");var U=function(){function t(){}return t.Value={element:{name:100,title:120,"class":500,id:130,autoQuery:500,xpath:1e3,pfText:100,type:40,text:500,value:120},ctx:{topTitle:512,referrer:500}},t}(),j=function(){function t(){this.buffer=[]}return t.prototype.append=function(t){this.buffer.push(t)},t.prototype.toString=function(){var t=this.buffer.join("");return t},t}(),F=function(){function t(){}return t.escapeSurrogatePairs=function(e){if(!t.containsSurrogatePair(e))return e;for(var r=-1,n=e.length,i=new j;++r<n;){var o=e.charAt(r);/[\uD800-\uDBFF]/.test(o)||/[\uDC00-\uDFFF]/.test(o)?i.append(t.escapeChar(o)):i.append(o)}return i.toString()},t.containsSurrogatePair=function(t){var e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;return null!=e.exec(t)},t.escapeChar=function(t){var e=t.charCodeAt(0),r=e.toString(16).toUpperCase(),n=r.length>2,i="\\"+(n?"u":"x")+("0000"+r).slice(n?-4:-2);return i},t}(),B=function(){function t(t){this.privacyUtils=t}return t.substringObject=function(e,r){if(e&&r&&"object"==typeof r)for(var n in e)if(e.hasOwnProperty(n)&&r.hasOwnProperty(n)){var i=typeof r[n];"string"===i&&"number"==typeof e[n]?r[n]=r[n].substring(0,e[n]):"object"===i&&(r[n]=t.substringObject(e[n],r[n]))}return r},t.trim=function(t,e){if(void 0!==e)return t.replace(/^[\s\uFEFF\xA0]+/g,"").substr(0,e).replace(/[\s\uFEFF\xA0]+$/g,"");return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},t.removeExtraSpaces=function(t){var e=/\s+/g;return t.replace(e," ").trim()},t.extractElementText=function(e){var r=e.nodeValue;return r&&(r=t.removeExtraSpaces(r),r=F.escapeSurrogatePairs(r)),r},t.prototype.collectText=function(t,e){var r={textBuffer:[],totalLength:0,active:!0};this.collectTextInner(t,e,r);var n=r.textBuffer.join("\n");return void 0!==e.maxLength&&n.length>e.maxLength&&(n=n.substring(0,e.maxLength)),n},t.prototype.extractFirstOccuringText=function(t,e){var r=this.collectText(t[0],{collectFirstOnly:!0,textFilterCb:e,maxNodeTextLength:70});return r},t.prototype.collectTextInner=function(e,r,n){if(e&&this.privacyUtils.isElementSafe(e)){if(s.isElementTextNode(e)){var i=t.extractElementText(e);if(i&&0!==i.length){void 0!==r.maxNodeTextLength&&(i=i.substring(0,r.maxNodeTextLength));var o=!1;void 0!==r.textFilterCb&&(o=r.textFilterCb(i,e.nodeValue)!==!0),o===!1&&(n.textBuffer.push(i),n.totalLength+=i.length,(void 0!==r.maxLength&&n.totalLength>=r.maxLength||r.collectFirstOnly===!0)&&(n.active=!1))}}var a=!1;if(r.includeNonVisual!==!0&&(a=s.isVisualDomElement(e)===!1),e.childNodes&&n.active&&a===!1)for(var u=0,c=e.childNodes.length;u<c&&n.active;u++)this.collectTextInner(e.childNodes[u],r,n)}},t}();i.registerClass("Abra:TextUtils",B,"Abra:PrivacyUtils");var V=function(){function t(t){this.timingUtils=t}return t.prototype.create=function(t,e){return new z(this.timingUtils,t,e)},t}();i.registerClass("Abra:ReusableTimerFactory",V,"Abra:TimingUtils");var z=function(){function t(t,e,r){this.timingUtils=t,this.callback=e,this.delay=r}return t.prototype.clear=function(){this.timerHandle&&(this.timingUtils.clearTimeout(this.timerHandle),this.timerHandle=void 0)},t.prototype.set=function(){this.clear(),this.timerHandle=this.timingUtils.setTimeout(this.callback,this.delay)},t}(),W=function(){function t(t,e){this.timerManager=t,this.errorUtils=e,this.enabled=!0}return t.prototype.clearTimeout=function(t){t&&t.clear()},t.prototype.disable=function(){this.enabled=!1},t.prototype.setTimeout=function(t,e){var r=this;if(this.enabled)return this.timerManager.libSetTimeout(function(){return r.enabled&&r.errorUtils.wrapCallAndLog(t,"timeout")},e)},t.now=function(){return(new Date).getTime()},t.getTimingData=function(){var t=window.performance,e=t&&t.timing;if(e){var r=e.navigationStart,n=e.loadEventEnd;return{navStart:r,loadTime:n-r}}},t}();i.registerClass("Abra:TimingUtils",W,"TimerManager, Abra:ErrorUtils");var H;!function(t){t[t.Element=1]="Element",t[t.Text=3]="Text",t[t.CDATASection=4]="CDATASection",t[t.Document=10]="Document"}(H||(H={}))},{"wm-element-description-generator":3,"wm-simple-nlp":5,"wm-string-obfuscation/encoder.js":6}],3:[function(t,e,r){!function(t,r){"object"==typeof e&&"object"==typeof e.exports?e.exports=r:t.elementDescriptionGenerator=r}(this,function(e,r,n,i,o,a,s){var u=this;u.generateElementJson=l,u.validateElementDescriptionMaxLength=E;var c=4e3,d=3800,f=t("wm-query-generator")(e);function l(t,o){try{var u,d,l=n.getLibWrappedWindow(t),p=t.ownerDocument,g=h(t),_=v(t,!1),E=g+_,O=s?null:e(t).offset();null!=O&&s!==!0&&(u=O.left,d=O.top);var S=s?0:p.body.clientWidth,D=s?0:p.body.clientHeight,I=e(t).attr("id"),T=e(t).attr("name"),N=s?0:e(t).width(),A=s?0:e(t).height(),C=e(t).attr("class"),x=l._walkMe.getElementTextArray(t,a);x=x.length>0?b(x):null;var M={hostname:t.ownerDocument.location.hostname,pathname:t.ownerDocument.location.pathname},L=s?void 0:l._walkMe.getCenteredElement(t),R=L?L.offset().left:0,k=s?0:e(t).offset().left-R,P=L?L.width():S,U={elementXpath:E,elementAbsX:u,elementAbsY:d,bodyWidth:S,bodyHeight:D,elementId:I,elementName:T,elementHeight:A,elementWidth:N,elementClass:C,elementText:"",elementLocation:M,relativeLeft:k,centeredElementWidth:P,textArray:x};if(o.dontRecordAutoQuery||(U.autoQuery=f.generate(e(t))),t.attributes)for(var j=0;j<t.attributes.length;j++){var F=t.attributes[j];y(F.value)||(U[F.localName]=F.value)}var B=i.stringify(U);for(B=m(t,B);B.length>c;){if(!w(U))return null;B=i.stringify(U)}return B}catch(V){r.ReportError(V)}}function h(t){var e=t.ownerDocument;if(e==o.get())return"";_iframeXpath="";var r=n.getLibWindow(t).document;p(e,r,"",0,0);var i=_iframeXpath;return _iframeXpath="@UNINITIALIZED@",i}function p(t,r,n,i,o){for(var a=g(r),u=0,c=a.length;u<c;u++)try{var d=a[u],f=d.contentDocument||d.contentWindow.document;if(f===t){void 0==n?n="":""==n?_iframeXpath=v(d,!1):_iframeXpath=n+v(d,!1);var l=s?null:e(d).offset();null!=l&&s!==!0&&(_iframeXpos=i+l.left,_iframeYpos=o+l.top);break}}catch(h){}if(""==_iframeXpath)for(var u=0,c=a.length;u<c;u++)try{var d=a[u],f=d.contentDocument||d.contentWindow.document,_=v(d,!1);void 0==_&&(_="");var b=n+_,l=s?null:e(d).offset(),y=0,m=0;null!=l&&s!==!0&&(y=i+l.left,m=o+l.top),p(t,f,b,y,m)}catch(h){}}function g(t){for(var e=t.getElementsByTagName("iframe"),r=t.getElementsByTagName("frame"),n=new Array,i=0;i<e.length;i++)n.push(e[i]);for(var i=0;i<r.length;i++)n.push(r[i]);return n}function v(t,r){if(t&&"use"==r&&e(t).attr("id"))return"//"+t.localName.toLowerCase()+"[@id='"+e(t).attr("id")+"']";return _(t)}function _(t,r){for(var n=[];t&&1==t.nodeType;t=t.parentNode){for(var i=0,o=t.previousSibling;o;o=o.previousSibling)o.localName==t.localName&&++i;if(t&&"use"==r&&e(t).attr("id"))return"//"+t.localName.toLowerCase()+"[@id='"+e(t).attr("id")+"']/"+n.join("/");var a=(t.localName||t.nodeName).toLowerCase(),s="["+(i+1)+"]";n.splice(0,0,a+s)}return n.length?"/"+n.join("/"):null}function b(t){try{t.toJSON=null;var e=i.stringify(t);return i.parse(e)}catch(n){r.ReportError(n)}}function y(t){var e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;return null!=e.exec(t)}function m(t,e){var r=n.getLibWrappedWindow(t)._walkmeInternals;return r&&r.extendElementDescription&&(e=r.extendElementDescription(t,e)),e}function w(t){var e=["elementXpath","elementAbsX","elementAbsY","bodyWidth","bodyHeight","elementId","elementName","elementHeight","elementWidth","elementClass","elementText","elementLocation","relativeLeft","centeredElementWidth","textArray"],r=0,n=null;for(var i in t)e.indexOf(i)==-1&&t[i]&&t[i].length>r&&(r=t[i].length,n=i);if(null==n)return!1;return delete t[n]}function E(t){var e=i.stringify(t.IdentifySettings.ElementDescription),r=e.replace(/'/g,"\\u0027").replace(/</g,"\\u003c").replace(/>/g,"\\u003e");return r.length<=d}})},{"wm-query-generator":4}],4:[function(t,e,r){!function(t,r){"object"==typeof e&&"object"==typeof e.exports?e.exports=r:t.queryGenerator=r}(this,function(e){var r;return function(r){var n=["DIV","SPAN","HTML","BODY","TR","TD"],i=["'"],o=t("wm-simple-nlp");o.setJQuery(e);function a(t){var r=u(t),n=[t[0]].concat(r),i=e.map(n,h),o=c(i,function(t){return null!==t}),a=f(o);a=a.reverse();var l=e.map(a,d),p=l.join(" ");return s(p)?p:void 0}r.generate=a;function s(t){if(!t||!t.length)return!1;for(var e=0;e<i.length;e++)if(t.indexOf(i[e])>=0)return!1;return!0}function u(t,e){for(var r=t[0].parentNode,n=e&&e[0]&&e[0].parentNode,i=[];r&&1==r.nodeType&&r!=n;r=r.parentNode)i.push(r);return i}function c(t,e){for(var r=[],n=0;n<t.length;++n){var i=t[n];e(i)&&r.push(i)}return r}function d(t){var e=t.tagName;return t.id&&(e+='[id="'+t.id+'"]'),e}function f(t){for(var e=t.length,r=0;r<t.length;r++){var n=t[r];if(n.id){e=r;break}}var i=t.slice(0,e+1);return i}function l(t){if(t.attr("id")){var e=p(t.attr("id"));if(o.isPhraseHuman(e))return e}return null}function h(t,r){var i=e(t),o=l(i),a=i[0].tagName,s=e.inArray(a,n)>=0,u=0===r,c=u||o||!s;if(!c)return null;var d={tagName:a,id:o};return d}function p(t){var e=t.replace(".","\\.").replace("@","\\@");return e}}(r||(r={})),r})},{"wm-simple-nlp":5}],5:[function(t,e,r){/*! wm-simple-nlp - v1.0.8 - 2016-09-13
* Copyright (c) 2016 WalkMe; Licensed ISC */
var n;!function(t){var e,r;!function(t){t[t.Digit=0]="Digit",t[t.Alphabet=1]="Alphabet",t[t.Other=2]="Other"}(r||(r={}));function n(t){e=t}t.setJQuery=n;function i(t){var e=new c,r=new a(t),n=e.isHuman(r);return n}t.isPhraseHuman=i;function o(t){if(0===t.search("[a-zA-Z]"))return r.Alphabet;if(0===t.search("[0-9]"))return r.Digit;return r.Other}var a=function(){function t(t){this.words=[],this.raw=t,this.buildWords()}return t.prototype.buildWords=function(){this.splitCategories()},t.prototype.addWord=function(t){var n=this;if(t=e.trim(t),!t)return;if(o(t[0])!==r.Alphabet)this.words.push(t);else{var i=this.splitCamelCase(t);e.each(i,function(t,e){return n.words.push(e.toLowerCase())})}},t.prototype.splitCamelCase=function(t){var e=t.replace(/([a-z](?=[A-Z]))/g,"$1 "),r=e.split(" ");return r},t.prototype.splitCategories=function(){for(var t,e=o(this.raw[0]),r=0,n=0;n<this.raw.length;n++){var i=this.raw[n],a=o(i);a!=e&&(t=this.raw.substring(n,r),this.addWord(t),r=n,e=a)}t=this.raw.substring(r,n+1),this.addWord(t)},t}();t.Sentence=a;var s=5,u=function(){function t(){var t=this;this.WHITE_LIST=["html","css","btn","js","http","a"],this.VOWELS="aeiou",this.pointers={},this.pointers[r.Alphabet]=function(e){return t.alphabetPred(e)},this.pointers[r.Digit]=function(e){return t.numberPred(e)},this.pointers[r.Other]=function(e){return t.otherPred(e)}}return t.prototype.numberPred=function(t){return!1},t.prototype.otherPred=function(t){return!0},t.prototype.alphabetPred=function(t){for(var e=0,r=0;r<t.length;r++){var n=t[r];if(this.VOWELS.indexOf(n)==-1?e++:e=0,e>=s)return!1}return!0},t.prototype.isHuman=function(t){if(this.contains(this.WHITE_LIST,t))return!0;var e=o(t[0]),r=this.pointers[e],n=r(t);return n},t.prototype.contains=function(t,r){return e.inArray(r,t)!==-1},t}();t.WordClassifier=u;var c=function(){function t(){}return t.prototype.isHuman=function(t){if(t.raw.length<=2)return!1;if(this.isUrl(t))return!1;var r=new u,n=e.map(t.words,function(t,e){return r.isHuman(t)}),i=this.all(n);return i},t.prototype.all=function(t){for(var e=t.length-1;e>=0;e--)if(!t[e])return!1;return!0},t.prototype.isUrl=function(t){var e=0==t.raw.indexOf("/")||0==t.raw.indexOf("http");return e},t}();t.SentanceClassifier=c}(n||(n={})),e.exports=n},{}],6:[function(t,e,r){var n=t("./logic.js");function i(t){i.prototype.encode=function(e){var r=n.encode(t.stringify(e));return{_enc:r}}}e.exports={Encoder:i}},{"./logic.js":7}],7:[function(t,e,r){var n=31;function i(t){for(var e,r=[],i=t.length-1;i>=0;i--)e=t.charCodeAt(i),r.push(~(e&n)&n|e&~n);return String.fromCharCode.apply(null,r)}e.exports={decode:i,encode:i}},{}],8:[function(t,e,r){var n=t("wm-prelib-plugin-entry-manager").createPluginEntry;e.exports=n(function(e){var r=t("./wmPluginAbra.js").WmPluginAbra;e(new r)})},{"./wmPluginAbra.js":9,"wm-prelib-plugin-entry-manager":17}],9:[function(t,e,r){var n=t("wm-prelib-plugin-entry-manager").getCtx;function i(){this.run=e;function e(){return t("wm-abra-client-core").start(n())}}r.WmPluginAbra=i},{"wm-abra-client-core":2,"wm-prelib-plugin-entry-manager":17}],10:[function(t,e,r){(function(e){!function(){function e(r,n,i){function o(s,u){if(!n[s]){if(!r[s]){var c="function"==typeof t&&t;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var f=n[s]={exports:{}};r[s][0].call(f.exports,function(t){var e=r[s][1][t];return o(e||t)},f,f.exports,e,r,n,i)}return n[s].exports}for(var a="function"==typeof t&&t,s=0;s<i.length;s++)o(i[s]);return o}return e}()({1:[function(t,e,r){e.exports={sessionAttributes:function(t){return"/api/4.0/sessions/"+t+"/attributes"},recording_mode:"/api/4.0/recording/recording_mode",init:"/api/4.0/recording/init",record:"/api/4.0/r",recordJSON:"/api/4.0/r/json",recordOurError:"/api/4.0/recording/our_error",logOurError:"/api/4.0/recording/log_our_error"}},{}],2:[function(t,e,r){e.exports={development:"//backoffice.docker.localhost",test:"//backoffice.docker.localhost",staging:"//bo-staging.getjaco.com",production:"//bo.getjaco.com"}},{}],3:[function(t,e,r){e.exports={development:"http://recorder-api.docker.localhost",test:"http://recorder-api.docker.localhost",staging:"https://rapi-staging.getjaco.com",production:"https://rapi.getjaco.com"}},{}],4:[function(t,e,r){e.exports={development:"http://recorder-client.docker.localhost",test:"http://recorder-client.docker.localhost",staging:"https://recorder-assets-staging.getjaco.com",production:"https://recorder-assets.getjaco.com"}},{}],5:[function(t,e,r){var n=t(26);if(d()&&navigator&&navigator.userAgent)try{f();var i=t(117),o=t(118),a=window.JacoRecorder?window.JacoRecorder.q||window.JacoRecorder:[];window.JacoRecorder=new i(window,document,o),window.JacoRecorder.runQueuedMethods_(a,window.JacoRecorder)}catch(s){n.info("Error initializing JacoRecorder instance\t",s)}else window.JacoRecorder={init:function(){},startRecording:function(){},stopRecording:function(){},removeUserTracking:function(){},identify:function(){},trackEvent:function(){},push:function(){},state:{recordingDisabled:!0}};window.WalkMeInsightsAPI=window.JacoRecorder;function u(){try{return!!window.localStorage}catch(t){return!1}}function c(){return!!window.MutationObserver||!!Array.prototype.reduce}function d(){return c()&&u()&&l()}function f(){t(68).patch(),t(67).patch()}function l(){return!h()||h()&&!p()}function h(){return window!==window.top}function p(){try{return!!window.parent.JacoRecorder||!!window.parent.parent.JacoRecorder}catch(t){return!1}}},{117:117,118:118,26:26,67:67,68:68}],6:[function(t,e,r){var n=["\f","\n","\r","\t","\x0B"," "],i="0";function o(t){for(var e,r,n=t.length;n;e=Math.floor(Math.random()*n),r=t[--n],t[n]=t[e],t[e]=r);return t}function a(t){var e=s(t).split(""),r=o(e);return u(t,r)}function s(t){var e=n.join(""),r=new RegExp("["+e+"]","g");return t.replace(r,"")}function u(t,e){var r=0;return t.split("").map(function(t){return n.indexOf(t)>-1?t:e[r++]}).join("")}r.censorString=function(t){if(t)return a(t);return""},r.censorInput=function(t,e){t=t||"";var r="";return r="number"==e?new Array(t.length+1).join(i):t.split(" ").map(function(t){return new Array(t.length+1).join("?")}).join(" ")}},{}],7:[function(t,e,r){var n="***";function i(t,e,r){if(!e)return t;var i=new RegExp(e,"g");return t.replace(i,r||n)}e.exports=i},{}],8:[function(t,e,r){var n="__jaco_should_censor__";function i(t,e){t[n]=e}function o(t){return t[n]}r.mark=i,r.isCensored=o},{}],9:[function(t,e,r){var n=t(8),i=t(32).includes,o="text",a=["range","color","button","submit","date","time","checkbox","radio","select-one","select-multiple"],s="password",u=["input","textarea"];function c(t,e){if(!d(e))return!1;if(!m(t))return l(t,e);var r=f(t);if(void 0!==r)return r;return h(t,e)||p(t,e)||g(t,e)||v(t,e)||l(t,e)}function d(t){return t.enabled&&(t.classNames.length>0||t.tags.length>0||t.ids.length>0)}function f(t){return n.isCensored(t)}function l(t,e){var r=t.parentNode;if(r){var i=c(r,e);return n.mark(r,i),i}return!1}function h(t,e){return t.tagName&&i(e.tags,t.tagName.toLowerCase())}function p(t,e){if(!t.tagName||!i(u,t.tagName.toLowerCase()))return!1;var r=(_(t,"type")||o).toLowerCase(),n=i(a,r),c=i(s,r),d=e.isCensorInputContents;return!n&&(c||d)}function g(t,e){var r=t.id||"";return r.length>0&&e.ids.some(function(t){return r===t})}function v(t,e){var r=e.classNames;return r&&b(t,r)}function _(t,e){return t.getAttribute?t.getAttribute(e):void 0}function b(t,e){return t.classList?e.some(function(e){return t.classList.contains(e)}):y(t).split(" ").some(function(t){return e.indexOf(t)>-1})}function y(t){var e;return e="string"==typeof t.className?t.className:t.getAttribute("class"),e||""}function m(t){return t.getAttribute}e.exports=c},{32:32,8:8}],10:[function(t,e,r){var n="jaco-integration-script",i="data-state";r.JACO_INTEGRATION_SCRIPT_IDENTIFIER=n,r.JACO_INTEGRATION_SCRIPT_DATA_ATTRIBUTE=i},{}],11:[function(t,e,r){e.exports.assertIsFunction=function(t){if("function"!=typeof t)throw new TypeError("NOT A FUNCTION")}},{}],12:[function(t,e,r){var n=t(11).assertIsFunction,i=t(24).isObject;function o(t,e,r){var o,a,s,u,c,d,f,l=0,h=!1,p=!0;if(n(t),e=e<0?0:e,r===!0){var g=!0;p=!1}else i(r)&&(g=r.leading,h="maxWait"in r&&Math.max(+r.maxWait||0,e),p="trailing"in r?r.trailing:p);function v(){d&&clearTimeout(d),a&&clearTimeout(a),a=d=f=void 0}function _(){var r=e-(Date.now()-u);if(r<=0||r>e){a&&clearTimeout(a);var n=f;a=d=f=void 0,n&&(l=Date.now(),s=t.apply(c,o),d||a||(o=c=null))}else d=setTimeout(_,r)}function b(){d&&clearTimeout(d),a=d=f=void 0,(p||h!==e)&&(l=Date.now(),s=t.apply(c,o),d||a||(o=c=null))}function y(){if(o=arguments,u=Date.now(),c=this,f=p&&(d||!g),h===!1)var r=g&&!d;else{a||g||(l=u);var n=h-(u-l),i=n<=0||n>h;i?(a&&(a=clearTimeout(a)),l=u,s=t.apply(c,o)):a||(a=setTimeout(b,n))}return i&&d?d=clearTimeout(d):d||e===h||(d=setTimeout(_,e)),r&&(i=!0,s=t.apply(c,o)),!i||d||a||(o=c=null),s}return y.cancel=v,y}e.exports.debounce=o},{11:11,24:24}],13:[function(t,e,r){function n(t){return!!t.MutationObserver}e.exports=n},{}],14:[function(t,e,r){var n=t(15).getElementSelector,i=t(7),o=t(84);function a(t){var e=t.className,r=e&&void 0!==e.baseVal;return r?e.baseVal:e}function s(t,e,r,s,u){var c,d=t.target,f=a(d),l="";d.childNodes.length>0&&3===d.childNodes[0].nodeType&&(l=d.childNodes[0].textContent),("INPUT"===d.tagName&&"button"===d.type||"reset"===d.type||"submit"===d.type)&&(l=d.value),l=e?"CENSORED":l,l=l||"",o(l)&&(l=l.slice(0,1e4)+"...");var h=n(d);return c=[t.which,t.clientX,t.clientY,t.screenX,t.screenY,t.pageX,t.pageY,r,d.id,d.tagName,d.href,l,f,h,e,i(location.href,s.urlRegex,s.urlReplaceText),u]}e.exports.getClickEventData=s},{15:15,7:7,84:84}],15:[function(t,e,r){var n=t(25);function i(t){if(null===o(t))return"";var e="";t.id&&(e="#"+t.id);var r=t.getAttribute("class");return r&&(e+="."+r.split(" ").join(".")),i(o(t))+" "+t.tagName.toLowerCase()+e}function o(t){var e=t.parentElement;return!e&&n(t)&&(e=t.parentNode),e}e.exports.getElementSelector=i},{25:25}],16:[function(t,e,r){function n(t){return[t.clientX,t.clientY,t.screenX,t.screenY,t.pageX,t.pageY]}e.exports.getMousePositionData=n},{}],17:[function(t,e,r){var n=t(133).Serializer,i=[n.Action.ERROR_OUR],o=0;function a(t){return i.indexOf(t)>-1?o:o++}e.exports=function(t){return a(t)}},{133:133}],18:[function(t,e,r){var n=0;function i(){var t=window.performance,e=Math.round(1e3*(t.timing.navigationStart+t.now()));return e<=n&&(e=n+1),n=e,e}e.exports.getTimestamp=i},{}],19:[function(t,e,r){var n=t(15).getElementSelector,i=t(7);function o(t){var e=t.className,r=e&&void 0!==e.baseVal;return r?e.baseVal:e}function a(t){var e=o(t),r=n(t),i="";return t.childNodes.length>0&&3===t.childNodes[0].nodeType&&(i=t.childNodes[0].textContent),{targetId:t.id,targetClassName:e,targetTagName:t.tagName,targetText:i,elementSelector:r}}function s(t){var e=a(t.target);return{clientX:t.clientX,clientY:t.clientY,force:t.force,identifier:t.identifier,pageX:t.pageX,pageY:t.pageY,radiusX:t.radiusX,radiusY:t.radiusY,rotationAngle:t.rotationAngle,screenX:t.screenX,screenY:t.screenY,targetId:e.targetId,targetClassName:e.targetClassName,targetTagName:e.targetTagName,targetText:e.targetText,elementSelector:e.elementSelector}}function u(t,e,r,n){var o,u=t.target,c=a(u),d=t.touches[0]||t.changedTouches[0],f=Array.prototype.slice.call(t.touches).map(s),l=Array.prototype.slice.call(t.changedTouches).map(s),h=e&&c.targetText?"CENSORED":c.targetText;return o=[t.which,f,l,d.clientX,d.clientY,d.screenX,d.screenY,d.pageX,d.pageY,r,c.targetId,c.targetTagName,t.target.href,h,c.targetClassName,c.elementSelector,e,i(location.href,n.urlRegex,n.urlReplaceText)]}e.exports.getTouchEventData=u},{15:15,7:7}],20:[function(t,e,r){var n=t(32),i=t(133).Serializer.Action,o=[i.MOUSE_CLICK,i.INPUT,i.URL_CHANGED,i.CUSTOM_EVENT,i.ERROR,i.ERROR_OUR];function a(){return n.values(i).filter(function(t){return!n.includes(o,t)})}e.exports=a},{133:133,32:32}],21:[function(t,e,r){e.exports.getGUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,r="x"==t?e:3&e|8;return r.toString(16)})}},{}],22:[function(t,e,r){var n={}.hasOwnProperty;function i(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t}e.exports.extend=i},{}],23:[function(t,e,r){function n(t){return"[object Array]"===Object.prototype.toString.call(t)}e.exports=n},{}],24:[function(t,e,r){function n(t){var e=typeof t;return"function"==e||t&&"object"==e||!1}e.exports.isObject=n},{}],25:[function(t,e,r){function n(t){return null!==t.ownerSVGElement&&void 0!==t.ownerSVGElement||t.nodeName&&"svg"===t.nodeName.toLowerCase()}e.exports=n},{}],26:[function(t,e,r){var n={log:function(){i("log",arguments)},info:function(){i("info",arguments)},error:function(){i("error",arguments)}};function i(t,e){var r=Array().slice.call(e),n=Function.prototype.bind.call(console[t],console);n.apply(console,r)}e.exports=n},{}],27:[function(t,e,r){var n=t(33);function i(t,e){return t.length===e.length&&n(t,e).length===t.length}e.exports=i},{33:33}],28:[function(t,e,r){function n(t){return function(){return t}}e.exports=n},{}],29:[function(t,e,r){function n(t){return 0===t.length}e.exports=n},{}],30:[function(t,e,r){function n(t){return Array.prototype.concat.apply([],t)}e.exports=n},{}],31:[function(t,e,r){function n(t,e){return t.indexOf(e)>-1}e.exports=n},{}],32:[function(t,e,r){e.exports={empty:t(29),flatten:t(30),includes:t(31),keys:t(34),random:t(35),uniq:t(38),values:t(39),intersection:t(33),constant:t(28),reduce:t(36),some:t(37),areArraysEqual:t(27)}},{27:27,28:28,29:29,30:30,31:31,33:33,34:34,35:35,36:36,37:37,38:38,39:39}],33:[function(t,e,r){var n=t(31);function i(t,e){return t.filter(function(t){return n(e,t)})}e.exports=i},{31:31}],34:[function(t,e,r){var n=t(24).isObject;function i(t){return n(t)?Object.keys(t):[]}e.exports=i},{24:24}],35:[function(t,e,r){function n(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t}e.exports=n},{}],36:[function(t,e,r){function n(t,e,r){for(var n=void 0===r?void 0:r,i=0;i<t.length;i++)n=void 0!==n?e(n,t[i],i,t):t[i];return n}e.exports=n},{}],37:[function(t,e,r){function n(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return!0;return!1}e.exports=n},{}],38:[function(t,e,r){function n(t){return t.filter(function(t,e,r){return r.indexOf(t)===e})}e.exports=n},{}],39:[function(t,e,r){var n=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable);function i(t){for(var e=Object.keys(t).filter(function(e){return n(t,e)}),r=e.length,i=new Array(r),o=0;o<r;++o)i[o]=t[e[o]];return i}e.exports=i},{}],40:[function(t,e,r){function n(t,e){var r,n="NOT A FUNCTION";if("function"!=typeof e){if("function"!=typeof t)throw new TypeError(n);var i=t;t=e,e=i}return function(){return--t>0?r=e.apply(this,arguments):e=null,r}}function i(t){return n(t,2)}e.exports.once=i},{}],41:[function(t,e,r){function n(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat.apply(e,arguments))}}e.exports=n},{}],42:[function(t,e,r){var n="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:window;e.exports=n},{}],43:[function(t,e,r){var n=t(2).production;function i(t){var e="https";return e+":"+n+"/backoffice/sessions/"+t}r.get=i},{2:2}],44:[function(t,e,r){var n=t(11).assertIsFunction,i=t(24).isObject,o=t(12).debounce,a={leading:!1,maxWait:0,trailing:!1};function s(t,e,r){var s=!0,u=!0;return n(t),r===!1?s=!1:i(r)&&(s="leading"in r?!!r.leading:s,u="trailing"in r?!!r.trailing:u),a.leading=s,a.maxWait=+e,a.trailing=u,o(t,e,a)}e.exports.throttle=s},{11:11,12:12,24:24}],45:[function(t,e,r){var n=t(3).production,i=t(42),o="";function a(t){return(new Date).getTime()-t}function s(t,e,r){var n=a(e),i=new Error(t);return i.timeElapsed=n,i.requestBody=r,i}function u(t,e,r){var n,i=new XMLHttpRequest,o=(new Date).getTime();return i.open(t,e,!0),i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),i.onload=function(){f(i,r)},i.onerror=function(t){var i="network error for path: "+e,a=s(i,o,n);l(e,t,a,r)},i.sendRequest=function(t){n=t,this.send(t)},i}function c(t,e,r){var n=new XDomainRequest,i=(new Date).getTime();return e=e.replace("http:","").replace("https:",""),n.open(t,e),n.onprogress=function(){},n.onload=function(){n.status=200,f(n,r)},n.onerror=function(t){var n="network error for path: "+e,o=s(n,i);l(e,t,o,r)},n.sendRequest=function(t){setTimeout(function(){n.send(t)},0)},n}function d(t,e,r){return i.XDomainRequest?c(t,e,r):u(t,e,r)}function f(t,e){var r=t.status;return 200===t.status?"Unauthorized request"===t.responseText?e({status:403}):e(null,t.responseText):e(429===r?{status:429}:t)}function l(t,e,r,n){return e.preventDefault(),n(r)}function h(t,e,r,i){i=i||b;var a=o?o:n,s=d(t,a+e,i);return s.sendRequest(r)}function p(t,e){return h("GET",t,null,e)}function g(t,e,r){h("POST",t,e,r)}function v(t,e){if(navigator&&navigator.sendBeacon){var r=o?o:n;navigator.sendBeacon(r+t,e)}}function _(t){t&&(o=t)}function b(){}e.exports={getRequest:p,postRequest:g,beaconRequest:v,updateRapiUrl:_}},{3:3,42:42}],46:[function(t,e,r){var n=arguments[3],i=arguments[4],o=arguments[5],a=JSON.stringify;e.exports=function(t,e){for(var r,s=Object.keys(o),u=0,c=s.length;u<c;u++){var d=s[u],f=o[d].exports;if(f===t){r=d;break}}if(!r){r=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var l={},u=0,c=s.length;u<c;u++){var d=s[u];l[d]=d}i[r]=["function(require,module,exports){"+t+"(self); }",l]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),p={};p[r]=r,i[h]=["function(require,module,exports){var f = require("+a(r)+");(f.default ? f.default : f)(self);}",p];var g={};v(h);function v(t){g[t]=!0;for(var e in i[t][1]){var r=i[t][1][e];g[r]||v(r)}}var _="("+n+")({"+Object.keys(g).map(function(t){return a(t)+":["+i[t][0]+","+a(i[t][1])+"]"}).join(",")+"},{},["+a(h)+"])",b=window.URL||window.webkitURL||window.mozURL||window.msURL,y=new Blob([_],{type:"text/javascript"});if(e&&e.bare)return y;var m=b.createObjectURL(y),w=new Worker(m);return w.objectURL=m,w}},{}],47:[function(t,e,r){var n=t(52),i=t(53),o=t(50),a=t(64),s=t(54),u=t(63),c=t(56),d=t(58),f=t(62),l=t(65),h=t(61),p=t(55),g=t(57),v=t(51),_=t(25),b={};b[t(132).Serializer.DOMNodeType.DOCUMENT_NODE]=n,b[t(132).Serializer.DOMNodeType.DOCUMENT_FRAGMENT_NODE]=v,b[t(132).Serializer.DOMNodeType.DOCUMENT_TYPE_NODE]=i,b[t(132).Serializer.DOMNodeType.COMMENT_NODE]=o,b[t(132).Serializer.DOMNodeType.TEXT_NODE]=a,e.exports=function(t){var e;return e=b[t.nodeType]?b[t.nodeType]:_(t)?u:y("img",t)?c:y("link",t)?d:y("style",t)?f:y("video",t)?l:y("source",t)?h:y("iframe",t)?p:y("input",t)||y("select",t)?g:s};function y(t,e){return e.tagName.toLowerCase()===t}},{132:132,25:25,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,61:61,62:62,63:63,64:64,65:65}],48:[function(t,e,r){var n="__jaco_node_map_id__",i=1;function o(){}o.prototype.getOrSet=function(t){return o.hasId(t)||o.set(t),o.get(t)},o.set=function(t){t[n]=i++},o.get=function(t){if(!t)return null;return t[n]},o.hasId=function(t){return void 0!=t[n]},o.unset=function(t){t[n]=void 0},e.exports=o},{}],49:[function(t,e,r){var n=t(48);function i(t){t=t||{},this.nodes={},this.values={},this.nodeId=new n,this.onNodeAdd=t.onNodeAdd?t.onNodeAdd:function(){},this.onNodeRemove=t.onNodeRemove?t.onNodeRemove:function(){}}i.prototype.set=function(t,e,r){var n=this.nodeId.getOrSet(t);return this.nodes[n]=t,this.values[n]=e,r&&o(this.onNodeAdd,t),n},i.prototype.get=function(t){var e=this.nodeId.getOrSet(t);return this.values[e]},i.prototype.getById=function(t){return this.values[t]},i.prototype.has=function(t){return this.nodeId.getOrSet(t)in this.nodes},i.prototype.remove=function(t,e){e&&o(this.onNodeRemove,t);var r=this.nodeId.getOrSet(t);this.nodes[r]=void 0,this.values[r]=void 0},i.prototype.keys=function(){for(var t=[],e=this,r=Object.keys(this.nodes),n=0,i=r.length;n<i;n++){var o=r[n],a=e.nodes[o];a&&t.push(a)}return t},i.prototype.clear=function(){this.nodes=[],this.values=[],this.nodeId=new n};function o(t){var e=Array.prototype.slice.call(arguments,1);setTimeout(function(){t.apply(null,e)},0)}e.exports=i},{48:48}],50:[function(t,e,r){var n=t(59),i=t(22).extend,o={};i(o,n),o.type=t(132).Serializer.DOMNodeType.COMMENT_NODE,o._getNodeData=function(t){return[""]},e.exports=o},{132:132,22:22,59:59}],51:[function(t,e,r){var n=t(59),i=t(22).extend,o={};i(o,n),o.type=t(132).Serializer.DOMNodeType.DOCUMENT_FRAGMENT_NODE,e.exports=o},{132:132,22:22,59:59}],52:[function(t,e,r){var n=t(59),i=t(22).extend,o={};i(o,n),o.type=t(132).Serializer.DOMNodeType.DOCUMENT_NODE,o._getNodeData=function(t){return[t.URL,t.alinkColor,t.baseURI,t.bgColor,t.characterSet,t.charset,t.compatMode,t.contentType,"",t.dir,t.title,t.readyState]},e.exports=o},{132:132,22:22,59:59}],53:[function(t,e,r){var n=t(59),i=t(22).extend,o={};i(o,n),o.type=t(132).Serializer.DOMNodeType.DOCUMENT_TYPE_NODE,o._getNodeData=function(t){return[t.publicId,t.systemId,t.name]},e.exports=o},{132:132,22:22,59:59}],54:[function(t,e,r){var n=t(59),i=t(22).extend,o={};i(o,n),o.type=t(132).Serializer.DOMNodeType.ELEMENT_NODE,e.exports=o},{132:132,22:22,59:59}],55:[function(t,e,r){var n=t(59),i=t(22).extend,o=t(129).getIFrameId,a={};i(a,n),a.type=t(132).Serializer.DOMNodeType.IFRAME_NODE,a._getNodeData=function(t,e,r){var n;if(r){var i=r.get(t);if(i){var a=r.getById(i.nodeId);a&&a.__JACO_IFRAME_ID&&(n=a.__JACO_IFRAME_ID)}}return!n&&t.__JACO_IFRAME_ID&&(n=t.__JACO_IFRAME_ID),n||(n=o(),t.__JACO_IFRAME_ID=n),[n]},e.exports=a},{129:129,132:132,22:22,59:59}],56:[function(t,e,r){var n=t(59),i=t(22).extend,o={};i(o,n),o.type=t(132).Serializer.DOMNodeType.IMG_NODE,o._filterAttribute=function(t,e,r){return!(r&&("src"===t.name||"srcset"===t.name))},e.exports=o},{132:132,22:22,59:59}],57:[function(t,e,r){var n=t(59),i=t(22).extend,o=t(6).censorInput,a={};i(a,n),a.type=t(132).Serializer.DOMNodeType.INPUT_NODE,a._getNodeData=function(t,e){var r=[],n=void 0;switch(t.type.toLowerCase()){case"checkbox":case"radio":r.push([t.checked,t.indeterminate]);break;case"select-one":case"select-multiple":r.push([t.selectedIndex]);break;case"hidden":"__viewstate"===(t.name||"").toLowerCase()&&(n="?"),r.push([]);break;default:r.push([])}return r.push(n||(e?o(t.value,t.type):t.value)),r.push(t.disabled),r.push(t.readOnly),r},e.exports=a},{132:132,22:22,59:59,6:6}],58:[function(t,e,r){var n=t(59),i=t(22).extend,o={};i(o,n),o.type=t(132).Serializer.DOMNodeType.LINK_NODE,e.exports=o},{132:132,22:22,59:59}],59:[function(t,e,r){var n=t(132).Serializer,i=t(139),o=t(6).censorInput,a=t(84),s=t(83),u=1e4;function c(t,e,r){var i=t.createString(e),o=t.createString(r);return n.KeyValue.startKeyValue(t),n.KeyValue.addKey(t,i),n.KeyValue.addValue(t,o),n.KeyValue.endKeyValue(t)}var d=function(t){return"http://www.w3.org/1999/xhtml"===t.namespaceURI?"__":t.namespaceURI||""},f={};f.serialize=function(t,e,r,o,a,s,u){var c=t.createString(e.tagName||""),f=t.createString(d(e)),l=n.DOMNodeData.createAttributesVector(t,this._serializeAttributes(t,e,s)),h=i(t,this._getNodeData(e,s,u)),p=n.DOMNodeData.createExtraDataVector(t,h),g=n.Vec3.createVec3(t,e.scrollLeft||0,e.scrollTop||0,0);return n.DOMNodeData.startDOMNodeData(t),n.DOMNodeData.addScrollPosition(t,g),n.DOMNodeData.addAttributes(t,l),n.DOMNodeData.addNodeType(t,this.type||e.nodeType),n.DOMNodeData.addTagName(t,c),n.DOMNodeData.addNs(t,f),n.DOMNodeData.addExtraData(t,p),n.DOMNodeData.addIsCensored(t,s),null!==o&&n.DOMNodeData.addParentNodeId(t,o),null!==r&&n.DOMNodeData.addPreviousSiblingId(t,r),n.DOMNodeData.addNodeId(t,a),n.DOMNodeData.endDOMNodeData(t)},f._serializeAttributes=function(t,e,r){var n=e.attributes,i=[];if(!n)return i;for(var d=0,f=n.length;d<f;d++){var l=n[d];if(l&&l.specified&&this._filterAttribute(l,e,r)){var h=l.value;"src"===l.name?h=e.currentSrc||e.src:"href"===l.name&&"A"!==e.tagName?h=e.href:"value"===l.name&&r&&h?h=o(h,e.getAttribute("type")):"poster"===l.name?h=e.poster:"srcset"===l.name?(i.push(c(t,"nodeWidth",e.width||"")),i.push(c(t,"nodeHeight",e.height||"")),i.push(c(t,"pixelRatio",window.devicePixelRatio+"")),i.push(c(t,"hasSrcset","true")),h=""):s(e,l.name)&&(h=""),h=h||"",a(h)&&(h=""),h.length>=u&&(h="");var p=c(t,l.name,h);i.push(p)}}return r&&(n.width||e.style.width||i.push(c(t,"width",e.clientWidth+"")),n.height||e.style.height||i.push(c(t,"height",e.clientHeight+""))),i},f._filterAttribute=function(t,e,r){return!0},f._getNodeData=function(t,e){return[]},e.exports=f},{132:132,139:139,6:6,83:83,84:84}],60:[function(t,e,r){var n=t(132).Serializer,i=t(9),o=t(8),a=t(47);function s(t,e,r,n,i,o){return u(t,e,r,n,i,o,!0)}function u(t,e,r,s,c,d,f){var l=i(e,d),h="IFRAME"===e.tagName&&!l,p=c.set(e,e,h);o.mark(e,l);var g=a(e).serialize(t,e,r,s,p,l),v=[];if(f)for(var _=e.firstChild;_;){var b=u(t,_,null,null,c,d,f);v.push(b),_=_.nextSibling}var y=n.DOMNode.createChildrenVector(t,v);return n.DOMNode.startDOMNode(t),n.DOMNode.addData(t,g),n.DOMNode.addChildren(t,y),n.DOMNode.endDOMNode(t)}function c(t,e,r,i,o,s,u){var c=a(e).serialize(t,e,i,o,r,s,u),d=n.DOMNode.createChildrenVector(t,[]);return n.DOMNode.startDOMNode(t),n.DOMNode.addData(t,c),n.DOMNode.addChildren(t,d),n.DOMNode.endDOMNode(t)}r.serializeSubTree=s,r.serializeNodeWithCensorship=u,r.serializeNode=c},{132:132,47:47,8:8,9:9}],61:[function(t,e,r){var n=t(59),i=t(22).extend,o={};i(o,n),o.type=t(132).Serializer.DOMNodeType.SOURCE_NODE,e.exports=o},{132:132,22:22,59:59}],62:[function(t,e,r){var n=t(59),i=t(22).extend,o={};i(o,n),o.type=t(132).Serializer.DOMNodeType.STYLE_NODE,e.exports=o},{132:132,22:22,59:59}],63:[function(t,e,r){var n=t(59),i=t(22).extend,o={};i(o,n),o.type=t(132).Serializer.DOMNodeType.SVG_NODE,o._getNodeData=function(t){return[t.namespaceURI]},e.exports=o},{132:132,22:22,59:59}],64:[function(t,e,r){var n=t(59),i=t(6),o=t(22).extend,a={};o(a,n),a.type=t(132).Serializer.DOMNodeType.TEXT_NODE,a._getNodeData=function(t,e,r){var n,o="",a=t.parentNode;if(!a&&r){var u=r.get(t);u&&u.parentNodeId&&(a=r.getById(u.parentNodeId))}return a&&"script"!==a.nodeName.toLowerCase()&&(o=t.textContent),n=e?s(a)?i.censorInput(o):i.censorString(o):o,[n]};function s(t){return t&&t.tagName&&"textarea"===t.tagName.toLowerCase()}e.exports=a},{132:132,22:22,59:59,6:6}],65:[function(t,e,r){var n=t(59),i=t(22).extend,o={};i(o,n),o.type=t(132).Serializer.DOMNodeType.VIDEO_NODE,o._getNodeData=function(t){return[t.currentSrc||t.src,t.currentTime]},e.exports=o},{132:132,22:22,59:59}],66:[function(t,e,r){function n(){this.pairs=[]}n.prototype.set=function(t,e){var r=this._getIndex(t);if(r>=0)this.pairs[r][1]=e;else{var n=[t,e];this.pairs.push(n)}},n.prototype.get=function(t){var e=this._getIndex(t);return e>=0?this.pairs[e][1]:void 0},n.prototype.has=function(t){return this._getIndex(t)>-1},n.prototype._getIndex=function(t){for(var e in this.pairs){var r=this.pairs[e];if(r[0]===t)return e}return-1},e.exports=function(t){if(t&&t.Map)return t.Map;return n}},{}],67:[function(t,e,r){var n=t(42);function i(){var t=Math.pow(10,10),e=1;if("performance"in n==!1&&(n.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"timing"in n.performance==0&&(n.performance.timing={}),"navigationStart"in n.performance.timing==0&&(n.performance.timing.navigationStart=Date.now()),"now"in n.performance==0){var r=n.performance.timing.navigationStart;n.performance.now=function(){var n=e++%t/t;return Date.now()-r+n}}}e.exports={patch:i}},{42:42}],68:[function(t,e,r){"use strict";var n=t(42);function i(){!function(t){var e=void 0,r=1e5;function n(t){switch(typeof t){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return null===t?"null":"object"}}function i(t){return Object.prototype.toString.call(t).replace(/^\[object *|\]$/g,"")}function o(t){return"function"==typeof t}function a(t){if(null===t||t===e)throw TypeError();return Object(t)}function s(t){return t>>0}function u(t){return t>>>0}var c=Math.LN2,d=Math.abs,f=Math.floor,l=Math.log,h=Math.max,p=Math.min,g=Math.pow,v=Math.round;!function(){var t=Object.defineProperty,e=!function(){try{return Object.defineProperty({},"x",{})}catch(t){return!1}}();t&&!e||(Object.defineProperty=function(e,r,n){if(t)try{return t(e,r,n)}catch(i){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in n&&Object.prototype.__defineGetter__.call(e,r,n.get),Object.prototype.__defineSetter__&&"set"in n&&Object.prototype.__defineSetter__.call(e,r,n.set),"value"in n&&(e[r]=n.value),e})}();function _(e){if("TYPED_ARRAY_POLYFILL_NO_ARRAY_ACCESSORS"in t)return;if(e.length>r)throw RangeError("Array too large for polyfill");function n(t){Object.defineProperty(e,t,{get:function(){return e._getter(t)},set:function(r){e._setter(t,r)},enumerable:!0,configurable:!1})}var i;for(i=0;i<e.length;i+=1)n(i)}function b(t,e){var r=32-e;return t<<r>>r}function y(t,e){var r=32-e;return t<<r>>>r}function m(t){return[255&t]}function w(t){return b(t[0],8)}function E(t){return[255&t]}function O(t){return y(t[0],8)}function S(t){return t=v(Number(t)),[t<0?0:t>255?255:255&t]}function D(t){return[255&t,t>>8&255]}function I(t){return b(t[1]<<8|t[0],16)}function T(t){return[255&t,t>>8&255]}function N(t){return y(t[1]<<8|t[0],16)}function A(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function C(t){return b(t[3]<<24|t[2]<<16|t[1]<<8|t[0],32)}function x(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function M(t){return y(t[3]<<24|t[2]<<16|t[1]<<8|t[0],32)}function L(t,e,r){var n=(1<<e-1)-1;function i(t){var e=f(t),r=t-e;if(r<.5)return e;if(r>.5)return e+1;return e%2?e+1:e}var o,a,s;if(t!==t)a=(1<<e)-1,s=g(2,r-1),o=0;else if(t===1/0||t===-(1/0))a=(1<<e)-1,s=0,o=t<0?1:0;else if(0===t)a=0,s=0,o=1/t===-(1/0)?1:0;else if(o=t<0,t=d(t),t>=g(2,1-n)){a=p(f(l(t)/c),1023);var u=t/g(2,a);u<1&&(a-=1,u*=2),u>=2&&(a+=1,u/=2);var h=g(2,r);s=i(u*h)-h,a+=n,s/h>=1&&(a+=1,s=0),a>2*n&&(a=(1<<e)-1,s=0)}else a=0,s=i(t/g(2,1-n-r));var v,_=[];for(v=r;v;v-=1)_.push(s%2?1:0),s=f(s/2);for(v=e;v;v-=1)_.push(a%2?1:0),a=f(a/2);_.push(o?1:0),_.reverse();for(var b=_.join(""),y=[];b.length;)y.unshift(parseInt(b.substring(0,8),2)),b=b.substring(8);return y}function R(t,e,r){var n,i,o,a,s,u,c,d,f=[];for(n=0;n<t.length;++n)for(o=t[n],i=8;i;i-=1)f.push(o%2?1:0),o>>=1;return f.reverse(),a=f.join(""),s=(1<<e-1)-1,u=parseInt(a.substring(0,1),2)?-1:1,c=parseInt(a.substring(1,1+e),2),d=parseInt(a.substring(1+e),2),c===(1<<e)-1?0!==d?NaN:u*(1/0):c>0?u*g(2,c-s)*(1+d/g(2,r)):0!==d?u*g(2,-(s-1))*(d/g(2,r)):u<0?-0:0}function k(t){return R(t,11,52)}function P(t){return L(t,11,52)}function U(t){return R(t,8,23)}function j(t){return L(t,8,23)}!function(){function r(t){if(t=s(t),t<0)throw RangeError("ArrayBuffer size is not a small enough positive integer.");Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"_bytes",{value:Array(t)}),r.prototype.slice=function(t,n){var i=new b(this);n==e&&(n=i.length);for(var o=new r(n-t),a=new b(o),s=0;s<a.length;s++)a[s]=i[s+t];return o};for(var n=0;n<t;n+=1)this._bytes[n]=0}t.ArrayBuffer=t.ArrayBuffer||r;function c(){if(!arguments.length||"object"!=typeof arguments[0])return function(t){if(t=s(t),t<0)throw RangeError("length is not a small enough positive integer.");Object.defineProperty(this,"length",{value:t}),Object.defineProperty(this,"byteLength",{value:t*this.BYTES_PER_ELEMENT}),Object.defineProperty(this,"buffer",{value:new r(this.byteLength)}),Object.defineProperty(this,"byteOffset",{value:0})}.apply(this,arguments);if(arguments.length>=1&&"object"===n(arguments[0])&&arguments[0]instanceof c)return function(t){if(this.constructor!==t.constructor)throw TypeError();var e=t.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new r(e)}),Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:t.length
});for(var n=0;n<this.length;n+=1)this._setter(n,t._getter(n))}.apply(this,arguments);if(arguments.length>=1&&"object"===n(arguments[0])&&!(arguments[0]instanceof c)&&!(arguments[0]instanceof r||"ArrayBuffer"===i(arguments[0])))return function(t){var e=t.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new r(e)}),Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:t.length});for(var n=0;n<this.length;n+=1){var i=t[n];this._setter(n,Number(i))}}.apply(this,arguments);if(arguments.length>=1&&"object"===n(arguments[0])&&(arguments[0]instanceof r||"ArrayBuffer"===i(arguments[0])))return function(t,r,n){if(r=u(r),r>t.byteLength)throw RangeError("byteOffset out of range");if(r%this.BYTES_PER_ELEMENT)throw RangeError("buffer length minus the byteOffset is not a multiple of the element size.");if(n===e){var i=t.byteLength-r;if(i%this.BYTES_PER_ELEMENT)throw RangeError("length of buffer minus byteOffset not a multiple of the element size");n=i/this.BYTES_PER_ELEMENT}else n=u(n),i=n*this.BYTES_PER_ELEMENT;if(r+i>t.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:t}),Object.defineProperty(this,"byteLength",{value:i}),Object.defineProperty(this,"byteOffset",{value:r}),Object.defineProperty(this,"length",{value:n})}.apply(this,arguments);throw TypeError()}Object.defineProperty(c,"from",{value:function(t){return new this(t)}}),Object.defineProperty(c,"of",{value:function(){return new this(arguments)}});var l={};c.prototype=l,Object.defineProperty(c.prototype,"_getter",{value:function(t){if(arguments.length<1)throw SyntaxError("Not enough arguments");if(t=u(t),t>=this.length)return e;var r,n,i=[];for(r=0,n=this.byteOffset+t*this.BYTES_PER_ELEMENT;r<this.BYTES_PER_ELEMENT;r+=1,n+=1)i.push(this.buffer._bytes[n]);return this._unpack(i)}}),Object.defineProperty(c.prototype,"get",{value:c.prototype._getter}),Object.defineProperty(c.prototype,"_setter",{value:function(t,e){if(arguments.length<2)throw SyntaxError("Not enough arguments");if(t=u(t),t>=this.length)return;var r,n,i=this._pack(e);for(r=0,n=this.byteOffset+t*this.BYTES_PER_ELEMENT;r<this.BYTES_PER_ELEMENT;r+=1,n+=1)this.buffer._bytes[n]=i[r]}}),Object.defineProperty(c.prototype,"constructor",{value:c}),Object.defineProperty(c.prototype,"copyWithin",{value:function(t,r){var n=arguments[2],i=a(this),o=i.length,c=u(o);c=h(c,0);var d,f=s(t);d=f<0?h(c+f,0):p(f,c);var l,g=s(r);l=g<0?h(c+g,0):p(g,c);var v;v=n===e?c:s(n);var _;_=v<0?h(c+v,0):p(v,c);var b,y=p(_-l,c-d);for(l<d&&d<l+y?(b=-1,l=l+y-1,d=d+y-1):b=1;y>0;)i._setter(d,i._getter(l)),l+=b,d+=b,y-=1;return i}}),Object.defineProperty(c.prototype,"every",{value:function(t){if(this===e||null===this)throw TypeError();var r=Object(this),n=u(r.length);if(!o(t))throw TypeError();for(var i=arguments[1],a=0;a<n;a++)if(!t.call(i,r._getter(a),a,r))return!1;return!0}}),Object.defineProperty(c.prototype,"fill",{value:function(t){var r=arguments[1],n=arguments[2],i=a(this),o=i.length,c=u(o);c=h(c,0);var d,f=s(r);d=f<0?h(c+f,0):p(f,c);var l;l=n===e?c:s(n);var g;for(g=l<0?h(c+l,0):p(l,c);d<g;)i._setter(d,t),d+=1;return i}}),Object.defineProperty(c.prototype,"filter",{value:function(t){if(this===e||null===this)throw TypeError();var r=Object(this),n=u(r.length);if(!o(t))throw TypeError();for(var i=[],a=arguments[1],s=0;s<n;s++){var c=r._getter(s);t.call(a,c,s,r)&&i.push(c)}return new this.constructor(i)}}),Object.defineProperty(c.prototype,"find",{value:function(t){var r=a(this),n=r.length,i=u(n);if(!o(t))throw TypeError();for(var s=arguments.length>1?arguments[1]:e,c=0;c<i;){var d=r._getter(c),f=t.call(s,d,c,r);if(f)return d;++c}return e}}),Object.defineProperty(c.prototype,"findIndex",{value:function(t){var r=a(this),n=r.length,i=u(n);if(!o(t))throw TypeError();for(var s=arguments.length>1?arguments[1]:e,c=0;c<i;){var d=r._getter(c),f=t.call(s,d,c,r);if(f)return c;++c}return-1}}),Object.defineProperty(c.prototype,"forEach",{value:function(t){if(this===e||null===this)throw TypeError();var r=Object(this),n=u(r.length);if(!o(t))throw TypeError();for(var i=arguments[1],a=0;a<n;a++)t.call(i,r._getter(a),a,r)}}),Object.defineProperty(c.prototype,"indexOf",{value:function(t){if(this===e||null===this)throw TypeError();var r=Object(this),n=u(r.length);if(0===n)return-1;var i=0;if(arguments.length>0&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&i!==1/0&&i!==-(1/0)&&(i=(i>0||-1)*f(d(i)))),i>=n)return-1;for(var o=i>=0?i:h(n-d(i),0);o<n;o++)if(r._getter(o)===t)return o;return-1}}),Object.defineProperty(c.prototype,"join",{value:function(t){if(this===e||null===this)throw TypeError();for(var r=Object(this),n=u(r.length),i=Array(n),o=0;o<n;++o)i[o]=r._getter(o);return i.join(t===e?",":t)}}),Object.defineProperty(c.prototype,"lastIndexOf",{value:function(t){if(this===e||null===this)throw TypeError();var r=Object(this),n=u(r.length);if(0===n)return-1;var i=n;arguments.length>1&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&i!==1/0&&i!==-(1/0)&&(i=(i>0||-1)*f(d(i))));for(var o=i>=0?p(i,n-1):n-d(i);o>=0;o--)if(r._getter(o)===t)return o;return-1}}),Object.defineProperty(c.prototype,"map",{value:function(t){if(this===e||null===this)throw TypeError();var r=Object(this),n=u(r.length);if(!o(t))throw TypeError();var i=[];i.length=n;for(var a=arguments[1],s=0;s<n;s++)i[s]=t.call(a,r._getter(s),s,r);return new this.constructor(i)}}),Object.defineProperty(c.prototype,"reduce",{value:function(t){if(this===e||null===this)throw TypeError();var r=Object(this),n=u(r.length);if(!o(t))throw TypeError();if(0===n&&1===arguments.length)throw TypeError();var i,a=0;for(i=arguments.length>=2?arguments[1]:r._getter(a++);a<n;)i=t.call(e,i,r._getter(a),a,r),a++;return i}}),Object.defineProperty(c.prototype,"reduceRight",{value:function(t){if(this===e||null===this)throw TypeError();var r=Object(this),n=u(r.length);if(!o(t))throw TypeError();if(0===n&&1===arguments.length)throw TypeError();var i,a=n-1;for(i=arguments.length>=2?arguments[1]:r._getter(a--);a>=0;)i=t.call(e,i,r._getter(a),a,r),a--;return i}}),Object.defineProperty(c.prototype,"reverse",{value:function(){if(this===e||null===this)throw TypeError();for(var t=Object(this),r=u(t.length),n=f(r/2),i=0,o=r-1;i<n;++i,--o){var a=t._getter(i);t._setter(i,t._getter(o)),t._setter(o,a)}return t}}),Object.defineProperty(c.prototype,"set",{value:function(){if(arguments.length<1)throw SyntaxError("Not enough arguments");var t,e,r,n,i,o,a,s,c,d;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(t=arguments[0],r=u(arguments[1]),r+t.length>this.length)throw RangeError("Offset plus length of array is out of range");if(s=this.byteOffset+r*this.BYTES_PER_ELEMENT,c=t.length*this.BYTES_PER_ELEMENT,t.buffer===this.buffer){for(d=[],i=0,o=t.byteOffset;i<c;i+=1,o+=1)d[i]=t.buffer._bytes[o];for(i=0,a=s;i<c;i+=1,a+=1)this.buffer._bytes[a]=d[i]}else for(i=0,o=t.byteOffset,a=s;i<c;i+=1,o+=1,a+=1)this.buffer._bytes[a]=t.buffer._bytes[o]}else{if("object"!=typeof arguments[0]||"undefined"==typeof arguments[0].length)throw TypeError("Unexpected argument type(s)");if(e=arguments[0],n=u(e.length),r=u(arguments[1]),r+n>this.length)throw RangeError("Offset plus length of array is out of range");for(i=0;i<n;i+=1)o=e[i],this._setter(r+i,Number(o))}}}),Object.defineProperty(c.prototype,"slice",{value:function(t,r){for(var n=a(this),i=n.length,o=u(i),c=s(t),d=c<0?h(o+c,0):p(c,o),f=r===e?o:s(r),l=f<0?h(o+f,0):p(f,o),g=l-d,v=n.constructor,_=new v(g),b=0;d<l;){var y=n._getter(d);_._setter(b,y),++d,++b}return _}}),Object.defineProperty(c.prototype,"some",{value:function(t){if(this===e||null===this)throw TypeError();var r=Object(this),n=u(r.length);if(!o(t))throw TypeError();for(var i=arguments[1],a=0;a<n;a++)if(t.call(i,r._getter(a),a,r))return!0;return!1}}),Object.defineProperty(c.prototype,"sort",{value:function(t){if(this===e||null===this)throw TypeError();for(var r=Object(this),n=u(r.length),i=Array(n),o=0;o<n;++o)i[o]=r._getter(o);function a(r,n){if(r!==r&&n!==n)return 0;if(r!==r)return 1;if(n!==n)return-1;if(t!==e)return t(r,n);if(r<n)return-1;if(r>n)return 1;return 0}for(i.sort(a),o=0;o<n;++o)r._setter(o,i[o]);return r}}),Object.defineProperty(c.prototype,"subarray",{value:function(t,e){function r(t,e,r){return t<e?e:t>r?r:t}t=s(t),e=s(e),arguments.length<1&&(t=0),arguments.length<2&&(e=this.length),t<0&&(t=this.length+t),e<0&&(e=this.length+e),t=r(t,0,this.length),e=r(e,0,this.length);var n=e-t;return n<0&&(n=0),new this.constructor(this.buffer,this.byteOffset+t*this.BYTES_PER_ELEMENT,n)}});function g(t,e,r){var n=function(){Object.defineProperty(this,"constructor",{value:n}),c.apply(this,arguments),_(this)};"__proto__"in n?n.__proto__=c:(n.from=c.from,n.of=c.of),n.BYTES_PER_ELEMENT=t;var i=function(){};return i.prototype=l,n.prototype=new i,Object.defineProperty(n.prototype,"BYTES_PER_ELEMENT",{value:t}),Object.defineProperty(n.prototype,"_pack",{value:e}),Object.defineProperty(n.prototype,"_unpack",{value:r}),n}var v=g(1,m,w),b=g(1,E,O),y=g(1,S,O),L=g(2,D,I),R=g(2,T,N),F=g(4,A,C),B=g(4,x,M),V=g(4,j,U),z=g(8,P,k);t.Int8Array=t.Int8Array||v,t.Uint8Array=t.Uint8Array||b,t.Uint8ClampedArray=t.Uint8ClampedArray||y,t.Int16Array=t.Int16Array||L,t.Uint16Array=t.Uint16Array||R,t.Int32Array=t.Int32Array||F,t.Uint32Array=t.Uint32Array||B,t.Float32Array=t.Float32Array||V,t.Float64Array=t.Float64Array||z}(),function(){function r(t,e){return o(t.get)?t.get(e):t[e]}var n=function(){var t=new Uint16Array([4660]),e=new Uint8Array(t.buffer);return 18===r(e,0)}();function a(t,r,n){if(!(t instanceof ArrayBuffer||"ArrayBuffer"===i(t)))throw TypeError();if(r=u(r),r>t.byteLength)throw RangeError("byteOffset out of range");if(n=n===e?t.byteLength-r:u(n),r+n>t.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:t}),Object.defineProperty(this,"byteLength",{value:n}),Object.defineProperty(this,"byteOffset",{value:r})}function s(t){return function(e,i){if(e=u(e),e+t.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");e+=this.byteOffset;for(var o=new Uint8Array(this.buffer,e,t.BYTES_PER_ELEMENT),a=[],s=0;s<t.BYTES_PER_ELEMENT;s+=1)a.push(r(o,s));return Boolean(i)===Boolean(n)&&a.reverse(),r(new t(new Uint8Array(a).buffer),0)}}Object.defineProperty(a.prototype,"getUint8",{value:s(Uint8Array)}),Object.defineProperty(a.prototype,"getInt8",{value:s(Int8Array)}),Object.defineProperty(a.prototype,"getUint16",{value:s(Uint16Array)}),Object.defineProperty(a.prototype,"getInt16",{value:s(Int16Array)}),Object.defineProperty(a.prototype,"getUint32",{value:s(Uint32Array)}),Object.defineProperty(a.prototype,"getInt32",{value:s(Int32Array)}),Object.defineProperty(a.prototype,"getFloat32",{value:s(Float32Array)}),Object.defineProperty(a.prototype,"getFloat64",{value:s(Float64Array)});function c(t){return function(e,i,o){if(e=u(e),e+t.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");var a,s,c=new t([i]),d=new Uint8Array(c.buffer),f=[];for(a=0;a<t.BYTES_PER_ELEMENT;a+=1)f.push(r(d,a));Boolean(o)===Boolean(n)&&f.reverse(),s=new Uint8Array(this.buffer,e,t.BYTES_PER_ELEMENT),s.set(f)}}Object.defineProperty(a.prototype,"setUint8",{value:c(Uint8Array)}),Object.defineProperty(a.prototype,"setInt8",{value:c(Int8Array)}),Object.defineProperty(a.prototype,"setUint16",{value:c(Uint16Array)}),Object.defineProperty(a.prototype,"setInt16",{value:c(Int16Array)}),Object.defineProperty(a.prototype,"setUint32",{value:c(Uint32Array)}),Object.defineProperty(a.prototype,"setInt32",{value:c(Int32Array)}),Object.defineProperty(a.prototype,"setFloat32",{value:c(Float32Array)}),Object.defineProperty(a.prototype,"setFloat64",{value:c(Float64Array)}),t.DataView=t.DataView||a}()}(n)}e.exports={patch:i}},{42:42}],69:[function(t,e,r){"use strict";var n=t(81),i={sendMessage:n};function o(t,e){return function(r){a(r,t,e)}}function a(t,e,r){e.postMessage({error:t,messageId:r})}function s(){self.addEventListener("message",function(t){var e=t.data.messageId,r=t.data.params.concat([o(self,e)]),n=i[t.data.command];n&&n.apply(null,r)})}e.exports=s},{81:81}],70:[function(t,e,r){var n="jaco_uid",i="jaco_referer",o="jaco_provided_id",a="/",s="_pub";function u(){var t=new Date;return t.setFullYear(t.getFullYear()+1),t.toUTCString()}function c(t,e){var r=d(t,e);return r||(r=d(t,e+s)),r}function d(t,e){for(var r,n,i=0,o=1,a={},s=t.split(";"),u=0,c=s.length;u<c;u++)if(n=s[u],r=n.replace(/^\s+|\s+$/g,"").split("="),""!==r[o])try{a[r[i]]=decodeURIComponent(r[o])}catch(d){a[r[i]]=r[o]}return a[e]}function f(t,e,r,n,i){var o=t+"="+encodeURIComponent(e),a=[];if(a.push(o),null!==r){var s="domain=."+encodeURIComponent(r);a.push(s)}return a.push("expires="+n),a.push("path="+i),a.join(";")}function l(t,e){var r;if(t&&"all"!==t)r=t;else if(e){var n=document.location.hostname.match(/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i);r=n?n[0]:null}else r=document.location.hostname;return r}function h(){}h._saveCookie=function(t,e,r){var n,i=u();return this.domain=l(r,!0),document.cookie=f(t,e,this.domain,i,a),n=d(document.cookie,t),n||(t+=s,this.domain=l(r,!1),document.cookie=f(t,e,this.domain,i,a),n=d(document.cookie,t)),n||""},h._removeCookie=function(t){var e=u();d(document.cookie,t)?document.cookie=f(t,"",this.domain,e,a):(t+=s,d(document.cookie,t)&&(document.cookie=f(t,"",this.domain,e,a)))},h.getUid=function(){return c(document.cookie,n)},h.getReferer=function(){return c(document.cookie,i)},h.getProvidedId=function(t){return c(document.cookie,p(t))},h.setUid=function(t,e){return this._saveCookie(n,t,e)},h.setProvidedId=function(t,e,r){return this._saveCookie(p(e),t,r)},h.removeUid=function(){this._removeCookie(n)},h.removeReferer=function(){this._removeCookie(i)},h.removeProvidedId=function(t){this._removeCookie(p(t))},h.getValueFromCookie=c;function p(t){return o+"_"+t}e.exports=h},{}],71:[function(t,e,r){var n=t(133).Serializer,i=t(135),o=t(131),a=t(18).getTimestamp,s=t(72),u=t(32);e.exports=function(t,e,r){var c=[e.filename,e.message,e.lineno,e.colno,e.timeStamp,e.name,e.stack,JSON.stringify(r),e.status,e.statusText,e.responseText,e.response,e.timeElapsed,e.requestBody];e.error&&(c[1]=e.error.message||e.message,c[5]=e.error.name||e.name,c[6]=e.error.stack||e.stack),c=c.map(function(t){return t?t.toString():""});var d=s(c,n.DataType.StringList,!1,a(),n.Action.ERROR_OUR),f=i.build(d,t.mainFrame.windowId),l={error:JSON.stringify(u.values(f.asUint8Array())),apiToken:t.apiToken,state:{apiToken:t.apiToken,uid:t.uid,session:t.session,isRecording:t.isRecording,isInitialized:t.isInitialized,clientVersion:o,experiments:t.experiments}};return JSON.stringify(l)}},{131:131,133:133,135:135,18:18,32:32,72:72}],72:[function(t,e,r){var n=t(17);e.exports=function(t,e,r,i,o){return{data:t,dataType:e,isCensored:r,timestamp:i,action:o,sequenceIndex:n(o)}}},{17:17}],73:[function(t,e,r){var n={DELAYED_MUTATIONS:"delayedMutations",INTERVAL_MUTATIONS:"intervalMutations",NO_TRANSFERABLE_LIST:"noTransferableList"};function i(t,e){if(!t.state.experiments)return!1;return t.state.experiments.indexOf(e)!==-1}r.experimentNames=n,r.isExperimentSupported=i},{}],74:[function(t,e,r){e.exports=function(){return!1}},{}],75:[function(t,e,r){var n=t(4).production,i="prelib-plugin";function o(t){return t.filename.indexOf(n)>-1||t.filename.indexOf(i)>-1}e.exports=o},{4:4}],76:[function(t,e,r){var n=t(4).production,i=t(10);e.exports=function(t,e,r){if(!t)return;var i=JSON.stringify(r);t.forEach(function(t){o(n+"/integrations/"+t+".js",e,i)})};function o(t,e,r,n){var o=e.createElement("script");o.src=t,o.async=!0,o.setAttribute("class",i.JACO_INTEGRATION_SCRIPT_IDENTIFIER),o.setAttribute(i.JACO_INTEGRATION_SCRIPT_DATA_ATTRIBUTE,r),n&&(o.onreadystatechange=o.onload=function(){n.done||o.readyState&&!/loaded|complete/.test(o.readyState)||(n.done=!0,n())}),e.querySelector("head").appendChild(o)}},{10:10,4:4}],77:[function(t,e,r){var n=t(1),i=t(45),o=t(71);e.exports=function(t,e,r){r=r||{};var a=r.extraInformation||{},s=r.isBeacon||!1;e.preventDefault&&e.preventDefault();var u=o(t,e,a);s&&navigator&&navigator.sendBeacon?i.beaconRequest(n.logOurError,u):i.postRequest(n.logOurError,u)}},{1:1,45:45,71:71}],78:[function(t,e,r){var n=t(1),i=t(45),o=t(71),a=t(74),s=t(26);e.exports=function(t,e,r){e.preventDefault&&e.preventDefault(),a()&&s.error(e,r);var u=o(t,e,r);i.postRequest(n.recordOurError,u)}},{1:1,26:26,45:45,71:71,74:74}],79:[function(t,e,r){e.exports=function(t,e,r){return t.requestIdleCallback?t.requestIdleCallback(e,r):t.setTimeout(e,50)}},{}],80:[function(t,e,r){var n=t(32);e.exports=function(t,e,r){var o=0,a=e.retries||1/0,s=e.retryCooldown||0,u=e.retryCallback||function(){},c=e.shouldDisableRetryPredicate||n.constant(!1);if(0===a&&s===1/0)throw new Error("Retry infinity times with 0 interval is dangerous and not supported");r=r||function(){};var d=function f(){t(function(t){if(t&&++o<a&&!c(t)){var n=i(e,o);u.call(this,t,o),setTimeout(f,n)}else{var s=Array.prototype.slice.call(arguments).concat(o);setTimeout(function(){r.apply(this,s)},0)}})};d()};function i(t,e){return t.retryCooldown instanceof Function?t.retryCooldown(e):t.retryCooldown}},{32:32}],81:[function(t,e,r){var n=t(82),i=t(32),o=t(1),a=t(137);function s(t,e,r,s){var c=!e,d=c?o.recordJSON:o.record,f=a.build(t,e),l=c?JSON.stringify(i.values(f.asUint8Array())):u(f);n(d,l,{rapiUrl:r},s)}function u(t){var e=t.dataBuffer(),r=e.bytes();return r.buffer.slice(e.position(),e.position()+t.offset())}e.exports=s},{1:1,137:137,32:32,82:82}],82:[function(t,e,r){var n=t(45),i=t(80);function o(t,e,r,o){r=r||{};var s=r.retryCallback,u=r.shouldDisableRetryPredicate;r.rapiUrl&&n.updateRapiUrl(r.rapiUrl);var c=function(r){n.postRequest(t,e,r)};i(c,{retryCooldown:a,retryCallback:s,shouldDisableRetryPredicate:u},o)}function a(t){return t<10?1e3:t<30?5e3:2e4}e.exports=o},{45:45,80:80}],83:[function(t,e,r){var n=["type","class","id","style","accept","accesskey","autocomplete","autofocus","capture","checked","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","height","inputmode","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","selectionDirection","selectionEnd","selectionStart","size","spellcheck","src","step","tabindex","usemap","width","autocorrect","incremental","mozactionhint","results","webkitdirectory","x-moz-errormessage","autocapitalize","contenteditable","contextmenu","dir","draggable","dropzone","hidden","is","itemid","itemprop","itemref","itemscope","itemtype","lang","slot","title","translate"];function i(t){return"INPUT"===t.tagName&&"password"===t.getAttribute("type")}function o(t,e){return i(t)&&n.indexOf(e.toLowerCase())<0}e.exports=o},{}],84:[function(t,e,r){var n=1e4;e.exports=function(t){return t.length>=n}},{}],85:[function(t,e,r){var n=6e4;function i(t,e){var r=(new Date).getTime(),i=t[e]||[],o=i[0],a=i[1]||r;if(r-a<=n&&e&&e===o)return!1;return!0}e.exports=i},{}],86:[function(t,e,r){function n(t,e,r){var n="TrackEvent: ",i=null;return(t||e.length>0||r.length>0)&&(i=n,t&&(i+="a property with an empty string as a name is found and not saved because property names can't be empty.\n"),e.length>1&&(i+=e.length+" properties with a name longer than 200 characters found and weren't saved because property name's length should be no longer than 200 characters ("+e.join(",")+").\n"),1===e.length&&(i+="1 property with a name longer than 200 characters found and wasn't saved because property name's length should be no longer than 200 characters ("+e[0]+").\n"),r.length>1&&(i+=r.length+" properties with a string value longer than 1000 characters found and weren't saved because string property value should be no longer than 1000 characters ("+r.join(",")+").\n"),1===r.length&&(i+="1 property with a string value longer than 1000 characters found and wasn't saved because string property value should be no longer than 1000 characters ("+r[0]+").\n"),i=i.slice(0,-1)),i}function i(t,e){var r=null;return e&&(r="Invalid timestamp override provided #{"+t.timestamp+"}, please either omit the timestamp or provide a valid UNIX timestamp"),r}function o(e){var r,o,a=t(149),s=!1,u=[],c=[],d=!1,f={};return e&&Object.keys(e).forEach(function(t){t.length<1?s=!0:t.length>200?u.push(t):a(e[t])&&e[t].length>1e3?c.push(t):"timestamp"===t&&e[t]!==parseInt(e[t],10)?d=!0:f[t]=e[t]}),r=n(s,u,c),o=i(e,d),{validatedData:f,warning:r,error:o}}e.exports=o},{149:149}],87:[function(t,e,r){function n(t,e){this.callbacks=t,this.element=e,this.observer=void 0}function i(t,e,r){var n={attributes:!1,childList:!0,subtree:!0},i=function(t){for(var n=0;n<t.length;n++){var i=t[n];"childList"==i.type&&(a(i.addedNodes,e),a(i.removedNodes,r))}};this.observer=new MutationObserver(i),this.observer.observe(t,n)}function o(t,e){for(var r=t.getElementsByTagName("iframe"),n=0;n<r.length;n++){var i=r[n];e(i)}}function a(t,e){for(var r=0;r<t.length;r++){var n=t[r];"IFRAME"===n.nodeName&&e(n)}}n.prototype.startDetectingIframes=function(){o(this.element,this.callbacks.onIframeAdded),window.MutationObserver&&i(this.element,this.callbacks.onIframeAdded,this.callbacks.onIframeRemoved)},n.prototype.disconnect=function(){this.observer&&this.observer.disconnect()},e.exports=n},{}],88:[function(t,e,r){var n=t(81);function i(){}function o(t,e,r,i,o){n(e,r,i,o)}e.exports={start:i,sendMessage:o}},{81:81}],89:[function(t,e,r){var n=t(130),i=t(88);function o(t){return!!t.Worker&&!!t.MutationObserver}function a(){}a.get=function(){return o(window)?n:i},a.sendMessageToServer=function(t,e,r){var n=o(window),i=t.state.config.rapiUrl;return a.get().sendMessage(t,e,n,i,r)},a.load=function(){return a.get().load.apply(null,arguments)},a.start=function(){return a.get().start.apply(null,arguments)},e.exports=a},{130:130,88:88}],90:[function(t,e,r){var n=t(72);function i(t){this.document=t.window.document,this.window=t.window,this.nodeMap=t.nodeMap,this.element=t.element,this.beforeSnapshotDone=!0}i.prototype.shouldObserve=function(){throw Error("shouldObserve is not implemented")},i.prototype.observe=function(){},i.prototype.cleanUp=function(){this.document=void 0,this.window=void 0,this.nodeMap=void 0,this.element=void 0},i.prototype.setDomsnapshotDone=function(){this.beforeSnapshotDone=!1},i.createEvent=function(t,e,r,i,o){return n(t,e,r,i,o)},e.exports=i},{72:72}],91:[function(t,e,r){var n=t(90),i=t(133).Serializer.Action,o=t(48),a=t(18).getTimestamp,s=t(32).includes,u=t(133).Serializer,c={SNAPSHOT:"snapshot",RECORD:"record"},d=1,f=c.SNAPSHOT;t(22).extend(l,n);function l(){return this.lastSnapshots={},this.takenCanvasesIds={},this.snapshotTimeout=0,l.__super__.constructor.apply(this,arguments)}l.emittedActions=[i.CANVAS_UPDATE],l.prototype.observe=function(t,e){var r=t.state.config.canvasRecordingMode||f,n=t.state.config.canvasRecordingFPS||d,i=t.state.censorshipSettings,o={censorshipSettings:i,canvasRecordingMode:r,canvasRecordingFPS:n};h(this,e,o)},l.prototype.disconnect=function(){this.window.clearTimeout(this.snapshotTimeout)};function h(t,e,r){t.snapshotTimeout=t.window.setTimeout(function(){p(t,e,r)},1e3/r.canvasRecordingFPS)}function p(t,e,r){for(var s=t.window.document.getElementsByTagName("canvas"),c=0;c<s.length;c++){var d=s[c],f=o.get(d);if(g(t,f,r.canvasRecordingMode,r.censorshipSettings)){_(t,f);var l;try{l=d.toDataURL("image/png",.2)}catch(p){l=""}t.lastSnapshots[f]!==l&&(t.lastSnapshots[f]=l,e(n.createEvent([f,l],u.DataType.StringList,!1,a(),i.CANVAS_UPDATE)))}}h(t,e,r)}function g(t,e,r,n){return!s(n.tags,"canvas")&&(r==c.RECORD||r==c.SNAPSHOT&&!v(t,e))}function v(t,e){return!!t.takenCanvasesIds[e]}function _(t,e){t.takenCanvasesIds[e]=!0}e.exports=l},{133:133,18:18,22:22,32:32,48:48,90:90}],92:[function(t,e,r){var n=t(90),i=t(133).Serializer.Action,o=t(18).getTimestamp,a=t(78),s=t(44).throttle,u=t(85),c=t(75),d=t(133).Serializer;t(22).extend(f,n);function f(){return this.errorMap={},f.__super__.constructor.apply(this,arguments)}f.emittedActions=[i.ERROR],f.prototype.observe=function(t,e){var r=this;this._onErrorListener=s(function(n){l(r,n,t,e)},1e3),this.window.addEventListener("error",this._onErrorListener,!1)},f.prototype.disconnect=function(){this.window.removeEventListener("error",this._onErrorListener,!1)};function l(t,e,r,n){var s,d=[e.filename,e.message,e.lineno,e.colno,e.timeStamp,void 0,void 0],f=e.message;return e.error&&(f=e.error.message||e.message,d[1]=f,d[5]=e.error.name,s=e.error.stack,d[6]=s),c(e)?(a(r.state,e),e.stopPropagation(),e.preventDefault(),!1):(this.beforeSnapshotDone||(u(t.errorMap,f)&&n(h(d,!1,o(),i.ERROR)),t.errorMap[f]=[f,(new Date).getTime()]),!0)}function h(t,e,r,i){return n.createEvent(t,d.DataType.StringList,e,r,i)}e.exports=f},{133:133,18:18,22:22,44:44,75:75,78:78,85:85,90:90}],93:[function(t,e,r){var n=t(133).Serializer.Action,i=t(90),o=t(18).getTimestamp,a=t(48),s=t(133).Serializer;t(22).extend(u,i);function u(){return u.__super__.constructor.apply(this,arguments)}u.emittedActions=[n.FOCUS,n.FOCUS_IN,n.FOCUS_OUT],u.prototype.observe=function(t,e){var r=this;this._onBlur=function(){d(e)},this._onFocus=function(){c(e)},this._onFocusIn=function(t){f(t,r,e)},this._onFocusOut=function(t){l(t,r,e)},this.window.addEventListener("focus",this._onFocus,!1),this.window.addEventListener("focusin",this._onFocusIn,!1),this.window.addEventListener("focusout",this._onFocusOut,!1),this.window.addEventListener("blur",this._onBlur,!1)},u.prototype.disconnect=function(){this.window.removeEventListener("focus",this._onFocus,!1),this.window.removeEventListener("focusin",this._onFocusIn,!1),this.window.removeEventListener("focusout",this._onFocusOut,!1),this.window.removeEventListener("blur",this._onBlur,!1)};function c(t){return t(h([!0],!1,o(),n.FOCUS))}function d(t){return t(h([!1],!1,o(),n.FOCUS))}function f(t,e,r){var i=o(),s=a.get(t.target),u=a.get(t.relatedTarget);if(!e.beforeSnapshotDone||s||u){var c=[s,u,t.timeStamp];return r(h(c,!1,i,n.FOCUS_IN))}}function l(t,e,r){var i=o(),s=a.get(t.target),u=a.get(t.relatedTarget);if(!e.beforeSnapshotDone||s||u){var c=[s,u,t.timeStamp];r(h(c,!1,i,n.FOCUS_OUT))}}function h(t,e,r,n){return i.createEvent(t,s.DataType.StringList,e,r,n)}e.exports=u},{133:133,18:18,22:22,48:48,90:90}],94:[function(t,e,r){var n=t(32),i=t(105).OBSERVERS;function o(t,e){return t.emittedActions.every(function(t){return e.indexOf(t)>-1})&&!n.empty(t.emittedActions)}function a(t,e){return o(t,e)}function s(t){return n.reduce(n.values(i),function(e,r){return e.concat(a(r,t)?[r]:[])},[])}e.exports=s},{105:105,32:32}],95:[function(t,e,r){var n=t(133).Serializer.Action,i=t(90),o=t(15).getElementSelector,a=t(18).getTimestamp,s=t(44).throttle,u=t(48),c=t(40).once,d=t(9),f=t(7),l=t(133).Serializer,h=t(6).censorInput;t(22).extend(g,i);var p=1e4;function g(){g.__super__.constructor.apply(this,arguments),this.lastTarget=null,this._patchOnce=c(E)}g.emittedActions=[n.INPUT,n.INPUT_PROGRAMMATIC_CHANGE],g.prototype.observe=function(t,e){var r=this,n=t.state.censorshipSettings;this._onInput=s(function(t){_(t,r,n,e)},100),this._onChange=function(t){v(t,r,n,e)},this._patchActive=!1,this.window.addEventListener("input",this._onInput,!0),this.window.addEventListener("change",this._onChange,!0),this._patchOnce(this,function(t){b(t,r,n,e)}),this._patchActive=!0},g.prototype.disconnect=function(){this.window.removeEventListener("input",this._onInput,!0),this.window.removeEventListener("change",this._onChange,!0),this._patchActive=!1};function v(t,e,r,n){w(t)&&y(t.target,e,r,n)}function _(t,e,r,n){w(t)&&y(t.target,e,r,n)}function b(t,e,r,n){e._patchActive&&y(t,e,r,n,!0)}function y(t,e,r,i,o){var a=u.get(t);e.beforeSnapshotDone&&!t||(e.lastTarget!==t&&(e.lastTarget=t,o||i(m(t,a,n.INPUT,r))),i(m(t,a,n.INPUT_PROGRAMMATIC_CHANGE,r)))}function m(t,e,r,n){var s=d(t,n),u=t.value||"";u=s?h(u,t.type):u,u.length>=p&&(u=u.slice(0,p));var c="";t.labels&&t.labels.length>0&&(c=t.labels[0].textContent);var g=[];if("SELECT"===t.nodeName)for(var v=0,_=t.options,b=_.length;v<b;v++)_[v].selected&&g.push(_[v].index);var y=[e,u,t.type,t.name,c,t.checked,t.indeterminate,t.disabled,t.readOnly,g,o(t),f(location.href,n.urlRegex,n.urlReplaceText)];return i.createEvent(y,l.DataType.StringList,!1,a(),r)}function w(t){return u.hasId(t.target)||!!t.isTrusted}function E(t,e){var r=t.window;O()&&(S(r.HTMLInputElement,"value",e),S(r.HTMLInputElement,"checked",e),S(r.HTMLSelectElement,"value",e),S(r.HTMLTextAreaElement,"value",e))}function O(){var t=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");return t&&t.set}function S(t,e,r){var n=Object.getOwnPropertyDescriptor(t.prototype,e);Object.defineProperty(t.prototype,e,{set:function(t){var e=this;return setTimeout(function(){u.hasId(e)&&r(e)},0),n.set.call(this,t)},get:function(){return n.get.call(this)}})}e.exports=g},{133:133,15:15,18:18,22:22,40:40,44:44,48:48,6:6,7:7,9:9,90:90}],96:[function(t,e,r){var n=t(44).throttle,i=t(133).Serializer.Action,o=t(90),a=t(18).getTimestamp,s=t(14).getClickEventData,u=t(48),c=t(16).getMousePositionData,d=t(9),f=t(133).Serializer,l=t(19).getTouchEventData,h=t(78);t(22).extend(p,o);function p(){return p.__super__.constructor.apply(this,arguments)}p.emittedActions=[i.TOUCH_MOVE,i.TOUCH_START,i.TOUCH_END,i.TOUCH_CANCEL,i.MOUSE_POSITION,i.MOUSE_CLICK,i.MOUSE_OVER],p.prototype.observe=function(t,e){var r=t.state.censorshipSettings,o=this;this.state=t.state,this._moveEventCounter=0,this._onTouchMove=n(function(t){_(t,o,i.TOUCH_MOVE,r,e)},16),this._onTouchStart=function(t){b(o,i.TOUCH_START,r,e,t)},this._onTouchEnd=function(t){y(o,i.TOUCH_END,r,e,t)},this._onTouchCancel=function(t){y(o,i.TOUCH_CANCEL,r,e,t)},this._onMove=n(function(t){v(o,e,i.MOUSE_POSITION,t)},100),this._onClick=function(t){g(o,r,e,i.MOUSE_CLICK,t)},this._onMouseOver=function(t){m(o,e,t)},this.window.addEventListener("touchstart",this._onTouchStart,!0),this.window.addEventListener("touchmove",this._onTouchMove,!0),this.window.addEventListener("touchcancel",this._onTouchCancel,!0),this.window.addEventListener("touchend",this._onTouchEnd,!0),this.window.addEventListener("mouseover",this._onMouseOver,!0),this.window.addEventListener("mousemove",this._onMove,!0),this.window.addEventListener("mouseup",this._onClick,!0)},p.prototype.disconnect=function(){this.window.removeEventListener("mouseup",this._onClick,!0),this.window.removeEventListener("mousemove",this._onMove,!0),this.window.removeEventListener("mouseover",this._onMouseOver,!0),this.window.removeEventListener("touchmove",this._onTouchMove,!0),this.window.removeEventListener("touchend",this._onTouchEnd,!0),this.window.removeEventListener("touchcancel",this._onTouchCancel,!0),this.window.removeEventListener("touchstart",this._onTouchStart,!0)};function g(t,e,r,n,i){if(t._isTouchMode)return void(t._isTouchMode=!1);if(t._moveEventCounter<2)return;var c=i.target,l=u.get(c),p=!1;if(!t.beforeSnapshotDone||l){var g=d(c,e);t.lastTarget===c&&(p=!0);var v;try{v=s(i,g,l,e,p)}catch(_){return void h(t.state,_,{})}t.lastTarget=c,r(o.createEvent(v,f.DataType.StringList,g,a(),n))}}function v(t,e,r,n){if(t._isTouchMode)return;if(t._moveEventCounter<2)return void(t._moveEventCounter=t._moveEventCounter+1);var i=c(n);e(o.createEvent(i,f.DataType.StringList,!1,a(),r))}function _(t,e,r,n,i){var s=t.target,c=u.get(s);if(!e.beforeSnapshotDone||c){var h=d(s,n),p=l(t,h,c,n);i(o.createEvent(p,f.DataType.StringList,h,a(),r))}}function b(t,e,r,n,i){t._isTouchMode=!0,_(i,t,e,r,n)}function y(t,e,r,n,i){_(i,t,e,r,n)}function m(t,e,r){if(t._isTouchMode)return;var n=u.get(r.target),s=r.relatedTarget;if(!t.beforeSnapshotDone||n||u.get(s)){var c=[r.clientX,r.clientY,r.screenX,r.screenY,r.pageX,r.pageY,n,u.get(s)];e(o.createEvent(c,f.DataType.StringList,!1,a(),i.MOUSE_OVER))}}e.exports=p},{133:133,14:14,16:16,18:18,19:19,22:22,44:44,48:48,78:78,9:9,90:90}],97:[function(t,e,r){var n=t(60),i=t(101),o=t(49),a=t(133).Serializer.Action,s=t(90),u=t(48),c=t(9),d=t(6),f=t(8),l=t(135),h=t(136),p=t(133).Serializer,g=t(83),v=t(79),_=t(73),b=t(32),y=t(84),m=200;
t(22).extend(w,s);function w(){return w.__super__.constructor.apply(this,arguments)}w.emittedActions=[a.MUTATION_EVENT];var E=w.prototype;E.observe=function(t,e){var r=t.state.censorshipSettings,n=_.isExperimentSupported(t,_.experimentNames.DELAYED_MUTATIONS),o=_.isExperimentSupported(t,_.experimentNames.INTERVAL_MUTATIONS),a=this;this.observer=new i({rootNode:this.document,supportIntervalMutations:o,callback:function(t,i){O(r,a.nodeMap,t,e,n,i)}})},E.disconnect=function(){this.observer.disconnect()};function O(t,e,r,n,i,o){for(var a,s=l.getBuilder(),c=b.reduce(Object.keys(r.attributeChanged).map(function(e){return r.attributeChanged[e].map(function(r){var n=u.get(r);S(r,t);var i=r.getAttribute(e)||"";return(y(i)||g(r,e))&&(i=""),[n,e,i]})}),function(t,e){return t.concat(e)},[]),d=N(s,r,e,t,i),f=new Array(r.characterDataChanged.length),h=0,p=r.characterDataChanged.length;h<p;h++){a=r.characterDataChanged[h];var v=D(a,t)||"";y(v)&&(v=v.slice(0,1e4)+"..."),f[h]=[u.get(a),v]}var _,m=new Array(r.removed.length);for(h=0,p=r.removed.length;h<p;h++)a=r.removed[h],m[h]=u.get(a),_="IFRAME"===a.tagName,e.remove(a,_),u.unset(a);C(s,o,e,c,d,f,m,n,i)}function S(t,e){f.mark(t,c(t,e))}function D(t,e){return c(t,e)?d.censorString(t.textContent):t.textContent}function I(t){for(var e=new o,r=0,n=t.length;r<n;r++){var i=t[r],a=i.parentNode,s=e.get(a);s||(s=new o,e.set(a,s)),s.set(i,!0)}return e}function T(t,e,r,n,i){var o=c(t,e),a="IFRAME"===t.tagName&&!o,s=r.set(t,t,a);f.mark(t,o);var u=t.cloneNode(!1),d={domNode:u,nodeId:s,previousSiblingId:n,parentNodeId:i,shouldCensor:o};return r.set(u,d),d}function N(t,e,r,i,o){for(var a=e.added.concat(e.reparented,e.reordered),s=I(a),c=new Array(a.length),d=0,f=s.keys(),l=0,h=f.length;l<h;l++)for(var p=f[l],g=s.get(p),v=g.keys();v.length;){for(var _=v[0];_.previousSibling&&g.has(_.previousSibling);)_=_.previousSibling;for(;_&&g.has(_);){var b,y=_.previousSibling?u.get(_.previousSibling):null,m=_.parentNode?u.get(_.parentNode):null;b=o?T(_,i,r,y,m):n.serializeNodeWithCensorship(t,_,y,m,r,i),c[d++]=b,g.remove(_),_=_.nextSibling}v=g.keys()}return c}function A(t,e,r,n,i,o){return s.createEvent(h.build(t,e,r,n,i),p.DataType.MutationData,!1,o,a.MUTATION_EVENT)}function C(t,e,r,i,o,a,s,u,c){c?v(window,function(){for(var c=new Array(o.length),d=0,f=o.length;d<f;d++){var l=o[d],h=n.serializeNode(t,l.domNode,l.nodeId,l.previousSiblingId,l.parentNodeId,l.shouldCensor,r);c[d]=h}u(A(t,s,c,i,a,e))},{timeout:m}):u(A(t,s,o,i,a,e))}e.exports=w},{101:101,133:133,135:135,136:136,22:22,32:32,48:48,49:49,6:6,60:60,73:73,79:79,8:8,83:83,84:84,9:9,90:90}],98:[function(t,e,r){var n={};n[n.STAYED_OUT=0]="STAYED_OUT",n[n.ENTERED=1]="ENTERED",n[n.STAYED_IN=2]="STAYED_IN",n[n.REPARENTED=3]="REPARENTED",n[n.REORDERED=4]="REORDERED",n[n.EXITED=5]="EXITED",e.exports=n},{}],99:[function(t,e,r){var n;n="undefined"!=typeof window.WebKitMutationObserver?window.WebKitMutationObserver:window.MutationObserver,e.exports=n},{}],100:[function(t,e,r){var n=t(104),i=t(49),o=t(98);function a(){this.added=new i,this.removed=new i,this.maybeMoved=new i,this.oldPrevious=new i,this.moved=void 0}function s(t,e){this.rootNode=t,this.mutations=e,this.calcReordered=!0,this.treeChanges=new n(t,e),this.entered=[],this.exited=[],this.stayedIn=new i,this.visited=new i,this.childListChangeMap=void 0,this.processMutations()}s.prototype.processMutations=function(){if(!this.treeChanges.anyParentsChanged&&!this.treeChanges.anyAttributesChanged)return;for(var t=this.treeChanges.keys(),e=0,r=t.length;e<r;e++)this.visitNode(t[e],void 0)},s.prototype.visitNode=function(t,e){if(this.visited.has(t))return;this.visited.set(t,!0);var r=this.treeChanges.get(t),n=e;if((r&&r.childList||void 0==n)&&(n=this.treeChanges.reachabilityChange(t)),n===o.STAYED_OUT)return;if(n===o.ENTERED)this.entered.push(t);else if(n===o.EXITED)this.exited.push(t);else if(n===o.STAYED_IN){var i=o.STAYED_IN;r&&r.childList&&(r.oldParentNode!==t.parentNode?i=o.REPARENTED:this.calcReordered&&this.wasReordered(t)&&(i=o.REORDERED)),this.stayedIn.set(t,i)}if(n===o.STAYED_IN)return;for(var a=t.firstChild;a;a=a.nextSibling)this.visitNode(a,n)},s.prototype.getChanged=function(t){var e=this;this.entered.forEach(function(e){t.added.push(e)});var r=this.stayedIn.keys();r.forEach(function(r){if(t.reparented||t.reordered){var n=e.stayedIn.get(r);t.reparented&&n===o.REPARENTED?t.reparented.push(r):t.reordered&&n===o.REORDERED&&t.reordered.push(r)}}),this.exited.forEach(function(e){t.removed.push(e)})},s.prototype.getOldParentNode=function(t){var e=this.treeChanges.get(t);if(e&&e.childList)return e.oldParentNode?e.oldParentNode:null;var r=this.treeChanges.reachabilityChange(t);if(r===o.STAYED_OUT||r===o.ENTERED)throw Error("getOldParentNode requested on invalid node.");return t.parentNode},s.prototype.getOldPreviousSibling=function(t){var e=t.parentNode,r=this.treeChanges.get(t);r&&r.oldParentNode&&(e=r.oldParentNode);var n=this.childListChangeMap.get(e);if(!n)throw Error("getOldPreviousSibling requested on invalid node.");return n.oldPrevious.get(t)},s.prototype.getOldAttribute=function(t,e){var r=this.treeChanges.get(t);if(!r||!r.attributes)throw Error("getOldAttribute requested on invalid node.");var n=r.getAttributeOldValue(e);if(void 0===n)throw Error("getOldAttribute requested for unchanged attribute name.");return n},s.prototype.attributeChangedNodes=function(){if(!this.treeChanges.anyAttributesChanged)return{};for(var t,e={},r=this.treeChanges.keys(),n=0,i=r.length;n<i;n++){var a=r[n],s=this.treeChanges.get(a);if(!s.attributes)continue;if(o.STAYED_IN!==this.treeChanges.reachabilityChange(a))continue;for(var u=a,c=s.getAttributeNamesMutated(),d=0,f=c.length;d<f;d++){var l=c[d];if(t&&!t[l]&&!s.isCaseInsensitive)continue;var h=s.getAttributeOldValue(l);if(h===u.getAttribute(l))continue;e[l]=e[l]||[],e[l].push(u)}}return e},s.prototype.getOldCharacterData=function(t){var e=this.treeChanges.get(t);if(!e||!e.characterData)throw Error("getOldCharacterData requested on invalid node.");return e.characterDataOldValue},s.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];for(var t=this.treeChanges.keys(),e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(o.STAYED_IN!==this.treeChanges.reachabilityChange(i))continue;var a=this.treeChanges.get(i);if(!a.characterData||i.textContent===a.characterDataOldValue)continue;e.push(i)}return e},s.prototype.getChildlistChange=function(t){var e=this.childListChangeMap.get(t);return e||(e=new a,this.childListChangeMap.set(t,e)),e},s.prototype.processChildlistChanges=function(){if(this.childListChangeMap)return;function t(t,e,r){if(!t||r.oldPrevious.has(t)||r.added.has(t)||r.maybeMoved.has(t))return;if(e&&(r.added.has(e)||r.maybeMoved.has(e)))return;r.oldPrevious.set(t,e)}this.childListChangeMap=new i;for(var e=0;e<this.mutations.length;e++){var r=this.mutations[e];if("childList"!=r.type)continue;if(this.treeChanges.reachabilityChange(r.target)!==o.STAYED_IN)continue;var n,a,s=this.getChildlistChange(r.target),u=r.previousSibling;for(n=0;n<r.removedNodes.length;n++)a=r.removedNodes[n],t(a,u,s),s.added.has(a)?s.added.remove(a):(s.removed.set(a,!0),s.maybeMoved.remove(a)),u=a;for(t(r.nextSibling,u,s),n=0;n<r.addedNodes.length;n++)a=r.addedNodes[n],s.removed.has(a)?(s.removed.remove(a),s.maybeMoved.set(a,!0)):s.added.set(a,!0)}},s.prototype.wasReordered=function(t){if(!this.treeChanges.anyParentsChanged)return!1;this.processChildlistChanges();var e=t.parentNode,r=this.treeChanges.get(t);r&&r.oldParentNode&&(e=r.oldParentNode);var n=this.childListChangeMap.get(e);if(!n)return!1;if(n.moved)return n.moved.get(t);n.moved=new i;var o=new i;function a(t){if(!t)return!1;if(!n.maybeMoved.has(t))return!1;var e=n.moved.get(t);if(void 0!==e)return e;return o.has(t)?e=!0:(o.set(t,!0),e=d(t)!==u(t)),o.has(t)?(o.remove(t),n.moved.set(t,e)):e=n.moved.get(t),e}var s=new i;function u(t){var e=s.get(t);if(void 0!==e)return e;for(e=n.oldPrevious.get(t);e&&(n.removed.has(e)||a(e));)e=u(e);return void 0===e&&(e=t.previousSibling),s.set(t,e),e}var c=new i;function d(t){if(c.has(t))return c.get(t);for(var e=t.previousSibling;e&&(n.added.has(e)||a(e));)e=e.previousSibling;return c.set(t,e),e}return n.maybeMoved.keys().forEach(a),n.moved.get(t)},e.exports=s},{104:104,49:49,98:98}],101:[function(t,e,r){var n=t(100),i=t(103),o=t(99),a=["added","removed","reordered","reparented","valueChanged","characterDataChanged"],s=t(18).getTimestamp,u=250;function c(t){var e=this;this.connected=!1,this.options=c.validateOptions(t),this.observerOptions=c.createObserverOptions(),this.root=this.options.rootNode,this.callback=this.options.callback,this.calcReordered=!0,this.options.supportIntervalMutations?(this.mutationRecordsQueue=[],this.nextRecordsTimestamp=0,this.processing=!1,window.setInterval(function(){if(!e.processing&&e.mutationRecordsQueue.length>0){e.processing=!0;var t=e.mutationRecordsQueue,r=e.nextRecordsTimestamp;e.mutationRecordsQueue=[],e.nextRecordsTimestamp=0,e.observerCallback(t,r),e.processing=!1}},u),this.observer=new o(function(t){e.nextRecordsTimestamp||(e.nextRecordsTimestamp=s()),e.mutationRecordsQueue=e.mutationRecordsQueue.concat(t)})):this.observer=new o(function(t){e.observerCallback(t,s())}),this.reconnect()}c.createObserverOptions=function(){return{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0}},c.validateOptions=function(t){for(var e in t)if(!(e in c.optionKeys))throw Error("Invalid option: "+e);if("function"!=typeof t.callback)throw Error("Invalid options: callback is required and must be a function");return{callback:t.callback,rootNode:t.rootNode||document,oldPreviousSibling:!!t.oldPreviousSibling,supportIntervalMutations:t.supportIntervalMutations}},c.prototype.createSummary=function(t){if(!t||!t.length)return[];var e=new n(this.root,t);return new i(e)},c.prototype.changesToReport=function(t){if(a.some(function(e){return t[e]&&t[e].length}))return!0;if(t.attributeChanged){var e=Object.keys(t.attributeChanged),r=e.some(function(e){return!!t.attributeChanged[e].length});if(r)return!0}return!1},c.prototype.observerCallback=function(t,e){this.observer.disconnect();var r=this.createSummary(t);this.changesToReport(r)&&this.callback(r,e),this.connected&&this.observer.observe(this.root,this.observerOptions)},c.prototype.reconnect=function(){if(this.connected)throw Error("Already connected");this.observer.observe(this.root,this.observerOptions),this.connected=!0},c.prototype.takeSummaries=function(){if(!this.connected)throw Error("Not connected");var t=this.createSummary(this.observer.takeRecords());return this.changesToReport(t)?t:void 0},c.prototype.disconnect=function(){if(!this.connected)return[];var t=this.takeSummaries();return this.observer.disconnect(),this.connected=!1,t},c.optionKeys={callback:!0,rootNode:!0,oldPreviousSibling:!0,supportIntervalMutations:!0},e.exports=c},{100:100,103:103,18:18,99:99}],102:[function(t,e,r){function n(t,e,r,n,i,o,a,s){void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===n&&(n=!1),void 0===i&&(i=null),void 0===o&&(o=!1),void 0===a&&(a=null),void 0===s&&(s=null),this.node=t,this.childList=e,this.attributes=r,this.characterData=n,this.oldParentNode=i,this.added=o,this.attributeOldValues=a,this.characterDataOldValue=s,this.isCaseInsensitive=this.node.nodeType===Node.ELEMENT_NODE&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}n.prototype.getAttributeOldValue=function(t){if(!this.attributeOldValues)return;return this.isCaseInsensitive&&(t=t.toLowerCase()),this.attributeOldValues[t]},n.prototype.getAttributeNamesMutated=function(){var t=[];if(!this.attributeOldValues)return t;return Object.keys(this.attributeOldValues)},n.prototype.attributeMutated=function(t,e){if(this.attributes=!0,this.attributeOldValues=this.attributeOldValues||{},t in this.attributeOldValues)return;this.attributeOldValues[t]=e},n.prototype.characterDataMutated=function(t){if(this.characterData)return;this.characterData=!0,this.characterDataOldValue=t},n.prototype.removedFromParent=function(t){this.childList=!0,this.added||this.oldParentNode?this.added=!1:this.oldParentNode=t},n.prototype.insertedIntoParent=function(){this.childList=!0,this.added=!0},n.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return this.node.parentNode},e.exports=n},{}],103:[function(t,e,r){function n(t){this.projection=t,this.added=[],this.removed=[],this.reparented=[],this.reordered=[],t.getChanged(this),this.attributeChanged=t.attributeChangedNodes(),this.characterDataChanged=t.getCharacterDataChanged()}n.prototype.getOldParentNode=function(t){return this.projection.getOldParentNode(t)},n.prototype.getOldAttribute=function(t,e){return this.projection.getOldAttribute(t,e)},n.prototype.getOldCharacterData=function(t){return this.projection.getOldCharacterData(t)},e.exports=n},{}],104:[function(t,e,r){var n=t(49),i=t(102),o=t(98),a=this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n};a(s,n);function s(t,e){var r,i,o=this;n.call(this),this.rootNode=t,this.reachableCache=void 0,this.wasReachableCache=void 0,this.anyParentsChanged=!1,this.anyAttributesChanged=!1,this.anyCharacterDataChanged=!1;for(var a=0,s=e.length;a<s;a++){var u=e[a];switch(u.type){case"childList":this.anyParentsChanged=!0;for(var c=0,d=u.removedNodes.length;c<d;++c)i=u.removedNodes[c],o.getChange(i).removedFromParent(u.target);for(var f=0,l=u.addedNodes.length;f<l;++f)i=u.addedNodes[f],o.getChange(i).insertedIntoParent(u.target);break;case"attributes":this.anyAttributesChanged=!0,r=this.getChange(u.target),r.attributeMutated(u.attributeName,u.oldValue);break;case"characterData":this.anyCharacterDataChanged=!0,r=this.getChange(u.target),r.characterDataMutated(u.oldValue)}}}s.prototype.getChange=function(t){var e=this.get(t);return e||(e=new i(t),this.set(t,e)),e},s.prototype.getOldParent=function(t){var e=this.get(t);return e?e.getOldParent():t.parentNode},s.prototype.getIsReachable=function(t){if(t===this.rootNode)return!0;if(!t)return!1;this.reachableCache=this.reachableCache||new n;var e=this.reachableCache.get(t);return void 0===e&&(e=this.getIsReachable(t.parentNode),this.reachableCache.set(t,e)),e},s.prototype.getWasReachable=function(t){if(t===this.rootNode)return!0;if(!t)return!1;this.wasReachableCache=this.wasReachableCache||new n;var e=this.wasReachableCache.get(t);return void 0===e&&(e=this.getWasReachable(this.getOldParent(t)),this.wasReachableCache.set(t,e)),e},s.prototype.reachabilityChange=function(t){if(this.getIsReachable(t))return this.getWasReachable(t)?o.STAYED_IN:o.ENTERED;return this.getWasReachable(t)?o.EXITED:o.STAYED_OUT},e.exports=s},{102:102,49:49,98:98}],105:[function(t,e,r){var n=t(32),i={INPUT:t(95),WINDOW_CLOSE:t(113),VISIBILITY:t(112),URL:t(109),VIEWPORT:t(111),SCROLL:t(107),MUTATION:t(97),MOUSE_AND_TOUCH:t(96),TEXT_SELECTION:t(108),FOCUS:t(93),VIDEO:t(110),ERROR:t(92),CANVAS:t(91),PAGE_HIDE:t(106)};function o(t,e,r){this.data={window:t,nodeMap:r,element:e},this.observers=[]}o.prototype.getInactiveObservers=function(t){var e=this.observers;return n.values(i).filter(function(e){return!n.includes(t,e)}).filter(function(t){return!a(e,t)})},o.prototype.startObservers=function(t,e,r){var n=this.data,i=this.observers;e.forEach(function(e){var o=new e(n);o.observe(t,r),i.push(o)})};function a(t,e){return n.some(t,function(t){return t instanceof e})}o.prototype.stop=function(){this.isObservedWindowClosed()||this.observers.forEach(function(t){t.disconnect(),t.cleanUp()}),this.observers=void 0},o.prototype.setDomSnapshotDone=function(){this.observers.forEach(function(t){t.setDomsnapshotDone()})},o.prototype.isObservedWindowClosed=function(){try{return this.data.window.document,this.data.window.closed||!this.data.window.addEventListener}catch(t){return!0}},o.OBSERVERS=i,e.exports=o},{106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,32:32,91:91,92:92,93:93,95:95,96:96,97:97}],106:[function(t,e,r){var n=t(90);t(22).extend(i,n);function i(){return i.__super__.constructor.apply(this,arguments)}i.emittedActions=[],i.prototype.observe=function(t,e){return this._onPageHide=function(e){o(e,t)},this.window.addEventListener("pagehide",this._onPageHide,!0)},i.prototype.disconnect=function(){return this.window.removeEventListener("pagehide",this._onPageHide,!0)};function o(t,e){e.flush(e)}e.exports=i},{22:22,90:90}],107:[function(t,e,r){var n=t(44).throttle,i=t(133).Serializer.Action,o=t(90),a=t(18).getTimestamp,s=t(48),u=t(133).Serializer;t(22).extend(c,o);function c(){return c.__super__.constructor.apply(this,arguments)}c.emittedActions=[i.SCROLL],c.prototype.observe=function(t,e){var r=this;this._onDocumentChange=function(t){d(t,r,e)},this._onWindowChange=function(t){f(t,r,e)},this._throttledOnWindowChange=n(this._onWindowChange,100),this._throttledOnDocumentChange=n(this._onDocumentChange,100),this.window.document.documentElement.addEventListener("scroll",this._throttledOnDocumentChange,!0),this.window.addEventListener("scroll",this._throttledOnWindowChange,!0)},c.prototype.disconnect=function(){this.window.removeEventListener("scroll",this._throttledOnDocumentChange,!0),this.window.removeEventListener("scroll",this._throttledOnWindowChange,!0)};function d(t,e,r){var n=a(),c=s.get(t.target);if(!e.beforeSnapshotDone||c){var d=t.target.scrollLeft,f=t.target.scrollTop;r(o.createEvent([d,f,c],u.DataType.StringList,!1,n,i.SCROLL))}}function f(t,e,r){var n=a(),c=e.window.document.body,d=s.get(c),f=0,l=0;e.beforeSnapshotDone&&!d||("pageXOffset"in e.window?(f=e.window.pageXOffset,l=e.window.pageYOffset):(f=e.rootElement.body.scrollLeft,l=e.rootElement.body.scrollTop),r(o.createEvent([f,l,d],u.DataType.StringList,!1,n,i.SCROLL)))}e.exports=c},{133:133,18:18,22:22,44:44,48:48,90:90}],108:[function(t,e,r){var n=t(133).Serializer.Action,i=t(90),o=t(18).getTimestamp,a=t(78),s=t(48),u=t(133).Serializer;t(22).extend(c,i);function c(){return c.__super__.constructor.apply(this,arguments)}c.emittedActions=[n.SELECTION],c.prototype.observe=function(t,e){var r=this;return this._onChange=function(){d(r,e)},this.window.document.addEventListener("selectionchange",this._onChange,!0)},c.prototype.disconnect=function(){return this.window.document.removeEventListener("selectionchange",this._onChange,!0)};function d(t,e){var r=t.document.getSelection();if(!r)return;var c,d;try{c=s.get(r.anchorNode),d=s.get(r.focusNode)}catch(f){return void(f.message.toLowerCase().indexOf("permission denied")<0&&a(t.state,f,{}))}if(!t.beforeSnapshotDone||c||d){var l=[c,r.anchorOffset,d,r.focusOffset];e(i.createEvent(l,u.DataType.StringList,!1,o(),n.SELECTION))}}e.exports=c},{133:133,18:18,22:22,48:48,78:78,90:90}],109:[function(t,e,r){var n=t(133).Serializer.Action,i=t(90),o=t(18).getTimestamp,a=t(7),s=t(133).Serializer;t(22).extend(u,i);function u(){return u.__super__.constructor.apply(this,arguments)}u.emittedActions=[n.URL_CHANGED],u.prototype.observe=function(t,e){var r=this,n=t.state.censorshipSettings;return this._onHashChange=function(t){d(t,n,r,e)},this._onHistoryChange=function(t,i,o){c(t,i,o,n,r,e)},this.lastUrl=a(location.href,n.urlRegex,n.urlReplaceText),history.pushState&&(this.window.addEventListener("popstate",this._onHistoryChange,!0),this.oldPushState=history.pushState,history.pushState=function(){r.oldPushState.apply(this,arguments),r._onHistoryChange.apply(r,arguments)},this.oldReplaceState=history.replaceState,history.replaceState=function(){r.oldReplaceState.apply(this,arguments),r._onHistoryChange.apply(r,arguments)}),this.window.addEventListener("hashchange",this._onHashChange,!0)},u.prototype.disconnect=function(){return history.pushState=this.oldPushState,history.replaceState=this.oldReplaceState,this.window.removeEventListener("popstate",this._onHistoryChange,!0),this.window.removeEventListener("hashchange",this._onHashChange,!0)};function c(t,e,r,i,s,u){var c=a(location.href,i.urlRegex,i.urlReplaceText);return s.lastUrl!==c&&(u(f([s.lastUrl,c],!1,o(),n.URL_CHANGED)),s.lastUrl=c),s}function d(t,e,r,i){var s=a(location.href,e.urlRegex,e.urlReplaceText),u=[r.lastUrl,s];i(f(u,!1,o(),n.URL_CHANGED)),r.lastUrl=s}function f(t,e,r,n){return i.createEvent(t,s.DataType.StringList,e,r,n)}e.exports=u},{133:133,18:18,22:22,7:7,90:90}],110:[function(t,e,r){var n=t(133).Serializer.Action,i=t(44).throttle,o=t(90),a=t(18).getTimestamp,s=t(48),u=t(133).Serializer;t(22).extend(c,o);function c(){return c.__super__.constructor.apply(this,arguments)}c.emittedActions=[n.VIDEO_PLAY,n.VIDEO_PAUSE,n.VIDEO_TIME_UPDATE,n.VIDEO_VOLUME_CHANGE],c.prototype.observe=function(t,e){var r=this;this._onPlay=function(t){d(t,r,e)},this._onPause=function(t){f(t,r,e)},this._onTimeupdate=i(function(t){l(t,r,e)},200),this._onVolumechange=function(t){h(t,r,e)},this.window.addEventListener("play",this._onPlay,!0),this.window.addEventListener("pause",this._onPause,!0),this.window.addEventListener("timeupdate",this._onTimeupdate,!0),this.window.addEventListener("volumechange",this._onVolumechange,!0)},c.prototype.disconnect=function(){this.window.removeEventListener("play",this._onPlay,!0),this.window.removeEventListener("pause",this._onPause,!0),this.window.removeEventListener("timeupdate",this._onTimeupdate,!0),this.window.removeEventListener("volumechange",this._onVolumechange,!0)};function d(t,e,r){return p(t,e.beforeSnapshotDone,n.VIDEO_PLAY,r)}function f(t,e,r){return p(t,e.beforeSnapshotDone,n.VIDEO_PAUSE,r)}function l(t,e,r){return p(t,e.beforeSnapshotDone,n.VIDEO_TIME_UPDATE,r)}function h(t,e,r){return p(t,e.beforeSnapshotDone,n.VIDEO_VOLUME_CHANGE,r)}function p(t,e,r,n){var i=a(),c=s.get(t.target);if(!e||c){var d=[c,t.target.currentTime,t.target.volume];n(o.createEvent(d,u.DataType.StringList,!1,i,r))}}e.exports=c},{133:133,18:18,22:22,44:44,48:48,90:90}],111:[function(t,e,r){var n=t(12).debounce,i=t(133).Serializer.Action,o=t(90),a=t(18).getTimestamp,s=t(133).Serializer,u=t(78);t(22).extend(f,o);function c(t){return t.innerWidth}function d(t){return t.innerHeight}function f(){return f.__super__.constructor.apply(this,arguments)}f.emittedActions=[i.VIEWPORT_CHANGED],f.prototype.observe=function(t,e){var r=this;this.state=t.state,this.windowX=this.windowY=0,this._onChange=n(function(t){l(t,r,e)},500),this.window.addEventListener("resize",this._onChange,!0)},f.prototype.disconnect=function(){this.window.removeEventListener("resize",this._onChange,!0)};function l(t,e,r){var n,f;try{n=c(e.window),f=d(e.window)}catch(l){return void("object expected"===l.message.toLowerCase()&&"permission denied"===l.message.toLowerCase()||u(e.state,l,{}))}var h=[e.windowX,e.windowY,n,f];r(o.createEvent(h,s.DataType.StringList,!1,a(),i.VIEWPORT_CHANGED))}e.exports=f},{12:12,133:133,18:18,22:22,78:78,90:90}],112:[function(t,e,r){var n=t(133).Serializer.Action,i=t(90),o=t(18).getTimestamp,a=t(133).Serializer;t(22).extend(s,i);function s(){return s.__super__.constructor.apply(this,arguments)}s.emittedActions=[n.VISIBILITY],s.prototype.observe=function(t,e){var r=this;this._onVisibilityChanged=function(t){u(r,e)},"undefined"!=typeof this.document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):"undefined"!=typeof this.document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),this.window.document.addEventListener(this.visibilityChange,this._onVisibilityChanged,!1)},s.prototype.disconnect=function(){this.window.document.removeEventListener(this.visibilityChange,this._onVisibilityChanged,!1)};function u(t,e){e(i.createEvent([!t.document[t.hidden]],a.DataType.StringList,!1,o(),n.VISIBILITY))}e.exports=s},{133:133,18:18,22:22,90:90}],113:[function(t,e,r){var n=t(90),i=t(18).getTimestamp,o=t(133).Serializer,a=t(133).Serializer.Action;t(22).extend(s,n);function s(){return s.__super__.constructor.apply(this,arguments)}s.emittedActions=[a.WINDOW_CLOSE],s.prototype.observe=function(t,e){this._onUnload=function(){u(e)},this.window.addEventListener("beforeunload",this._onUnload,!1)},s.prototype.disconnect=function(){this.window.removeEventListener("beforeunload",this._onUnload,!1)};function u(t){t(n.createEvent([],o.DataType.StringList,!1,i(),a.WINDOW_CLOSE))}e.exports=s},{133:133,18:18,22:22,90:90}],114:[function(t,e,r){"use strict";var n=t(60),i=t(135),o=t(133).Serializer,a=o.Action,s=t(72),u=t(13),c=t(42),d=t(7);function f(){}f.newPageEvents=function(t,e,r,n,i,o){var s=[p(r,t.urlRegex,t.urlReplaceText,o+1)];return e.indexOf(a.PAGE_SNAPSHOT_EVENTS)<0&&(s.push(v(r,o+2)),u(c)&&s.push(l(n,i,t,o+3)),s.push(g(r,o+4))),s};function l(t,e,r,n){var u=i.getBuilder(),c=h(u,t,e,r);return s({offset:c,builder:u},o.DataType.Serializer_DOMNode,!1,n,a.DOM_SNAPSHOT)}function h(t,e,r,i){return e.clear(),n.serializeSubTree(t,r,null,null,e,i)}function p(t,e,r,n){var i=d(t.location.href,e,r),u=[null,i];return s(u,o.DataType.StringList,!1,n,a.URL_CHANGED)}function g(t,e){var r=[t.scrollX,t.scrollY,null];return s(r,o.DataType.StringList,!1,e,a.SCROLL)}function v(t,e){var r=[t.screenLeft-t.screen.availLeft,t.screenTop-t.screen.availTop,t.innerWidth,t.innerHeight];return s(r,o.DataType.StringList,!1,e,a.VIEWPORT_CHANGED)}e.exports=f},{13:13,133:133,135:135,42:42,60:60,7:7,72:72}],115:[function(t,e,r){function n(){this.__timeoutID=null,this.__lastBatchTimeInMS=0}n.prototype.watch=function(t,e,r){e.pollingIntervalInMS=void 0!==e.pollingIntervalInMS?e.pollingIntervalInMS:500,e.timeoutInMS=void 0!=e.timeoutInMS?e.timeoutInMS:2e3,e.batchSize=void 0!=e.batchSize?e.batchSize:50,this.__timeoutID&&clearTimeout(this.__timeoutID),this.__lastBatchTimeInMS=performance.now(),this.pollQueue(t,e,r)},n.prototype.stop=function(){clearTimeout(this.__timeoutID),this.__timeoutID=null},n.prototype.pollQueue=function(t,e,r){var n=!1;if(i(t,e.batchSize)||o(this.__lastBatchTimeInMS,e.timeoutInMS)){var u=a(t,e.batchSize);if(this.__lastBatchTimeInMS=performance.now(),u.length>0){n=!0;var c=this;r(u,function(){s(t,u.length),c.scheduleNextIteration(t,e,r)})}}n||this.scheduleNextIteration(t,e,r)},n.prototype.flushSync=function(t){return t.splice(0,t.length)},n.prototype.scheduleNextIteration=function(t,e,r){var n=this;clearTimeout(this.__timeoutID),this.__timeoutID=setTimeout(function(){n.pollQueue(t,e,r)},e.pollingIntervalInMS)};function i(t,e){return t.length>=e}function o(t,e){return 0!=t&&performance.now()-t>e}function a(t,e){return t.slice(0,e)}function s(t,e){return t.splice(0,e)}e.exports=n},{}],116:[function(t,e,r){var n=t(133).Serializer,i=t(133).Serializer.Action,o=t(18).getTimestamp,a=t(72);function s(t){return t.timestamp?1e3*t.timestamp:o()}function u(t,e,r,i){var o=a(r,n.DataType.StringList,!1,i,e);t.handleManualEvent(o)}function c(t,e,r){var n=s(r),o=[e,JSON.stringify(r)];u(t,i.CUSTOM_EVENT,o,n)}function d(t,e){var r=s(e),n=[JSON.stringify(e)];u(t,i.IDENTIFY,n,r)}e.exports={recordCustomEvent:c,recordIdentifyEvent:d}},{133:133,18:18,72:72}],117:[function(t,e,r){var n=t(131),i=t(149),o=t(23),a=t(26);function s(t,e,r){this.config={startRecordingOnInit:!0},this.__state=u(t,e,r),this.state=this.__state.client.state}s.prototype.__VERSION=n,s.prototype.push=function(){for(var t=Array.prototype.slice.call(arguments),e=0;e<t.length;e++){var r=t[e];this[r[0]].apply(this,r.slice(1))}return this},s.prototype.exec=function(){this.push.apply(this,arguments)},s.prototype["session.setAttribute"]=function(t,e){if(e=e||function(){},!i(t.attributeName))return e({errorMessage:"SetAttribute: invalid attribute name, expected 'String', received "+Object.prototype.toString.call(t.attributeName)});if(!(o(t.attributeValue)&&t.attributeValue.every(i)||i(t.attributeValue)))return e({errorMessage:"SetAttribute: invalid attribute value, expected 'Array of Strings'/'String', received "+Object.prototype.toString.call(t.attributeValue)});this.__state.client["session.setAttribute"](this.__state.client,t,e)},s.prototype["session.getAttributes"]=function(t){this.__state.client["session.getAttributes"](this.__state.client,t)},s.prototype.init=function(t,e,r){if(e instanceof Function&&(r=e,e={}),r=r||f,!i(t)||!t.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i))return r("Init: Invalid API Key, expected 'String' UUID, received "+Object.prototype.toString.call(t));if(this.__state.initCalled)return this;return this.__state.initCalled=!0,e=e?e:{},e.startRecordingOnInit=e.startRecordingOnInit||this.config.startRecordingOnInit,this.__state.initConfig=e,this.__state.client.init(this.__state.client,t,e,r),this},s.prototype.identify=function(t,e){var r=d(this,this.state.apiToken,t,e||f);this.__state.client.identify(this.__state.client,t,this.__state.initCalled,r)},s.prototype.trackEvent=function(t,e,r){var n=r||f;this.__state.client.trackEvent(this.__state.client,t,e,this.__state.initCalled,n)},s.prototype.removeUserTracking=function(t){return this.__state.client.removeUserTracking(this.__state.client,c(this,this.__state.windowObject,this.__state.rootElement,this.__state.ClientObject,t)),this},s.prototype.startRecording=function(){return this.__state.client.startRecording(this.__state.client),this},s.prototype.stopRecording=function(){return this.__state.client.stopRecording(this.__state.client),this},s.prototype.runQueuedMethods_=function(t){for(;t.length;){var e=t.shift();this.push(e)}},s.prototype.logOurError=function(t,e){this.__state.client.logOurError(this.__state.client,t,e)},s.prototype.startPlaybackRecording=function(t){t=t||function(){},this.__state.client.startPlaybackRecording(this.__state.client,t)};function u(t,e,r,n){return{windowObject:t,rootElement:e,ClientObject:r,client:new r(t,e),initCalled:!1,initConfig:n}}function c(t,e,r,n,i){return function(){t.__state=u(e,r,n,t.__state.initConfig),t.state=t.__state.client.state,i instanceof Function&&i()}}function d(t,e,r,n){return function(o){if(o&&i(o.message)&&o.message.indexOf("Already identified")>-1)return t.removeUserTracking(function(){return t.init(e,t.__state.initConfig,function(){return t.__state.client.identify(t.__state.client,r,t.__state.initCalled,n)})});n(o)}}function f(t){t&&a.log(t)}e.exports=s},{131:131,149:149,23:23,26:26}],118:[function(t,e,r){var n=t(49),i=t(105),o=t(87),a=t(119),s=t(127),u=t(120),c=t(78),d=t(77),f=t(76),l=t(41),h=t(70),p=t(125),g=t(126),v=t(121),_=t(43).get,b=t(123),y=t(122),m=t(124),w=t(115),E=t(135),O=t(18).getTimestamp,S=t(114),D=t(94),I=t(66)(window),T=t(32),N=t(129),A=t(138),C=t(129).getIFrameId,x=t(89),M=t(133).Serializer.Action,L=22,R=1014,k="access is denied";function P(t,e){this.state={mainFrame:{window:t,windowId:N.getWindowId(),rootElement:e},eventsQueue:[],eventsQueueWatcher:new w,isInitialized:!1,isRecording:!1,waitingForInit:[],apiToken:null,uid:null,worker:null,lastBatchTime:O(),observerManagers:{},crossOriginWindowsToIFrameIdMap:new I,iframeStates:{}}}P.prototype.init=u,P.prototype.identify=a,P.prototype.trackEvent=s,P.prototype.startRecording=p,P.prototype.stopRecording=g,P.prototype.removeUserTracking=v,P.prototype.startPlaybackRecording=m,P.prototype["session.setAttribute"]=b,P.prototype["session.getAttributes"]=y,P.prototype.flush=it,P.prototype.handleManualEvent=Z,P.prototype.logOurError=ft,P.prototype.__observeWindow=z,P.prototype.__onInitDone=F,P.prototype.__onWorkerError=dt,P.prototype.__startQueueWatchers=U,P.prototype.__updateUntrackedEvents=W;function U(t){t.state.eventsQueueWatcher.watch(t.state.eventsQueue,{timeoutInMS:3e3,batchSize:50},function(e,r){et(t,e,function(e){e?c(t.state,e):r()})})}function j(t,e){e instanceof Array||(e=[e]);for(var r=0;r<e.length;r++){var n=e[r].asUint8Array();t.state.eventsQueue.push(n)}}function F(t,e,r){try{var n=e.cookieDomain;t.state.identityStorage.setUid(e.uid,n)||c(t.state,new Error("Failed to set UUID"),{cookieEnabled:navigator.cookieEnabled}),t.state.enabledIntegrations=e.enabledIntegrations,t.state.session=e.session,t.state.uid=e.uid,t.state.censorshipSettings=e.settings.censor,t.state.isInitialized=!0,t.state.initResponse=e,
t.state.untrackedEvents=e.settings.untrackedEvents.map(A),t.state.experiments=e.settings.experiments||[],t.state.providedId=t.state.identityStorage.getProvidedId(t.state.apiToken);var i={session:t.state.session,apiToken:t.state.apiToken};f(e.enabledIntegrations,document,i),at(t),t.state.config.startRecordingOnInit&&t.startRecording(t);var o=tt(e,t.state.providedId);r(null,o),t.state.waitingForInit.forEach(function(e){e[0].apply(t,e[1])}),t.state.waitingForInit=[],B(t),h.removeReferer()}catch(a){c(t.state,a)}}function B(t){t.state.mainFrame.window.addEventListener("message",function(e){if("request-init-cross-origin-iframe"===e.data.type){var r=e.source,n=t.state.crossOriginWindowsToIFrameIdMap.get(r);n&&V(t,r,n)}})}function V(t,e,r){var n={type:"init-cross-origin-iframe",data:{initResponse:t.state.initResponse,iframeId:r,parentWindowId:t.state.mainFrame.windowId}};e.postMessage(n,"*")}function z(t,e){var r=new n;e.nodeMap=r;var a=D(t.state.untrackedEvents);e.parentWindowId&&a.push(i.OBSERVERS.PAGE_HIDE);var s=new i(e.window,e.rootElement,r),u=s.getInactiveObservers(a);if(s.startObservers(t,u,l(K,t,e)),t.state.untrackedEvents.indexOf(M.URL_CHANGED)<0){var c=$(t,e);c.forEach(l(K,t,e))}s.setDomSnapshotDone(),t.state.observerManagers[e.windowId]=s;var d={onIframeAdded:function(r){H(t,r,e.windowId)},onIframeRemoved:function(e){Y(t,e)}},f=new o(d,e.rootElement);f.startDetectingIframes(),e.iframeDetector=f}function W(t,e){var r=T.areArraysEqual(t.state.untrackedEvents,e);if(r)return;t.state.untrackedEvents=e,t.state.initResponse.settings.untrackedEvents=e;var n=t.state.observerManagers;Object.keys(n).forEach(function(r){var n,o=t.state.observerManagers[r],a=e;t.state.mainFrame.windowId===r?n=t.state.mainFrame:(a=a.concat([i.OBSERVERS.PAGE_HIDE]),n=t.state.iframeStates[r]);var s=$(t,n);s.shift(-1),s.forEach(l(K,t,n));var u=o.getInactiveObservers(a);o.startObservers(t,u,l(K,t,n))})}function H(t,e,r){if(r!==t.state.mainFrame.windowId)return;var n;e.__JACO_IFRAME_ID?n=e.__JACO_IFRAME_ID:(n=C(),e.__JACO_IFRAME_ID=n);var i=!q(e),o=!i&&J(e),a=i&&Q(e)||o;a&&G(t,e,r),e.addEventListener("load",function(){var n=t.state.crossOriginWindowsToIFrameIdMap.has(e.contentWindow),i=q(e)&&e.contentWindow.__JACO_IFRAME_OBSERVED,o=n||i;o||G(t,e,r)})}function G(t,e,r){var n=e.__JACO_IFRAME_ID,i={windowId:n,parentWindowId:r,window:e.contentWindow};t.state.iframeStates[n]=i,q(e)?(e.contentWindow.__JACO_IFRAME_OBSERVED=!0,e.contentWindow.JacoRecorder=t.state.mainFrame.window.JacoRecorder,i.rootElement=e.contentDocument,z(t,i)):(i.isCrossOrigin=!0,t.state.crossOriginWindowsToIFrameIdMap.set(e.contentWindow,n),V(t,e.contentWindow,n))}function Y(t,e){var r=e.__JACO_IFRAME_ID;if(t.state.observerManagers[r]&&(t.state.observerManagers[r].stop(),delete t.state.observerManagers[r]),t.state.iframeStates[r]){var n=t.state.iframeStates[r];t.state.crossOriginWindowsToIFrameIdMap["delete"](n.window),n.nodeMap&&n.nodeMap.clear(),delete t.state.iframeStates[r]}}function J(t){return t.contentWindow&&t.contentWindow.document&&t.contentWindow.document.documentElement&&"about:blank"!=t.contentWindow.location.href}function Q(t){return t.contentWindow}function q(t){try{var e=t.contentDocument||t.contentWindow.document}catch(r){return!1}return!!e}function K(t,e,r){if(X(t,r.action)){var n=E.build(r,e.windowId,e.parentWindowId);j(t,n)}}function X(t,e){if(t.state.untrackedEvents.indexOf(e)>-1)return!1;return!0}function Z(t){var e=this.state.mainFrame.windowId,r=E.build(t,e,null);j(this,r)}function $(t,e){return S.newPageEvents(t.state.censorshipSettings,t.state.untrackedEvents,e.window,e.nodeMap,e.rootElement,O())}function tt(t,e){var r={id:t.session.id,startTime:t.session.startTime,isNewSession:t.isNewSession,sessionUrl:_(t.session.id),providedId:e};return r}function et(t,e,r){var n=rt(t,e);nt(t,n,r)}function rt(t,e){var r=O(),n=r-t.state.lastBatchTime;return t.state.lastBatchTime=r,{uid:t.state.uid,sessionId:t.state.session.id,apiToken:t.state.apiToken,sessionStartTime:t.state.session.startTime.toString(),eventsUint8Array:e,batchDelta:n.toString()}}function nt(t,e,r){x.sendMessageToServer(t,e,r)}function it(t){var e=t.state.eventsQueueWatcher.flushSync(t.state.eventsQueue).filter(ot);if(e.length>0){var r=rt(t,e),n=st(r);try{window.localStorage.setItem("__jaco."+O(),n)}catch(i){var o={};i.code===L||i.code===R||i.message.toLowerCase().indexOf(k)>-1||c(t.state,i,o),x.sendMessageToServer(t,r)}}}function ot(t){return t.buffer.byteLength>0}function at(t){Object.keys(localStorage).forEach(function(e){if("__jaco"===e.split(".")[0]){var r=localStorage.getItem(e);if(localStorage.removeItem(e),r){var n=ct(r);x.sendMessageToServer(t,n)}}})}function st(t){return JSON.stringify(t,function(t,e){if("eventsUint8Array"===t)return e.map(ut);return e})}function ut(t){for(var e=new Array(t.length),r=0;r<t.length;r++)e[r]=t[r];return e}function ct(t){return JSON.parse(t,function(t,e){if("eventsUint8Array"===t)return e.map(function(t){return new Uint8Array(t)});return e})}function dt(t,e,r){c(e.state,r)}function ft(t,e,r){d(t.state,e,{extraInformation:r})}e.exports=P},{105:105,114:114,115:115,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,127:127,129:129,133:133,135:135,138:138,18:18,32:32,41:41,43:43,49:49,66:66,70:70,76:76,77:77,78:78,87:87,89:89,94:94}],119:[function(t,e,r){var n=t(149),i=t(116).recordIdentifyEvent;e.exports=function(t,e,r,o){var a,s=t.state.identityStorage.getProvidedId(t.state.apiToken),u=n(e),c=""+e;u?c.length<1||c.length>100?a="Identify: user id should be between 1 and 100 characters":r?s&&s!==c&&(a="Identify: Already identified with "+s):a="Identify: Please call init before calling identify":a="Identify: invalid user id, expected 'String', received "+Object.prototype.toString.call(e);var d={isString:""+u,userId:""+e,oldId:""+s,errorMessage:""+a};if(i(t,d),a){var f=new Error(a);return o(f)}return t.state.identityStorage.setProvidedId(e,t.state.apiToken),o()}},{116:116,149:149}],120:[function(t,e,r){var n=t(21).getGUID,i=t(82),o=t(77),a=t(1),s=t(70),u=t(18).getTimestamp,c=t(89),d=t(20),f=t(13),l=t(42),h=t(26),p=t(131);function g(t){return 403===t.status}e.exports=function(t,e,r,o){var u=n();if(t.state.apiToken=e,t.state.identityStorage=r.identityStorage||s,t.state.config=r,r.crossOriginIFrame)v(t,r,o);else{var c=m(t.state),d=JSON.stringify(c);function f(e,r,n){b(e,r,{client:t,retryCount:n,initRequestId:u},o)}i(a.init,d,{shouldDisableRetryPredicate:g,rapiUrl:r.rapiUrl},f)}};function v(t,e,r){var n=e.allowedOrigin||"*";t.state.mainFrame.window.parent.postMessage({type:"request-init-cross-origin-iframe"},n),t.state.mainFrame.window.addEventListener("message",function(e){if("*"!==n&&e.origin!==n)return;var i=e.data.data,o=e.data.type;if("init-cross-origin-iframe"===o)t.state.mainFrame.windowId=i.iframeId,t.state.mainFrame.parentWindowId=i.parentWindowId,_(t),t.__onInitDone(t,i.initResponse,r);else if("start-playback-recording-corss-origin-iframe"===o){var a=i.untrackedEvents;t.__updateUntrackedEvents(t,a)}})}function _(t){t.state.worker=c.start(function(e){t.__onWorkerError(t.state.worker,t,e)})}function b(t,e,r,n){var i,a=r.client,s=r.retryCount,u=r.initRequestId;if(t&&403===t.status)i="JacoRecorder: you're unauthorized to record this domain",n(new Error(i)),h.log(i);else if(t)o(a.state,t,{extraInformation:{errMessage:"failed to init session and retry stopped",retryCount:s,initRequestId:u}}),n(t);else{var c=JSON.parse(e);if(429===c.internalHttpStatusCode)return i="JacoRecorder: Rate limit exceeded",n();s>0&&o(a.state,new Error("init started with retries"),{extraInformation:{errMessage:"init started with retries",retryCount:s,initRequestId:u}}),_(a),a.__onInitDone(a,c,n)}}function y(t){if("none"===s.getReferer())return null;return s.getReferer()?s.getReferer():t.mainFrame.window.document.referrer}function m(t){var e=t.identityStorage.getUid();return e&&"undefined"!==e||(e=w(),t.identityStorage.setUid(e)),{apiToken:t.apiToken,uid:e,clientVersion:p,viewportWidth:t.mainFrame.window.innerWidth,viewportHeight:t.mainFrame.window.innerHeight,screenWidth:t.mainFrame.window.screen.width,screenHeight:t.mainFrame.window.screen.height,timestamp:u(),hostname:t.mainFrame.window.location.hostname,referer:y(t),untrackedEvents:f(l)?[]:d()}}function w(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,r="x"===t?e:3&e|8;return r.toString(16)})}},{1:1,13:13,131:131,18:18,20:20,21:21,26:26,42:42,70:70,77:77,82:82,89:89}],121:[function(t,e,r){e.exports=function(t,e){t.stopRecording(t,n(e,t))};function n(t,e){return function(){e.state.identityStorage.removeUid(),e.state.identityStorage.removeProvidedId(e.state.apiToken),t()}}},{}],122:[function(t,e,r){var n=t(45),i=t(1),o=t(128);e.exports=function(t,e){return o(t,a(e))};function a(t){return function(e){var r=e.state.apiToken,o=e.state.session.id,a=i.sessionAttributes(o)+"?apiToken="+r;n.getRequest(a,t)}}},{1:1,128:128,45:45}],123:[function(t,e,r){var n=t(45),i=t(1),o=t(128);e.exports=function(t,e,r){return o(t,a(e,r))};function a(t,e){return function(r){var o=r.state.apiToken,a=r.state.session.id;t.apiToken=o;var s=i.sessionAttributes(a),u=JSON.stringify(t);n.postRequest(s,u,e)}}},{1:1,128:128,45:45}],124:[function(t,e,r){var n=t(82),i=t(1),o=t(138),a=t(116).recordCustomEvent,s=t(20),u=t(13),c=t(42),d=t(77),f="allEvents",l="visions__start-playback-recording";e.exports=function(t,e){var r={apiToken:t.state.apiToken,uid:t.state.uid,recordingMode:f,sessionId:t.state.session.id,untrackedEvents:u(c)?[]:s()},o=JSON.stringify(r);n(i.recording_mode,o,{shouldDisableRetryPredicate:p,rapiUrl:t.state.config.rapiUrl},function(n,i){n&&(d(t.state,n,{extraInformation:{errMessage:"change recording mode failed",data:r}}),e(n)),h(t,i),e()})};function h(t,e){var r=JSON.parse(e),n=r.untrackedEvents.map(o);a(t,l,{}),t.__updateUntrackedEvents(t,n),g(t,n)}function p(t){return 403===t.status}function g(t,e){Object.keys(t.state.iframeStates).filter(function(e){var r=t.state.iframeStates[e];return r.isCrossOrigin}).forEach(function(r){var n=t.state.iframeStates[r];n.window.postMessage({type:"start-playback-recording-corss-origin-iframe",data:{untrackedEvents:e}},"*")})}},{1:1,116:116,13:13,138:138,20:20,42:42,77:77,82:82}],125:[function(t,e,r){var n=t(128);e.exports=function(t){return n(t,i)};function i(t){if(t.state.isRecording)return this;t.state.isRecording=!0,t.__startQueueWatchers(t),t.__observeWindow(t,t.state.mainFrame)}},{128:128}],126:[function(t,e,r){var n=t(128);e.exports=function(t,e){return n(t,i(e))};function i(t){return function(e){if(e.state.isRecording){e.state.isRecording=!1;for(var r in e.state.observerManagers){var n=e.state.observerManagers[r];n.stop()}e.state.mainFrame.iframeDetector.disconnect()}if(t instanceof Function)return t()}}},{128:128}],127:[function(t,e,r){var n=t(149),i=t(116).recordCustomEvent,o=t(86),a=t(78),s=t(77);e.exports=function(t,e,r,u,c){var d,f,l,h=""+e,p="TrackEvent: track failed - ";if(u?n(e)?h.length<1?d=p+"event name can't be empty":h.length>200?d=p+"event name's length should be no longer than 200 characters":r&&"[object Object]"!==Object.prototype.toString.call(r)?d=p+"event's properties are optional but if passed - must be an object":r&&Object.keys(r).length>500?d=p+"event can have up to 500 data parameters":(l=o(r),f=l.warning,l.error&&(d=p+l.error)):d=p+"event name must be a string":d=p+"please call init before calling trackEvent",d){var g=new Error(d);return g.requestBody=JSON.stringify(r),a(t.state,g),s(t.state,g),c(g)}return i(t,h,l.validatedData),f?c(new Error(f)):c()}},{116:116,149:149,77:77,78:78,86:86}],128:[function(t,e,r){var n=t(78);e.exports=function(t,e,r){if(t.state.isInitialized)return e.apply(t,[t]);r?n(t.state,new Error(e+" called before init, illegal")):t.state.waitingForInit.push([e,[t]])}},{78:78}],129:[function(t,e,r){var n,i=t(21).getGUID,o=window.sessionStorage,a="__jacoWindowId",s="__jacoUsedWindowId_";function u(){if(n)return n;var t=d();return t&&!p(t)||(t=i(),f(t)),l(t),window.addEventListener("beforeunload",function(){h(t)}),n=t,t}function c(){return i()}function d(){return o.getItem(a)}function f(t){v(o,a,t)}function l(t){var e=g(t);v(localStorage,e,!0)}function h(t){var e=g(t);localStorage.removeItem(e)}function p(t){var e=g(t);return!!localStorage.getItem(e)}function g(t){return s+"__"+t}function v(t,e,r){try{t.setItem(e,r)}catch(n){return!1}return!0}r.getWindowId=u,r.getIFrameId=c},{21:21}],130:[function(t,e,r){var n=t(21).getGUID,i=t(46),o=t(135),a=t(138),s=t(73),u=["customEvent","mouseClick","input","url","error"],c={};function d(e){var r=i(t(69));return r.addEventListener("message",function(t){var e=t.data.messageId,r=t.data.error;l(e)&&(h(r,e),delete c[e])}),r.addEventListener("error",e),r}function f(t,e,r,i,o){var a=n();c[a]=o,t.postMessage({command:e,params:r,messageId:a},i)}function l(t){return!!c[t]}function h(t,e){var r=c[e];r(t)}function p(t,e,r,n,i){var o=s.isExperimentSupported(t,s.experimentNames.NO_TRANSFERABLE_LIST),a=o?[]:e.eventsUint8Array.filter(g).map(function(t){return t.buffer});f(t.state.worker,"sendMessage",[e,r,n],a,i)}function g(t){var e=o.fromBuffer(t).action(),r=a(e);return u.indexOf(r)===-1}e.exports={start:d,sendToWorker:f,sendMessage:p}},{135:135,138:138,21:21,46:46,69:69,73:73}],131:[function(t,e,r){e.exports="4.0"},{}],132:[function(t,e,r){var n=n||{};n.DOMNodeType={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,STYLE_NODE:1e3,SVG_NODE:1001,IMG_NODE:1003,LINK_NODE:1004,VIDEO_NODE:1005,SOURCE_NODE:1006,IFRAME_NODE:1007,INPUT_NODE:1008,FORM_NODE:1009},n.KeyValue=function(){this.bb=null,this.bb_pos=0},n.KeyValue.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},n.KeyValue.getRootAsKeyValue=function(t,e){return(e||new n.KeyValue).__init(t.readInt32(t.position())+t.position(),t)},n.KeyValue.prototype.key=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null},n.KeyValue.prototype.value=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null},n.KeyValue.startKeyValue=function(t){t.startObject(2)},n.KeyValue.addKey=function(t,e){t.addFieldOffset(0,e,0)},n.KeyValue.addValue=function(t,e){t.addFieldOffset(1,e,0)},n.KeyValue.endKeyValue=function(t){var e=t.endObject();return t.requiredField(e,4),t.requiredField(e,6),e},n.Vec3=function(){this.bb=null,this.bb_pos=0},n.Vec3.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},n.Vec3.prototype.x=function(){return this.bb.readFloat32(this.bb_pos)},n.Vec3.prototype.y=function(){return this.bb.readFloat32(this.bb_pos+4)},n.Vec3.prototype.z=function(){return this.bb.readFloat32(this.bb_pos+8)},n.Vec3.createVec3=function(t,e,r,n){return t.prep(4,12),t.writeFloat32(n),t.writeFloat32(r),t.writeFloat32(e),t.offset()},n.DOMNode=function(){this.bb=null,this.bb_pos=0},n.DOMNode.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},n.DOMNode.getRootAsDOMNode=function(t,e){return(e||new n.DOMNode).__init(t.readInt32(t.position())+t.position(),t)},n.DOMNode.prototype.data=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?(t||new n.DOMNodeData).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null},n.DOMNode.prototype.children=function(t,e){var r=this.bb.__offset(this.bb_pos,6);return r?(e||new n.DOMNode).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null},n.DOMNode.prototype.childrenLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0},n.DOMNode.startDOMNode=function(t){t.startObject(2)},n.DOMNode.addData=function(t,e){t.addFieldOffset(0,e,0)},n.DOMNode.addChildren=function(t,e){t.addFieldOffset(1,e,0)},n.DOMNode.createChildrenVector=function(t,e){t.startVector(4,e.length,4);for(var r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()},n.DOMNode.startChildrenVector=function(t,e){t.startVector(4,e,4)},n.DOMNode.endDOMNode=function(t){var e=t.endObject();return e},n.DOMNode.finishDOMNodeBuffer=function(t,e){t.finish(e)},n.DOMNodeData=function(){this.bb=null,this.bb_pos=0},n.DOMNodeData.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},n.DOMNodeData.getRootAsDOMNodeData=function(t,e){return(e||new n.DOMNodeData).__init(t.readInt32(t.position())+t.position(),t)},n.DOMNodeData.prototype.nodeId=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0},n.DOMNodeData.prototype.attributes=function(t,e){var r=this.bb.__offset(this.bb_pos,6);return r?(e||new n.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null},n.DOMNodeData.prototype.attributesLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0},n.DOMNodeData.prototype.style=function(t,e){var r=this.bb.__offset(this.bb_pos,8);return r?(e||new n.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null},n.DOMNodeData.prototype.styleLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0},n.DOMNodeData.prototype.tagName=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null},n.DOMNodeData.prototype.isCensored=function(){var t=this.bb.__offset(this.bb_pos,12);return!!t&&!!this.bb.readInt8(this.bb_pos+t)},n.DOMNodeData.prototype.ns=function(t){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null},n.DOMNodeData.prototype.extraData=function(t,e){var r=this.bb.__offset(this.bb_pos,16);return r?this.bb.__string(this.bb.__vector(this.bb_pos+r)+4*t,e):null},n.DOMNodeData.prototype.extraDataLength=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0},n.DOMNodeData.prototype.scrollPosition=function(t){var e=this.bb.__offset(this.bb_pos,18);return e?(t||new n.Vec3).__init(this.bb_pos+e,this.bb):null},n.DOMNodeData.prototype.nodeType=function(){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):n.DOMNodeType.ELEMENT_NODE},n.DOMNodeData.prototype.parentNodeId=function(){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt32(this.bb_pos+t):0},n.DOMNodeData.prototype.previousSiblingId=function(){var t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readInt32(this.bb_pos+t):0},n.DOMNodeData.prototype.shadowRoot=function(t){var e=this.bb.__offset(this.bb_pos,26);return e?(t||new n.DOMNode).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null},n.DOMNodeData.startDOMNodeData=function(t){t.startObject(12)},n.DOMNodeData.addNodeId=function(t,e){t.addFieldInt32(0,e,0)},n.DOMNodeData.addAttributes=function(t,e){t.addFieldOffset(1,e,0)},n.DOMNodeData.createAttributesVector=function(t,e){t.startVector(4,e.length,4);for(var r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()},n.DOMNodeData.startAttributesVector=function(t,e){t.startVector(4,e,4)},n.DOMNodeData.addStyle=function(t,e){t.addFieldOffset(2,e,0)},n.DOMNodeData.createStyleVector=function(t,e){t.startVector(4,e.length,4);for(var r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()},n.DOMNodeData.startStyleVector=function(t,e){t.startVector(4,e,4)},n.DOMNodeData.addTagName=function(t,e){t.addFieldOffset(3,e,0)},n.DOMNodeData.addIsCensored=function(t,e){t.addFieldInt8(4,+e,0)},n.DOMNodeData.addNs=function(t,e){t.addFieldOffset(5,e,0)},n.DOMNodeData.addExtraData=function(t,e){t.addFieldOffset(6,e,0)},n.DOMNodeData.createExtraDataVector=function(t,e){t.startVector(4,e.length,4);for(var r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()},n.DOMNodeData.startExtraDataVector=function(t,e){t.startVector(4,e,4)},n.DOMNodeData.addScrollPosition=function(t,e){t.addFieldStruct(7,e,0)},n.DOMNodeData.addNodeType=function(t,e){t.addFieldInt16(8,e,n.DOMNodeType.ELEMENT_NODE)},n.DOMNodeData.addParentNodeId=function(t,e){t.addFieldInt32(9,e,0)},n.DOMNodeData.addPreviousSiblingId=function(t,e){t.addFieldInt32(10,e,0)},n.DOMNodeData.addShadowRoot=function(t,e){t.addFieldOffset(11,e,0)},n.DOMNodeData.endDOMNodeData=function(t){var e=t.endObject();return e},r.Serializer=n},{}],133:[function(t,e,r){var n=n||{};n.Action={CSS_RULE_SNAPSHOT:0,FOCUS:1,FOCUS_IN:2,FOCUS_OUT:3,MOUSE_CLICK:4,MOUSE_OVER:5,MOUSE_POSITION:6,MUTATION_EVENT:7,VIDEO_PAUSE:8,VIDEO_PLAY:9,VIDEO_TIME_UPDATE:10,VIDEO_VOLUME_CHANGE:11,INPUT:12,INPUT_PROGRAMMATIC_CHANGE:13,SCROLL:14,SELECTION:15,URL_CHANGED:16,VISIBILITY:17,WINDOW_CLOSE:18,VIEWPORT_CHANGED:19,FINISHED_SNAPSHOT:20,DOM_SNAPSHOT:21,PAGE_SNAPSHOT_EVENTS:22,CANVAS_UPDATE:23,ERROR:24,ERROR_OUR:25,IDENTIFY:26,SET_USER_INFO:27,TOUCH_CANCEL:28,TOUCH_END:29,TOUCH_MOVE:30,TOUCH_START:31,PRESS:32,DOUBLE_TAP:33,SWIPE_RIGHT:34,SWIPE_LEFT:35,SWIPE_DOWN:36,SWIPE_UP:37,IDLE_TIME:38,CUSTOM_EVENT:39},n.DataType={NONE:0,StringList:1,Serializer_DOMNode:2,MutationData:3},n.StringList=function(){this.bb=null,this.bb_pos=0},n.StringList.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},n.StringList.getRootAsStringList=function(t,e){return(e||new n.StringList).__init(t.readInt32(t.position())+t.position(),t)},n.StringList.prototype.values=function(t,e){var r=this.bb.__offset(this.bb_pos,4);return r?this.bb.__string(this.bb.__vector(this.bb_pos+r)+4*t,e):null},n.StringList.prototype.valuesLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0},n.StringList.startStringList=function(t){t.startObject(1)},n.StringList.addValues=function(t,e){t.addFieldOffset(0,e,0)},n.StringList.createValuesVector=function(t,e){t.startVector(4,e.length,4);for(var r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()},n.StringList.startValuesVector=function(t,e){t.startVector(4,e,4)},n.StringList.endStringList=function(t){var e=t.endObject();return e},n.MutationData=function(){this.bb=null,this.bb_pos=0},n.MutationData.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},n.MutationData.getRootAsMutationData=function(t,e){return(e||new n.MutationData).__init(t.readInt32(t.position())+t.position(),t)},n.MutationData.prototype.removed=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0},n.MutationData.prototype.removedLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0},n.MutationData.prototype.removedArray=function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null},n.MutationData.prototype.moved=function(t,e){var r=this.bb.__offset(this.bb_pos,6);return r?(e||new n.DOMNode).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null},n.MutationData.prototype.movedLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0},n.MutationData.prototype.attributes=function(t,e){var r=this.bb.__offset(this.bb_pos,8);return r?(e||new n.StringList).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null},n.MutationData.prototype.attributesLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0},n.MutationData.prototype.text=function(t,e){var r=this.bb.__offset(this.bb_pos,10);return r?(e||new n.StringList).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null},n.MutationData.prototype.textLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0},n.MutationData.startMutationData=function(t){t.startObject(4)},n.MutationData.addRemoved=function(t,e){t.addFieldOffset(0,e,0)},n.MutationData.createRemovedVector=function(t,e){t.startVector(4,e.length,4);for(var r=e.length-1;r>=0;r--)t.addInt32(e[r]);return t.endVector()},n.MutationData.startRemovedVector=function(t,e){t.startVector(4,e,4)},n.MutationData.addMoved=function(t,e){t.addFieldOffset(1,e,0)},n.MutationData.createMovedVector=function(t,e){t.startVector(4,e.length,4);for(var r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()},n.MutationData.startMovedVector=function(t,e){t.startVector(4,e,4)},n.MutationData.addAttributes=function(t,e){t.addFieldOffset(2,e,0)},n.MutationData.createAttributesVector=function(t,e){t.startVector(4,e.length,4);for(var r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()},n.MutationData.startAttributesVector=function(t,e){t.startVector(4,e,4)},n.MutationData.addText=function(t,e){t.addFieldOffset(3,e,0)},n.MutationData.createTextVector=function(t,e){t.startVector(4,e.length,4);for(var r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()},n.MutationData.startTextVector=function(t,e){t.startVector(4,e,4)},n.MutationData.endMutationData=function(t){var e=t.endObject();return e},n.Event=function(){this.bb=null,this.bb_pos=0},n.Event.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},n.Event.getRootAsEvent=function(t,e){return(e||new n.Event).__init(t.readInt32(t.position())+t.position(),t)},n.Event.prototype.action=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):n.Action.CSS_RULE_SNAPSHOT},n.Event.prototype.dataType=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):n.DataType.NONE},n.Event.prototype.data=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null},n.Event.prototype.shouldCensor=function(){var t=this.bb.__offset(this.bb_pos,10);return!!t&&!!this.bb.readInt8(this.bb_pos+t)},n.Event.prototype.windowId=function(t){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__string(this.bb_pos+e,t):null},n.Event.prototype.sequence=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)},n.Event.prototype.sequenceIndex=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):0},n.Event.prototype.parentWindowId=function(t){var e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__string(this.bb_pos+e,t):null},n.Event.startEvent=function(t){t.startObject(8)},n.Event.addAction=function(t,e){t.addFieldInt16(0,e,n.Action.CSS_RULE_SNAPSHOT)},n.Event.addDataType=function(t,e){t.addFieldInt8(1,e,n.DataType.NONE)},n.Event.addData=function(t,e){t.addFieldOffset(2,e,0)},n.Event.addShouldCensor=function(t,e){t.addFieldInt8(3,+e,0)},n.Event.addWindowId=function(t,e){t.addFieldOffset(4,e,0)},n.Event.addSequence=function(t,e){t.addFieldInt64(5,e,t.createLong(0,0))},n.Event.addSequenceIndex=function(t,e){t.addFieldInt32(6,e,0)},n.Event.addParentWindowId=function(t,e){t.addFieldOffset(7,e,0)},n.Event.endEvent=function(t){var e=t.endObject();return t.requiredField(e,8),t.requiredField(e,12),e},n.Event.finishEventBuffer=function(t,e){t.finish(e)},r.Serializer=n},{}],134:[function(t,e,r){var n=t(132).Serializer,i=t(147),o={};o.build=function(t,e){var r=c(t,e),i=n.DOMNode.createChildrenVector(t,r),o=u(t,e);return n.DOMNode.startDOMNode(t),n.DOMNode.addData(t,o),n.DOMNode.addChildren(t,i),n.DOMNode.endDOMNode(t)};function a(t,e){return e.reduce(function(e,r){var i=t.createString(r[0]),o=t.createString(r[1]);return n.KeyValue.startKeyValue(t),n.KeyValue.addKey(t,i),n.KeyValue.addValue(t,o),e.push(n.KeyValue.endKeyValue(t)),e},[])}function s(t,e){return e.reduce(function(e,r){var n;return n=r&&r.constructor===Array||null===r?JSON.stringify(r):r.toString(),e.push(t.createString(n)),e},[])}function u(t,e){var r,u,c=e[2],d=t.createString(c[2]||""),f=t.createString(c[3]||"");c[6]?(r=parseInt(c[6][0],10),u=parseInt(c[6][1],10)):(r=0,u=0);var l,h=c[0],p=h.filter(function(t){return i(t[0])}),g=a(t,p),v=n.DOMNodeData.createAttributesVector(t,g),_=a(t,c[1]),b=n.DOMNodeData.createStyleVector(t,_),y=s(t,c[5]),m=n.DOMNodeData.createExtraDataVector(t,y);return e[8]&&(l=o.build(t,e[8])),n.DOMNodeData.startDOMNodeData(t),n.DOMNodeData.addNodeId(t,e[0]),n.DOMNodeData.addNodeType(t,e[1]),n.DOMNodeData.addAttributes(t,v),n.DOMNodeData.addIsCensored(t,e[3]),n.DOMNodeData.addStyle(t,b),n.DOMNodeData.addTagName(t,d),n.DOMNodeData.addNs(t,f),n.DOMNodeData.addExtraData(t,m),n.DOMNodeData.addScrollPosition(t,n.Vec3.createVec3(t,r||0,u||0,0)),n.DOMNodeData.addPreviousSiblingId(t,e[6]),n.DOMNodeData.addParentNodeId(t,e[7]),l&&n.DOMNodeData.addShadowRoot(t,l),n.DOMNodeData.endDOMNodeData(t)}function c(t,e){var r=e[5];return r.reduce(function(e,r){return e.push(o.build(t,r)),e},[])}e.exports=o},{132:132,147:147}],135:[function(t,e,r){var n=t(146).flatbuffers,i=t(133).Serializer,o=t(141),a=t(142),s={};s.getBuilder=function(){return new n.Builder(0)},s.build=function(t,e,r){return o(u(t),t,e,r)},s.buildFromEventAttributes=function(t){var e={windowId:t.window_id,parentWindowId:t.parent_window_id,sequence:t.sequence,sequenceIndex:t.sequence_index,action:t.action,data:t.data,dataType:a(t.action)};return s.build(e)},s.fromBuffer=function(t){var e=new n.ByteBuffer(t);return i.Event.getRootAsEvent(e)};function u(t){if(t.data.builder)return t.data.builder;return new n.Builder(0)}e.exports=s},{133:133,141:141,142:142,146:146}],136:[function(t,e,r){var n=t(133).Serializer,i=t(134),o=t(140),a={};a.build=function(t,e,r,i,o){var a=n.MutationData,u=a.createRemovedVector(t,e),c=i.map(function(e){var r=t.createString(e[0].toString()),i=t.createString(""+e[1]),o=t.createString(""+e[2]),a=n.StringList.createValuesVector(t,[r,i,o]);return s(t,a)}),d=o.map(function(e){var r=t.createString(e[0].toString()),i=t.createString(e[1]||""),o=n.StringList.createValuesVector(t,[r,i]);return s(t,o)}),f=a.createTextVector(t,d),l=a.createAttributesVector(t,c),h=a.createMovedVector(t,r);a.startMutationData(t),a.addRemoved(t,u),a.addAttributes(t,l),a.addText(t,f),a.addMoved(t,h);var p=a.endMutationData(t);return{builder:t,offset:p}};function s(t,e){return n.StringList.startStringList(t),n.StringList.addValues(t,e),n.StringList.endStringList(t)}a.buildFromDataArray=function(t,e){var r=e[1].reduce(function(e,r){return e.push(i.build(t,r)),e},[]),a=n.MutationData.createRemovedVector(t,e[0]),s=n.MutationData.createMovedVector(t,r),u=n.MutationData.createAttributesVector(t,e[2].map(function(e){return o(t,e)})),c=n.MutationData.createTextVector(t,e[3].map(function(e){return o(t,e)}));return n.MutationData.startMutationData(t),n.MutationData.addRemoved(t,a),n.MutationData.addMoved(t,s),n.MutationData.addAttributes(t,u),n.MutationData.addText(t,c),n.MutationData.endMutationData(t)},e.exports=a},{133:133,134:134,140:140}],137:[function(t,e,r){var n=t(146).flatbuffers,i=t(145).RecordEvent,o=t(144),a=t(150),s={},u=4;s.build=function(t,e){var r=new n.Builder(0),s=t.eventsUint8Array.map(function(t){var n=e?a.gzip(t,{level:u,to:"string"}):JSON.stringify(o(t));return r.createString(n)}),c=i.createMessagesVector(r,s),d=r.createString(t.uid),f=r.createString(t.sessionId),l=r.createString(t.apiToken),h=r.createString(t.sessionStartTime),p=r.createString(t.batchDelta);return i.startRecordEvent(r),i.addUid(r,d),i.addSessionId(r,f),i.addApiToken(r,l),i.addSessionStartTime(r,h),i.addBatchDelta(r,p),i.addMessages(r,c),i.finishRecordEventBuffer(r,i.endRecordEvent(r)),r},s.fromBuffer=function(t){var e=new n.ByteBuffer(t);return i.getRootAsRecordEvent(e)},e.exports=s},{144:144,145:145,146:146,150:150}],138:[function(t,e,r){var n=t(133).Serializer.Action,i={};i[i.CSS_RULE_SNAPSHOT=n.CSS_RULE_SNAPSHOT]="CSS_RULE_SNAPSHOT",i[i.focus=n.FOCUS]="focus",i[i.focusIn=n.FOCUS_IN]="focusIn",i[i.focusOut=n.FOCUS_OUT]="focusOut",i[i.mouseClick=n.MOUSE_CLICK]="mouseClick",i[i.mouseOver=n.MOUSE_OVER]="mouseOver",i[i.mousePosition=n.MOUSE_POSITION]="mousePosition",i[i.mutationEvent=n.MUTATION_EVENT]="mutationEvent",i[i.videoPause=n.VIDEO_PAUSE]="videoPause",i[i.videoPlay=n.VIDEO_PLAY]="videoPlay",i[i.videoTimeUpdate=n.VIDEO_TIME_UPDATE]="videoTimeUpdate",i[i.videoVolumeChange=n.VIDEO_VOLUME_CHANGE]="videoVolumeChange",i[i.input=n.INPUT]="input",i[i.inputProgrammaticChange=n.INPUT_PROGRAMMATIC_CHANGE]="inputProgrammaticChange",
i[i.scroll=n.SCROLL]="scroll",i[i.selection=n.SELECTION]="selection",i[i.url=n.URL_CHANGED]="url",i[i.visibility=n.VISIBILITY]="visibility",i[i.windowClose=n.WINDOW_CLOSE]="windowClose",i[i.viewport=n.VIEWPORT_CHANGED]="viewport",i[i.finishSnapshot=n.FINISHED_SNAPSHOT]="finishSnapshot",i[i.domSnapshot=n.DOM_SNAPSHOT]="domSnapshot",i[i.pageSnapshotEvents=n.PAGE_SNAPSHOT_EVENTS]="pageSnapshotEvents",i[i.canvasUpdate=n.CANVAS_UPDATE]="canvasUpdate",i[i.error=n.ERROR]="error",i[i.our_error=n.ERROR_OUR]="our_error",i[i.identify=n.IDENTIFY]="identify",i[i.setUserInfo=n.SET_USER_INFO]="setUserInfo",i[i.touchcancel=n.TOUCH_CANCEL]="touchcancel",i[i.touchend=n.TOUCH_END]="touchend",i[i.touchmove=n.TOUCH_MOVE]="touchmove",i[i.touchstart=n.TOUCH_START]="touchstart",i[i.press=n.PRESS]="press",i[i.doubleTap=n.DOUBLE_TAP]="doubleTap",i[i.swipeRight=n.SWIPE_RIGHT]="swipeRight",i[i.swipeLeft=n.SWIPE_LEFT]="swipeLeft",i[i.swipeDown=n.SWIPE_DOWN]="swipeDown",i[i.swipeUp=n.SWIPE_UP]="swipeUp",i[i.idleTime=n.IDLE_TIME]="idleTime",i[i.customEvent=n.CUSTOM_EVENT]="customEvent",e.exports=function(t){return i[t]}},{133:133}],139:[function(t,e,r){var n=t(149),i=t(148);e.exports=function(t,e){for(var r=[],o=0,a=e.length;o<a;o++){var s,u=e[o];s=i(u)?"null":n(u)?u:JSON.stringify(u),s||("symbol"==typeof u?s=Symbol.keyFor(u):"function"==typeof u&&(s="")),r.push(t.createString(s))}return r}},{148:148,149:149}],140:[function(t,e,r){var n=t(133).Serializer,i=t(139);function o(t,e){var r=i(t,e),o=n.StringList.createValuesVector(t,r);return n.StringList.startStringList(t),n.StringList.addValues(t,o),n.StringList.endStringList(t)}e.exports=o},{133:133,139:139}],141:[function(t,e,r){var n=t(133).Serializer,i=t(134),o=t(136),a=t(142),s=t(143),u=t(138),c=t(149),d=t(140);function f(t,e,r){if(e.offset)return e.offset;var a;switch(r){case n.DataType.StringList:a=d(t,e);break;case n.DataType.Serializer_DOMNode:a=i.build(t,e);break;case n.DataType.MutationData:a=o.buildFromDataArray(t,e);break;default:a=null}return a}function l(t,e,r,i){var o=n.Event;r=e.windowId?e.windowId:r,i=e.parentWindowId?e.parentWindowId:i;var d,l=e.dataType?e.dataType:a(e.action),h=f(t,e.data,l),p=e.sequenceIndex;e.sequence?d=e.sequence:e.timestamp&&(d=e.timestamp);var g,v=t.createString(r);return i&&(g=t.createString(i)),o.startEvent(t),o.addAction(t,c(e.action)?u(e.action):e.action),o.addDataType(t,l),o.addData(t,h),o.addSequence(t,s(d)),o.addWindowId(t,v),i&&o.addParentWindowId(t,g),o.addSequenceIndex(t,p),o.addShouldCensor(t,e.shouldCensor),o.finishEventBuffer(t,o.endEvent(t)),t}e.exports=l},{133:133,134:134,136:136,138:138,140:140,142:142,143:143,149:149}],142:[function(t,e,r){var n=t(133).Serializer.DataType;e.exports=function(t){var e;switch(t){case"mutationEvent":e=n.MutationData;break;case"domSnapshot":e=n.Serializer_DOMNode;break;default:e=n.StringList}return e}},{133:133}],143:[function(t,e,r){var n=t(146).flatbuffers,i=65536,o=i*i,a=o*o,s=a/2;function u(t){if(t<=-s)return n.Long.create(0,-2147483648,!1);if(t+1>=s)return n.Long.create(-1,2147483647);return n.Long.create(t%o|0,t/o|0,!1)}e.exports=u},{146:146}],144:[function(t,e,r){arguments[4][39][0].apply(r,arguments)},{39:39}],145:[function(t,e,r){function n(){this.bb=null,this.bb_pos=0}n.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},n.getRootAsRecordEvent=function(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)},n.prototype.messages=function(t,e){var r=this.bb.__offset(this.bb_pos,4);return r?this.bb.__string(this.bb.__vector(this.bb_pos+r)+4*t,e):null},n.prototype.messagesLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0},n.prototype.uid=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null},n.prototype.sessionId=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null},n.prototype.apiToken=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null},n.prototype.sessionStartTime=function(t){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__string(this.bb_pos+e,t):null},n.prototype.batchDelta=function(t){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null},n.startRecordEvent=function(t){t.startObject(6)},n.addMessages=function(t,e){t.addFieldOffset(0,e,0)},n.createMessagesVector=function(t,e){t.startVector(4,e.length,4);for(var r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()},n.startMessagesVector=function(t,e){t.startVector(4,e,4)},n.addUid=function(t,e){t.addFieldOffset(1,e,0)},n.addSessionId=function(t,e){t.addFieldOffset(2,e,0)},n.addApiToken=function(t,e){t.addFieldOffset(3,e,0)},n.addSessionStartTime=function(t,e){t.addFieldOffset(4,e,0)},n.addBatchDelta=function(t,e){t.addFieldOffset(5,e,0)},n.endRecordEvent=function(t){var e=t.endObject();return e},n.finishRecordEventBuffer=function(t,e){t.finish(e)},r.RecordEvent=n},{}],146:[function(t,e,r){var n={};n.Offset,n.Table,n.SIZEOF_SHORT=2,n.SIZEOF_INT=4,n.FILE_IDENTIFIER_LENGTH=4,n.Encoding={UTF8_BYTES:1,UTF16_STRING:2},n.int32=new Int32Array(2),n.float32=new Float32Array(n.int32.buffer),n.float64=new Float64Array(n.int32.buffer),n.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],n.Long=function(t,e){this.low=0|t,this.high=0|e},n.Long.create=function(t,e){return 0==t&&0==e?n.Long.ZERO:new n.Long(t,e)},n.Long.prototype.toFloat64=function(){return this.low+4294967296*this.high},n.Long.prototype.equals=function(t){return this.low==t.low&&this.high==t.high},n.Long.ZERO=new n.Long(0,0),n.Builder=function(t){t||(t=1024),this.bb=n.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},n.Builder.prototype.forceDefaults=function(t){this.force_defaults=t},n.Builder.prototype.dataBuffer=function(){return this.bb},n.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},n.Builder.prototype.prep=function(t,e){t>this.minalign&&(this.minalign=t);for(var r=~(this.bb.capacity()-this.space+e)+1&t-1;this.space<r+t+e;){var i=this.bb.capacity();this.bb=n.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)},n.Builder.prototype.pad=function(t){for(var e=0;e<t;e++)this.bb.writeInt8(--this.space,0)},n.Builder.prototype.writeInt8=function(t){this.bb.writeInt8(this.space-=1,t)},n.Builder.prototype.writeInt16=function(t){this.bb.writeInt16(this.space-=2,t)},n.Builder.prototype.writeInt32=function(t){this.bb.writeInt32(this.space-=4,t)},n.Builder.prototype.writeInt64=function(t){this.bb.writeInt64(this.space-=8,t)},n.Builder.prototype.writeFloat32=function(t){this.bb.writeFloat32(this.space-=4,t)},n.Builder.prototype.writeFloat64=function(t){this.bb.writeFloat64(this.space-=8,t)},n.Builder.prototype.addInt8=function(t){this.prep(1,0),this.writeInt8(t)},n.Builder.prototype.addInt16=function(t){this.prep(2,0),this.writeInt16(t)},n.Builder.prototype.addInt32=function(t){this.prep(4,0),this.writeInt32(t)},n.Builder.prototype.addInt64=function(t){this.prep(8,0),this.writeInt64(t)},n.Builder.prototype.addFloat32=function(t){this.prep(4,0),this.writeFloat32(t)},n.Builder.prototype.addFloat64=function(t){this.prep(8,0),this.writeFloat64(t)},n.Builder.prototype.addFieldInt8=function(t,e,r){(this.force_defaults||e!=r)&&(this.addInt8(e),this.slot(t))},n.Builder.prototype.addFieldInt16=function(t,e,r){(this.force_defaults||e!=r)&&(this.addInt16(e),this.slot(t))},n.Builder.prototype.addFieldInt32=function(t,e,r){(this.force_defaults||e!=r)&&(this.addInt32(e),this.slot(t))},n.Builder.prototype.addFieldInt64=function(t,e,r){!this.force_defaults&&e.equals(r)||(this.addInt64(e),this.slot(t))},n.Builder.prototype.addFieldFloat32=function(t,e,r){(this.force_defaults||e!=r)&&(this.addFloat32(e),this.slot(t))},n.Builder.prototype.addFieldFloat64=function(t,e,r){(this.force_defaults||e!=r)&&(this.addFloat64(e),this.slot(t))},n.Builder.prototype.addFieldOffset=function(t,e,r){(this.force_defaults||e!=r)&&(this.addOffset(e),this.slot(t))},n.Builder.prototype.addFieldStruct=function(t,e,r){e!=r&&(this.nested(e),this.slot(t))},n.Builder.prototype.nested=function(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},n.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},n.Builder.prototype.slot=function(t){this.vtable[t]=this.offset()},n.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},n.Builder.growByteBuffer=function(t){var e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var r=e<<1,i=n.ByteBuffer.allocate(r);return i.setPosition(r-e),i.bytes().set(t.bytes(),r-e),i},n.Builder.prototype.addOffset=function(t){this.prep(n.SIZEOF_INT,0),this.writeInt32(this.offset()-t+n.SIZEOF_INT)},n.Builder.prototype.startObject=function(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(var e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()},n.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var t=this.offset(),e=this.vtable_in_use-1;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);var r=2;this.addInt16(t-this.object_start),this.addInt16((this.vtable_in_use+r)*n.SIZEOF_SHORT);var i=0;t:for(var e=0;e<this.vtables.length;e++){var o=this.bb.capacity()-this.vtables[e],a=this.space,s=this.bb.readInt16(o);if(s==this.bb.readInt16(a)){for(var u=n.SIZEOF_SHORT;u<s;u+=n.SIZEOF_SHORT)if(this.bb.readInt16(o+u)!=this.bb.readInt16(a+u))continue t;i=this.vtables[e];break}}return i?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,i-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t},n.Builder.prototype.finish=function(t,e){if(e){if(this.prep(this.minalign,n.SIZEOF_INT+n.FILE_IDENTIFIER_LENGTH),e.length!=n.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+n.FILE_IDENTIFIER_LENGTH);for(var r=n.FILE_IDENTIFIER_LENGTH-1;r>=0;r--)this.writeInt8(e.charCodeAt(r))}this.prep(this.minalign,n.SIZEOF_INT),this.addOffset(t),this.bb.setPosition(this.space)},n.Builder.prototype.requiredField=function(t,e){var r=this.bb.capacity()-t,n=r-this.bb.readInt32(r),i=0!=this.bb.readInt16(n+e);if(!i)throw new Error("FlatBuffers: field "+e+" must be set")},n.Builder.prototype.startVector=function(t,e,r){this.notNested(),this.vector_num_elems=e,this.prep(n.SIZEOF_INT,t*e),this.prep(r,t*e)},n.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},n.Builder.prototype.createString=function(t){if(t instanceof Uint8Array)var e=t;else for(var e=[],r=0;r<t.length;){var n,i=t.charCodeAt(r++);if(i<55296||i>=56320)n=i;else{var o=t.charCodeAt(r++);n=(i<<10)+o+-56613888}n<128?e.push(n):(n<2048?e.push(n>>6&31|192):(n<65536?e.push(n>>12&15|224):e.push(n>>18&7|240,n>>12&63|128),e.push(n>>6&63|128)),e.push(63&n|128))}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(var r=0,a=this.space,s=this.bb.bytes();r<e.length;r++)s[a++]=e[r];return this.endVector()},n.Builder.prototype.createLong=function(t,e){return n.Long.create(t,e)},n.ByteBuffer=function(t){this.bytes_=t,this.position_=0},n.ByteBuffer.allocate=function(t){return new n.ByteBuffer(new Uint8Array(t))},n.ByteBuffer.prototype.bytes=function(){return this.bytes_},n.ByteBuffer.prototype.position=function(){return this.position_},n.ByteBuffer.prototype.setPosition=function(t){this.position_=t},n.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},n.ByteBuffer.prototype.readInt8=function(t){return this.readUint8(t)<<24>>24},n.ByteBuffer.prototype.readUint8=function(t){return this.bytes_[t]},n.ByteBuffer.prototype.readInt16=function(t){return this.readUint16(t)<<16>>16},n.ByteBuffer.prototype.readUint16=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8},n.ByteBuffer.prototype.readInt32=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24},n.ByteBuffer.prototype.readUint32=function(t){return this.readInt32(t)>>>0},n.ByteBuffer.prototype.readInt64=function(t){return new n.Long(this.readInt32(t),this.readInt32(t+4))},n.ByteBuffer.prototype.readUint64=function(t){return new n.Long(this.readUint32(t),this.readUint32(t+4))},n.ByteBuffer.prototype.readFloat32=function(t){return n.int32[0]=this.readInt32(t),n.float32[0]},n.ByteBuffer.prototype.readFloat64=function(t){return n.int32[n.isLittleEndian?0:1]=this.readInt32(t),n.int32[n.isLittleEndian?1:0]=this.readInt32(t+4),n.float64[0]},n.ByteBuffer.prototype.writeInt8=function(t,e){this.bytes_[t]=e},n.ByteBuffer.prototype.writeInt16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8},n.ByteBuffer.prototype.writeInt32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24},n.ByteBuffer.prototype.writeInt64=function(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)},n.ByteBuffer.prototype.writeFloat32=function(t,e){n.float32[0]=e,this.writeInt32(t,n.int32[0])},n.ByteBuffer.prototype.writeFloat64=function(t,e){n.float64[0]=e,this.writeInt32(t,n.int32[n.isLittleEndian?0:1]),this.writeInt32(t+4,n.int32[n.isLittleEndian?1:0])},n.ByteBuffer.prototype.__offset=function(t,e){var r=t-this.readInt32(t);return e<this.readInt16(r)?this.readInt16(r+e):0},n.ByteBuffer.prototype.__union=function(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t},n.ByteBuffer.prototype.__string=function(t,e){t+=this.readInt32(t);var r=this.readInt32(t),i="",o=0;if(t+=n.SIZEOF_INT,e===n.Encoding.UTF8_BYTES)return this.bytes_.subarray(t,t+r);for(;o<r;){var a,s=this.readUint8(t+o++);if(s<192)a=s;else{var u=this.readUint8(t+o++);if(s<224)a=(31&s)<<6|63&u;else{var c=this.readUint8(t+o++);if(s<240)a=(15&s)<<12|(63&u)<<6|63&c;else{var d=this.readUint8(t+o++);a=(7&s)<<18|(63&u)<<12|(63&c)<<6|63&d}}}a<65536?i+=String.fromCharCode(a):(a-=65536,i+=String.fromCharCode((a>>10)+55296,(1023&a)+56320))}return i},n.ByteBuffer.prototype.__indirect=function(t){return t+this.readInt32(t)},n.ByteBuffer.prototype.__vector=function(t){return t+this.readInt32(t)+n.SIZEOF_INT},n.ByteBuffer.prototype.__vector_len=function(t){return this.readInt32(t+this.readInt32(t))},n.ByteBuffer.prototype.__has_identifier=function(t){if(t.length!=n.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+n.FILE_IDENTIFIER_LENGTH);for(var e=0;e<n.FILE_IDENTIFIER_LENGTH;e++)if(t.charCodeAt(e)!=this.readInt8(this.position_+n.SIZEOF_INT+e))return!1;return!0},n.ByteBuffer.prototype.createLong=function(t,e){return n.Long.create(t,e)},r.flatbuffers=n},{}],147:[function(t,e,r){function n(t){var e={"@role":!0,onabort:!0,onautocomplete:!0,onautocompleteerror:!0,onblur:!0,oncanplay:!0,oncanplaythrough:!0,oncancel:!0,onchange:!0,onclick:!0,onclose:!0,oncontextmenu:!0,oncuechange:!0,ondblclick:!0,ondrag:!0,ondragend:!0,ondragenter:!0,ondragexit:!0,ondragleave:!0,ondragover:!0,ondragstart:!0,ondragdrop:!0,ondrop:!0,ondurationchange:!0,onemptied:!0,onerror:!0,onended:!0,onfocus:!0,oninput:!0,oninvalid:!0,onkeydown:!0,onkeypress:!0,onkeyup:!0,onload:!0,onloadeddata:!0,onloadedmetadata:!0,onloadstart:!0,onmousedown:!0,onmousemove:!0,onmouseout:!0,onmouseover:!0,onmouseup:!0,onmouseleave:!0,onmousewheel:!0,onsubmit:!0,onpause:!0,onplay:!0,onplaying:!0,onprogress:!0,onratechange:!0,onreset:!0,onresize:!0,onscroll:!0,onseeked:!0,onseeking:!0,onselect:!0,onshow:!0,onsort:!0,onstalled:!0,onsuspend:!0,ontimeupdate:!0,ontoggle:!0,onvolumechange:!0,onwaiting:!0,onafterprint:!0,onbeforeprint:!0,onbeforeunload:!0,onhashchange:!0,onlanguagechange:!0,onmessage:!0,onoffline:!0,ononline:!0,onpagehide:!0,onpageshow:!0,onpopstate:!0,onrejectionhandled:!0,onstorage:!0,onunhandledrejection:!0,onunload:!0,integrity:!0},r="A-Za-z:_-----u06E6",n="\\-.0-9--",i=new RegExp("^["+r+"]["+r+n+"]*$");if(0===t.length||e[t.toLowerCase()])return!1;return i.test(t)}e.exports=n},{}],148:[function(t,e,r){function n(t){return null===t||void 0===t}e.exports=n},{}],149:[function(t,e,r){function n(t){return"string"==typeof t}e.exports=n},{}],150:[function(t,r,n){(function(e){!function(t){if("object"==typeof n&&"undefined"!=typeof r)r.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:this,i.pako=t()}}(function(){return function e(r,n,i){function o(s,u){if(!n[s]){if(!r[s]){var c="function"==typeof t&&t;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var f=n[s]={exports:{}};r[s][0].call(f.exports,function(t){var e=r[s][1][t];return o(e?e:t)},f,f.exports,e,r,n,i)}return n[s].exports}for(var a="function"==typeof t&&t,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])}}return t},r.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)return void t.set(e.subarray(r,r+n),i);for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){var e,r,n,i,o,a;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(a=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)o=t[e],a.set(o,i),i+=o.length;return a}},o={arraySet:function(t,e,r,n,i){for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){return[].concat.apply([],t)}};r.setTyped=function(t){t?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(n)},{}],2:[function(t,e,r){"use strict";function n(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var r="",n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r}var i=t("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var s=new i.Buf8(256),u=0;u<256;u++)s[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;s[254]=s[254]=1,r.string2buf=function(t){var e,r,n,o,a,s=t.length,u=0;for(o=0;o<s;o++)r=t.charCodeAt(o),55296===(64512&r)&&o+1<s&&(n=t.charCodeAt(o+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),o++)),u+=r<128?1:r<2048?2:r<65536?3:4;for(e=new i.Buf8(u),a=0,o=0;a<u;o++)r=t.charCodeAt(o),55296===(64512&r)&&o+1<s&&(n=t.charCodeAt(o+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),o++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|63&r):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|63&r):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|63&r);return e},r.buf2binstring=function(t){return n(t,t.length)},r.binstring2buf=function(t){for(var e=new i.Buf8(t.length),r=0,n=e.length;r<n;r++)e[r]=t.charCodeAt(r);return e},r.buf2string=function(t,e){var r,i,o,a,u=e||t.length,c=new Array(2*u);for(i=0,r=0;r<u;)if(o=t[r++],o<128)c[i++]=o;else if(a=s[o],a>4)c[i++]=65533,r+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&r<u;)o=o<<6|63&t[r++],a--;a>1?c[i++]=65533:o<65536?c[i++]=o:(o-=65536,c[i++]=55296|o>>10&1023,c[i++]=56320|1023&o)}return n(c,i)},r.utf8border=function(t,e){var r;for(e=e||t.length,e>t.length&&(e=t.length),r=e-1;r>=0&&128===(192&t[r]);)r--;return r<0?e:0===r?e:r+s[t[r]]>e?r:e}},{"./common":1}],3:[function(t,e,r){"use strict";function n(t,e,r,n){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==r;){a=r>2e3?2e3:r,r-=a;do i=i+e[n++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0}e.exports=n},{}],4:[function(t,e,r){"use strict";function n(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}function i(t,e,r,n){var i=o,a=n+r;t^=-1;for(var s=n;s<a;s++)t=t>>>8^i[255&(t^e[s])];return t^-1}var o=n();e.exports=i},{}],5:[function(t,e,r){"use strict";function n(t,e){return t.msg=R[e],e}function i(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function a(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(C.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function s(t,e){x._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,a(t.strm)}function u(t,e){t.pending_buf[t.pending++]=e}function c(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function d(t,e,r,n){var i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,C.arraySet(e,t.input,t.next_in,i,r),1===t.state.wrap?t.adler=M(t.adler,e,i,r):2===t.state.wrap&&(t.adler=L(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)}function f(t,e){var r,n,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-ft?t.strstart-(t.w_size-ft):0,c=t.window,d=t.w_mask,f=t.prev,l=t.strstart+dt,h=c[o+a-1],p=c[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do if(r=e,c[r+a]===p&&c[r+a-1]===h&&c[r]===c[o]&&c[++r]===c[o+1]){o+=2,r++;do;while(c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&o<l);if(n=dt-(l-o),o=l-dt,n>a){if(t.match_start=e,a=n,n>=s)break;h=c[o+a-1],p=c[o+a]}}while((e=f[e&d])>u&&0!==--i);return a<=t.lookahead?a:t.lookahead}function l(t){var e,r,n,i,o,a=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=a+(a-ft)){C.arraySet(t.window,t.window,a,a,0),t.match_start-=a,t.strstart-=a,t.block_start-=a,r=t.hash_size,e=r;do n=t.head[--e],t.head[e]=n>=a?n-a:0;while(--r);r=a,e=r;do n=t.prev[--e],t.prev[e]=n>=a?n-a:0;while(--r);i+=a}if(0===t.strm.avail_in)break;if(r=d(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=r,t.lookahead+t.insert>=ct)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+ct-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<ct)););}while(t.lookahead<ft&&0!==t.strm.avail_in)}function h(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(l(t),0===t.lookahead&&e===k)return mt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,s(t,!1),0===t.strm.avail_out))return mt;if(t.strstart-t.block_start>=t.w_size-ft&&(s(t,!1),0===t.strm.avail_out))return mt}return t.insert=0,e===j?(s(t,!0),0===t.strm.avail_out?Et:Ot):t.strstart>t.block_start&&(s(t,!1),0===t.strm.avail_out)?mt:mt}function p(t,e){for(var r,n;;){if(t.lookahead<ft){if(l(t),t.lookahead<ft&&e===k)return mt;if(0===t.lookahead)break}if(r=0,t.lookahead>=ct&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-ft&&(t.match_length=f(t,r)),t.match_length>=ct)if(n=x._tr_tally(t,t.strstart-t.match_start,t.match_length-ct),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ct){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=x._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(s(t,!1),0===t.strm.avail_out))return mt}return t.insert=t.strstart<ct-1?t.strstart:ct-1,e===j?(s(t,!0),0===t.strm.avail_out?Et:Ot):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?mt:wt}function g(t,e){for(var r,n,i;;){if(t.lookahead<ft){if(l(t),t.lookahead<ft&&e===k)return mt;if(0===t.lookahead)break}if(r=0,t.lookahead>=ct&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ct-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-ft&&(t.match_length=f(t,r),t.match_length<=5&&(t.strategy===Y||t.match_length===ct&&t.strstart-t.match_start>4096)&&(t.match_length=ct-1)),t.prev_length>=ct&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-ct,n=x._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ct),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=ct-1,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return mt}else if(t.match_available){if(n=x._tr_tally(t,0,t.window[t.strstart-1]),n&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return mt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=x._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ct-1?t.strstart:ct-1,e===j?(s(t,!0),0===t.strm.avail_out?Et:Ot):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?mt:wt}function v(t,e){for(var r,n,i,o,a=t.window;;){if(t.lookahead<=dt){if(l(t),t.lookahead<=dt&&e===k)return mt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ct&&t.strstart>0&&(i=t.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){o=t.strstart+dt;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);t.match_length=dt-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ct?(r=x._tr_tally(t,1,t.match_length-ct),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=x._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(s(t,!1),0===t.strm.avail_out))return mt}return t.insert=0,e===j?(s(t,!0),0===t.strm.avail_out?Et:Ot):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?mt:wt}function _(t,e){for(var r;;){if(0===t.lookahead&&(l(t),0===t.lookahead)){if(e===k)return mt;break}if(t.match_length=0,r=x._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(s(t,!1),0===t.strm.avail_out))return mt}return t.insert=0,e===j?(s(t,!0),0===t.strm.avail_out?Et:Ot):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?mt:wt}function b(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function y(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=A[t.level].max_lazy,t.good_match=A[t.level].good_length,t.nice_match=A[t.level].nice_length,t.max_chain_length=A[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ct-1,t.match_available=0,t.ins_h=0}function m(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new C.Buf16(2*st),this.dyn_dtree=new C.Buf16(2*(2*ot+1)),this.bl_tree=new C.Buf16(2*(2*at+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new C.Buf16(ut+1),this.heap=new C.Buf16(2*it+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new C.Buf16(2*it+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=X,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ht:bt,t.adler=2===e.wrap?0:1,e.last_flush=k,x._tr_init(e),B):n(t,z)}function E(t){var e=w(t);return e===B&&y(t.state),e}function O(t,e){return t&&t.state?2!==t.state.wrap?z:(t.state.gzhead=e,B):z}function S(t,e,r,i,o,a){if(!t)return z;var s=1;if(e===G&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>$||r!==Z||i<8||i>15||e<0||e>9||a<0||a>q)return n(t,z);8===i&&(i=9);var u=new m;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+ct-1)/ct),u.window=new C.Buf8(2*u.w_size),u.head=new C.Buf16(u.hash_size),u.prev=new C.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new C.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=r,E(t)}function D(t,e){return S(t,e,Z,tt,et,K)}function I(t,e){var r,s,d,f;if(!t||!t.state||e>F||e<0)return t?n(t,z):z;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===yt&&e!==j)return n(t,0===t.avail_out?H:z);if(s.strm=t,r=s.last_flush,s.last_flush=e,s.status===ht)if(2===s.wrap)t.adler=0,u(s,31),u(s,139),u(s,8),s.gzhead?(u(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),u(s,255&s.gzhead.time),u(s,s.gzhead.time>>8&255),u(s,s.gzhead.time>>16&255),u(s,s.gzhead.time>>24&255),u(s,9===s.level?2:s.strategy>=J||s.level<2?4:0),u(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(u(s,255&s.gzhead.extra.length),u(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=L(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=pt):(u(s,0),u(s,0),u(s,0),u(s,0),u(s,0),u(s,9===s.level?2:s.strategy>=J||s.level<2?4:0),u(s,St),s.status=bt);else{var l=Z+(s.w_bits-8<<4)<<8,h=-1;h=s.strategy>=J||s.level<2?0:s.level<6?1:6===s.level?2:3,l|=h<<6,0!==s.strstart&&(l|=lt),l+=31-l%31,s.status=bt,c(s,l),0!==s.strstart&&(c(s,t.adler>>>16),c(s,65535&t.adler)),t.adler=1}if(s.status===pt)if(s.gzhead.extra){for(d=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>d&&(t.adler=L(t.adler,s.pending_buf,s.pending-d,d)),a(t),d=s.pending,s.pending!==s.pending_buf_size));)u(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>d&&(t.adler=L(t.adler,s.pending_buf,s.pending-d,d)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=gt)}else s.status=gt;if(s.status===gt)if(s.gzhead.name){d=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>d&&(t.adler=L(t.adler,s.pending_buf,s.pending-d,d)),a(t),d=s.pending,s.pending===s.pending_buf_size)){f=1;break}f=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,u(s,f)}while(0!==f);s.gzhead.hcrc&&s.pending>d&&(t.adler=L(t.adler,s.pending_buf,s.pending-d,d)),0===f&&(s.gzindex=0,s.status=vt)}else s.status=vt;if(s.status===vt)if(s.gzhead.comment){d=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>d&&(t.adler=L(t.adler,s.pending_buf,s.pending-d,d)),a(t),d=s.pending,s.pending===s.pending_buf_size)){f=1;break}f=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,u(s,f);
}while(0!==f);s.gzhead.hcrc&&s.pending>d&&(t.adler=L(t.adler,s.pending_buf,s.pending-d,d)),0===f&&(s.status=_t)}else s.status=_t;if(s.status===_t&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(t),s.pending+2<=s.pending_buf_size&&(u(s,255&t.adler),u(s,t.adler>>8&255),t.adler=0,s.status=bt)):s.status=bt),0!==s.pending){if(a(t),0===t.avail_out)return s.last_flush=-1,B}else if(0===t.avail_in&&i(e)<=i(r)&&e!==j)return n(t,H);if(s.status===yt&&0!==t.avail_in)return n(t,H);if(0!==t.avail_in||0!==s.lookahead||e!==k&&s.status!==yt){var p=s.strategy===J?_(s,e):s.strategy===Q?v(s,e):A[s.level].func(s,e);if(p!==Et&&p!==Ot||(s.status=yt),p===mt||p===Et)return 0===t.avail_out&&(s.last_flush=-1),B;if(p===wt&&(e===P?x._tr_align(s):e!==F&&(x._tr_stored_block(s,0,0,!1),e===U&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(t),0===t.avail_out))return s.last_flush=-1,B}return e!==j?B:s.wrap<=0?V:(2===s.wrap?(u(s,255&t.adler),u(s,t.adler>>8&255),u(s,t.adler>>16&255),u(s,t.adler>>24&255),u(s,255&t.total_in),u(s,t.total_in>>8&255),u(s,t.total_in>>16&255),u(s,t.total_in>>24&255)):(c(s,t.adler>>>16),c(s,65535&t.adler)),a(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?B:V)}function T(t){var e;return t&&t.state?(e=t.state.status,e!==ht&&e!==pt&&e!==gt&&e!==vt&&e!==_t&&e!==bt&&e!==yt?n(t,z):(t.state=null,e===bt?n(t,W):B)):z}function N(t,e){var r,n,i,a,s,u,c,d,f=e.length;if(!t||!t.state)return z;if(r=t.state,a=r.wrap,2===a||1===a&&r.status!==ht||r.lookahead)return z;for(1===a&&(t.adler=M(t.adler,e,f,0)),r.wrap=0,f>=r.w_size&&(0===a&&(o(r.head),r.strstart=0,r.block_start=0,r.insert=0),d=new C.Buf8(r.w_size),C.arraySet(d,e,f-r.w_size,r.w_size,0),e=d,f=r.w_size),s=t.avail_in,u=t.next_in,c=t.input,t.avail_in=f,t.next_in=0,t.input=e,l(r);r.lookahead>=ct;){n=r.strstart,i=r.lookahead-(ct-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+ct-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++;while(--i);r.strstart=n,r.lookahead=ct-1,l(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=ct-1,r.match_available=0,t.next_in=u,t.input=c,t.avail_in=s,r.wrap=a,B}var A,C=t("../utils/common"),x=t("./trees"),M=t("./adler32"),L=t("./crc32"),R=t("./messages"),k=0,P=1,U=3,j=4,F=5,B=0,V=1,z=-2,W=-3,H=-5,G=-1,Y=1,J=2,Q=3,q=4,K=0,X=2,Z=8,$=9,tt=15,et=8,rt=29,nt=256,it=nt+1+rt,ot=30,at=19,st=2*it+1,ut=15,ct=3,dt=258,ft=dt+ct+1,lt=32,ht=42,pt=69,gt=73,vt=91,_t=103,bt=113,yt=666,mt=1,wt=2,Et=3,Ot=4,St=3;A=[new b(0,0,0,0,h),new b(4,4,8,4,p),new b(4,5,16,8,p),new b(4,6,32,32,p),new b(4,4,16,16,g),new b(8,16,32,32,g),new b(8,16,128,128,g),new b(8,32,128,256,g),new b(32,128,258,1024,g),new b(32,258,258,4096,g)],r.deflateInit=D,r.deflateInit2=S,r.deflateReset=E,r.deflateResetKeep=w,r.deflateSetHeader=O,r.deflate=I,r.deflateEnd=T,r.deflateSetDictionary=N,r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(t,e,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(t,e,r){"use strict";function n(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function a(t){return t<256?ut[t]:ut[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function u(t,e,r){t.bi_valid>q-r?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>q-t.bi_valid,t.bi_valid+=r-q):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function c(t,e,r){u(t,r[2*e],r[2*e+1])}function d(t,e){var r=0;do r|=1&t,t>>>=1,r<<=1;while(--e>0);return r>>>1}function f(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function l(t,e){var r,n,i,o,a,s,u=e.dyn_tree,c=e.max_code,d=e.stat_desc.static_tree,f=e.stat_desc.has_stree,l=e.stat_desc.extra_bits,h=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(o=0;o<=Q;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<J;r++)n=t.heap[r],o=u[2*u[2*n+1]+1]+1,o>p&&(o=p,g++),u[2*n+1]=o,n>c||(t.bl_count[o]++,a=0,n>=h&&(a=l[n-h]),s=u[2*n],t.opt_len+=s*(o+a),f&&(t.static_len+=s*(d[2*n+1]+a)));if(0!==g){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(o=p;0!==o;o--)for(n=t.bl_count[o];0!==n;)i=t.heap[--r],i>c||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),n--)}}function h(t,e,r){var n,i,o=new Array(Q+1),a=0;for(n=1;n<=Q;n++)o[n]=a=a+r[n-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=d(o[s]++,s))}}function p(){var t,e,r,n,o,a=new Array(Q+1);for(r=0,n=0;n<z-1;n++)for(dt[n]=r,t=0;t<1<<et[n];t++)ct[r++]=n;for(ct[r-1]=n,o=0,n=0;n<16;n++)for(ft[n]=o,t=0;t<1<<rt[n];t++)ut[o++]=n;for(o>>=7;n<G;n++)for(ft[n]=o<<7,t=0;t<1<<rt[n]-7;t++)ut[256+o++]=n;for(e=0;e<=Q;e++)a[e]=0;for(t=0;t<=143;)at[2*t+1]=8,t++,a[8]++;for(;t<=255;)at[2*t+1]=9,t++,a[9]++;for(;t<=279;)at[2*t+1]=7,t++,a[7]++;for(;t<=287;)at[2*t+1]=8,t++,a[8]++;for(h(at,H+1,a),t=0;t<G;t++)st[2*t+1]=5,st[2*t]=d(t,5);lt=new i(at,et,W+1,H,Q),ht=new i(st,rt,0,G,Q),pt=new i(new Array(0),nt,0,Y,K)}function g(t){var e;for(e=0;e<H;e++)t.dyn_ltree[2*e]=0;for(e=0;e<G;e++)t.dyn_dtree[2*e]=0;for(e=0;e<Y;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*X]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function v(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function _(t,e,r,n){v(t),n&&(s(t,r),s(t,~r)),M.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function b(t,e,r,n){var i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]}function y(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&b(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!b(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function m(t,e,r){var n,i,o,s,d=0;if(0!==t.last_lit)do n=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],i=t.pending_buf[t.l_buf+d],d++,0===n?c(t,i,e):(o=ct[i],c(t,o+W+1,e),s=et[o],0!==s&&(i-=dt[o],u(t,i,s)),n--,o=a(n),c(t,o,r),s=rt[o],0!==s&&(n-=ft[o],u(t,n,s)));while(d<t.last_lit);c(t,X,e)}function w(t,e){var r,n,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=J,r=0;r<u;r++)0!==o[2*r]?(t.heap[++t.heap_len]=c=r,t.depth[r]=0):o[2*r+1]=0;for(;t.heap_len<2;)i=t.heap[++t.heap_len]=c<2?++c:0,o[2*i]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=c,r=t.heap_len>>1;r>=1;r--)y(t,o,r);i=u;do r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],y(t,o,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,o[2*i]=o[2*r]+o[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,o[2*r+1]=o[2*n+1]=i,t.heap[1]=i++,y(t,o,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],l(t,e),h(o,c,t.bl_count)}function E(t,e,r){var n,i,o=-1,a=e[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=e[2*(n+1)+1],++s<u&&i===a||(s<c?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*Z]++):s<=10?t.bl_tree[2*$]++:t.bl_tree[2*tt]++,s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))}function O(t,e,r){var n,i,o=-1,a=e[1],s=0,d=7,f=4;for(0===a&&(d=138,f=3),n=0;n<=r;n++)if(i=a,a=e[2*(n+1)+1],!(++s<d&&i===a)){if(s<f){do c(t,i,t.bl_tree);while(0!==--s)}else 0!==i?(i!==o&&(c(t,i,t.bl_tree),s--),c(t,Z,t.bl_tree),u(t,s-3,2)):s<=10?(c(t,$,t.bl_tree),u(t,s-3,3)):(c(t,tt,t.bl_tree),u(t,s-11,7));s=0,o=i,0===a?(d=138,f=3):i===a?(d=6,f=3):(d=7,f=4)}}function S(t){var e;for(E(t,t.dyn_ltree,t.l_desc.max_code),E(t,t.dyn_dtree,t.d_desc.max_code),w(t,t.bl_desc),e=Y-1;e>=3&&0===t.bl_tree[2*it[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function D(t,e,r,n){var i;for(u(t,e-257,5),u(t,r-1,5),u(t,n-4,4),i=0;i<n;i++)u(t,t.bl_tree[2*it[i]+1],3);O(t,t.dyn_ltree,e-1),O(t,t.dyn_dtree,r-1)}function I(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return R;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return k;for(e=32;e<W;e++)if(0!==t.dyn_ltree[2*e])return k;return R}function T(t){gt||(p(),gt=!0),t.l_desc=new o(t.dyn_ltree,lt),t.d_desc=new o(t.dyn_dtree,ht),t.bl_desc=new o(t.bl_tree,pt),t.bi_buf=0,t.bi_valid=0,g(t)}function N(t,e,r,n){u(t,(U<<1)+(n?1:0),3),_(t,e,r,!0)}function A(t){u(t,j<<1,3),c(t,X,at),f(t)}function C(t,e,r,n){var i,o,a=0;t.level>0?(t.strm.data_type===P&&(t.strm.data_type=I(t)),w(t,t.l_desc),w(t,t.d_desc),a=S(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&e!==-1?N(t,e,r,n):t.strategy===L||o===i?(u(t,(j<<1)+(n?1:0),3),m(t,at,st)):(u(t,(F<<1)+(n?1:0),3),D(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),m(t,t.dyn_ltree,t.dyn_dtree)),g(t),n&&v(t)}function x(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(ct[r]+W+1)]++,t.dyn_dtree[2*a(e)]++),t.last_lit===t.lit_bufsize-1}var M=t("../utils/common"),L=4,R=0,k=1,P=2,U=0,j=1,F=2,B=3,V=258,z=29,W=256,H=W+1+z,G=30,Y=19,J=2*H+1,Q=15,q=16,K=7,X=256,Z=16,$=17,tt=18,et=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],rt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],it=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ot=512,at=new Array(2*(H+2));n(at);var st=new Array(2*G);n(st);var ut=new Array(ot);n(ut);var ct=new Array(V-B+1);n(ct);var dt=new Array(z);n(dt);var ft=new Array(G);n(ft);var lt,ht,pt,gt=!1;r._tr_init=T,r._tr_stored_block=N,r._tr_flush_block=C,r._tr_tally=x,r._tr_align=A},{"../utils/common":1}],8:[function(t,e,r){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=n},{}],"/lib/deflate.js":[function(t,e,r){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.options=u.assign({level:b,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var r=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==g)throw new Error(d[r]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?c.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=s.deflateSetDictionary(this.strm,i),r!==g)throw new Error(d[r]);this._dict_set=!0}}function i(t,e){var r=new n(e);if(r.push(t,!0),r.err)throw r.msg||d[r.err];return r.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}function a(t,e){return e=e||{},e.gzip=!0,i(t,e)}var s=t("./zlib/deflate"),u=t("./utils/common"),c=t("./utils/strings"),d=t("./zlib/messages"),f=t("./zlib/zstream"),l=Object.prototype.toString,h=0,p=4,g=0,v=1,_=2,b=-1,y=0,m=8;n.prototype.push=function(t,e){var r,n,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:e===!0?p:h,"string"==typeof t?i.input=c.string2buf(t):"[object ArrayBuffer]"===l.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new u.Buf8(o),i.next_out=0,i.avail_out=o),r=s.deflate(i,n),r!==v&&r!==g)return this.onEnd(r),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||n!==p&&n!==_)||("string"===this.options.to?this.onData(c.buf2binstring(u.shrinkBuf(i.output,i.next_out))):this.onData(u.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&r!==v);return n===p?(r=s.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===g):n!==_||(this.onEnd(g),i.avail_out=0,!0)},n.prototype.onData=function(t){this.chunks.push(t)},n.prototype.onEnd=function(t){t===g&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Deflate=n,r.deflate=i,r.deflateRaw=o,r.gzip=a},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")})}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[5])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(t,e,r){var n=43200,i="wm-v-uid",o="wm-v-pid";function a(t){return{getUid:function(){return t.getData(i)},getProvidedId:function(e){return t.getData(o)},setUid:function(e,r){return t.saveData(i,e,n),!0},setProvidedId:function(e,r){return t.saveData(o,e,n)},removeUid:function(){return t.removeData(i)},removeProvidedId:function(){return t.removeData(o)}}}e.exports=a},{}],12:[function(t,e,r){function n(t){var e=t!==t.parent;if(e){var r=null;try{r=t.parent.document.body.innerHTML}catch(n){}return null===r}return!1}e.exports=n},{}],13:[function(t,e,r){function n(t){return!(!t.visionsRecorderConfig||!t.visionsRecorderConfig.isHighestRecordingIframe)}e.exports=n},{}],14:[function(t,e,r){var n=t("wm-prelib-plugin-entry-manager").getCtx,i=n().get("PrelibLogger");function o(){var t=Array().slice.call(arguments);t.unshift("[ VisionsRecorder ]"),i.write.apply(i,t)}r.log=o},{"wm-prelib-plugin-entry-manager":17}],15:[function(t,e,r){var n=t("wm-prelib-plugin-entry-manager").createPluginEntry;e.exports=n(function(e){var r=t("./visions_recorder_plugin").VisionsPlugin;e(new r)})},{"./visions_recorder_plugin":16,"wm-prelib-plugin-entry-manager":17}],16:[function(t,e,r){var n=t("wm-prelib-plugin-entry-manager").getCtx,i=t("./logger").log,o=t("./get_wm_identity_storage"),a=t("./is_highest_recording_iframe"),s=t("./is_cross_origin_iframe"),u=5e3,c=["name","type","role","status","info"];t("../dist-no-ugly/recorder_v2");function d(){var t=n();this._jacoInitializedPromise=t.get("PromiseManager").defer(),this._jacoIdentifiedPromise=t.get("PromiseManager").defer(),A(t),t.register("Jaco").asInstance(x(this._jacoInitializedPromise))}d.prototype.run=function(){var t=n(),e=this;if(M())return void i("Visions will be loaded only in publish mode (not in editor and not in preview)");if(window.JacoRecorder.state&&window.JacoRecorder.state.recordingDisabled)return void i("recording is disabled");var r=g();if(r){var u=this._jacoInitializedPromise,c=this._jacoIdentifiedPromise,d=l();h(c),t.get("EventsListener").once("StorageLoaded",function(){if(!f(t))return void i("no audit is enabled");var n=t.get("ClientStorageManager"),l=o(n),h=v();i("rapiUrl:"+h);var g=!a(window)&&s(window),_={identityStorage:l,crossOriginIFrame:g,rapiUrl:h};b("identifyLogs")&&window.JacoRecorder.logOurError(new Error("init jaco"),{initOptions:_}),p(r,_,function(t,e){t?u.reject(t):u.resolve(e)}),d.promise.then(function(){return i("first event arrived, start collecting events"),b("identifyLogs")&&window.JacoRecorder.logOurError(new Error("first event arrived, start collecting events"),{session:window.JacoRecorder.state.session}),e.sessionAnalyticsProperties={},O(t,e.sessionAnalyticsProperties),m(y(t)).promise.then(function(){i("visions identify done"),c.resolve()})["catch"](function(t){i("Visions identify fail",t),c.reject()})})})}else i("Visions API key is not available")};function f(t){var e=t.get("AuditingEnabledIndicator");return e.isEnabled()}function l(){var t=n().get("PromiseManager").defer();return wmjQuery(window._walkmeInternals).one("AnalyticsEventSent",function(){t.resolve()}),t}function h(t){var e=function(e,r){i("wm event received",r),r.handled=!0,t.promise.then(function(){i("wm event send",r),w(r)})};wmjQuery(window._walkmeInternals).bind("AnalyticsEventSent",e),wmjQuery(window._walkmeInternals).bind("removeWalkMe",function(t,r){i("remove walkMe raised"),wmjQuery(window._walkmeInternals).unbind("AnalyticsEventSent",e)})}function p(t,e,r){i("init:"+t),window.JacoRecorder.init(t,e,r),i("post init")}function g(){return _("VisionsGuid")}function v(){return _("RapiServer")}function _(t){var e=wmSnippet.getSettingsFile();if(e)return e[t];return}function b(t){return!!window.JacoRecorder.state.experiments&&window.JacoRecorder.state.experiments.indexOf(t)>-1}function y(t){var e=t.get("EndUsersManager").getEndUserGuid();return e instanceof Object&&(e=void 0,b("identifyLogs")&&window.JacoRecorder.logOurError(new Error("filter identify object"),{session:window.JacoRecorder.state.session,identity:JSON.stringify(e)})),L(e)&&(e=e.toString()),e}function m(t){i("identifyJaco: "+t);var e=n().get("PromiseManager").defer();return b("identifyLogs")&&window.JacoRecorder.logOurError(new Error("logging identity"),{session:window.JacoRecorder.state.session,identity:t}),t?window.JacoRecorder.identify(t,function(t){if(t)return e.reject(t);e.resolve()}):(i("identity is not valid"),e.resolve()),e}function w(t){i("sendToJaco: time = "+t.eventData.time),window.JacoRecorder.trackEvent(t.eventName||"walkmeEvent",t.eventData),i("post JacoRecorder.trackEvent")}function E(t){var e=t.get("SiteConfigManager").get().Settings.analyticsProperties;return e||[]}function O(t,e){S(t,e),setTimeout(O.bind(null,t,e),u)}function S(t,e){var r=E(t),n=r.filter(D.bind(null,t,e));n.forEach(T.bind(null,t,e))}function D(t,e,r){var n=r.name;if(c.indexOf(n)<0)return!1;var i=t.get("AnalyticsPropertiesManager").getPropertyValue(n);return null!==i&&void 0!==i&&i!==e[n]}function I(t){return t.charAt(0).toUpperCase()+t.substring(1)}function T(t,e,r){var n=r.name,i=t.get("AnalyticsPropertiesManager").getPropertyValue(n);N(I(n),i),e[n]=i}function N(t,e){i("setSessionAttribute: attributeName="+t+", attributeValue="+e),window.JacoRecorder.push(["session.setAttribute",{attributeName:t,attributeValue:[e.toString()]},function(t){t&&i("Setting session attribute failed",t)}]),i("post setSessionAttribute")}function A(t){t.decorate("EventCollectorEventSender",function(t){var e=t.postEvent;return t.postEvent=function(t,r){if("[object Function]"===Object.prototype.toString.call(r)){var n=function(){var t=r();return C(t)};return e(t,n)}return r=C(r),e(t,r)},t})}function C(t){if(null!=t&&"[object Object]"!==Object.prototype.toString.call(t))return t;return t=t||{},t.pluginVer="x.x",t.libVer=_walkMe.LibVersion,t}function x(t){return{get:function(){return PromiseManager.resolve(window.JacoRecorder)},getInitialized:function(){return t.promise.then(function(){return window.JacoRecorder})},getSessionInfo:function(){return t.promise}}}function M(){return void 0!=window.wmPreviewSnippet||void 0==window.wmSnippet}function L(t){return"number"==typeof t}r.VisionsPlugin=d},{"../dist-no-ugly/recorder_v2":10,"./get_wm_identity_storage":11,"./is_cross_origin_iframe":12,"./is_highest_recording_iframe":13,"./logger":14,"wm-prelib-plugin-entry-manager":17}],17:[function(t,e,r){"use strict";var n,i={createPluginEntry:o,getCtx:a};function o(t){return function(e){n=e(),t(s)}}function a(){return n.ctx}function s(t){n.plugin(t)}r.__esModule=!0,r["default"]=i,r.createPluginEntry=i.createPluginEntry,r.getCtx=i.getCtx},{}],18:[function(t,e,r){var n,i,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function c(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}var d,f=[],l=!1,h=-1;function p(){if(!l||!d)return;l=!1,d.length?f=d.concat(f):h=-1,f.length&&g()}function g(){if(l)return;var t=u(p);l=!0;for(var e=f.length;e;){for(d=f,f=[];++h<e;)d&&d[h].run();h=-1,e=f.length}d=null,l=!1,c(t)}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];f.push(new v(t,e)),1!==f.length||l||u(g)};function v(t,e){this.fun=t,this.array=e}v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function _(){}o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],19:[function(t,e,r){!function(){function t(t,e){this._object=void 0,this._name=t,this._ctx=e,this.properties={strategy:a.defaults.strategy,factory:a.defaults.factory,injector:a.defaults.injector,load:a.defaults.load,wasReady:!1,initialize:!0}}t.prototype.name=function(){return this._name},t.prototype.asFactory=function(t,e){return void 0!=e&&this.type(e),this.factory(t),this},t.prototype.loadDependencies=function(t,e){return void 0!=e&&this.dependencies(e),this.load(t),this},t.prototype.asFunction=function(t){return this.asFactory(a.factory.func,t)},t.prototype.asInstance=function(t){return this.asFactory(a.factory.instance,t)},t.prototype.asCtor=function(t){return this.asFactory(a.factory.constructor,t)},t.prototype.asSingleton=function(){return this.strategy(a.strategy.singleton)},t.prototype.asProto=function(){return this.strategy(a.strategy.proto)},t.prototype.injectToCtor=function(){return this.injector(a.injector.ctor)},t.prototype.injectToReady=function(){return this.injector(a.injector.ready)},t.prototype.injectToProperty=function(){return this.injector(a.injector.property)},t.prototype.flatDependencies=function(t){return this.loadDependencies(a.load.flat,t)},t.prototype.recursiveDependencies=function(t){return this.loadDependencies(a.load.recursive,t)},t.prototype.useOnce=function(){var t=this.getObject;return this.getObject=function(){return this._ctx.map[this.name()]=null,t.apply(this,arguments)},this},t.prototype.depsDictionary=function(t){if(!arguments.length)return this.properties.depsDictionary||this.depsDictionary(this._ctx.resolve(this)),this.properties.depsDictionary;return this.properties.depsDictionary=t,this},t.prototype.create=function(t,e,r){r=r||a.load.recursive;var n=this.properties.strategy.test(this._object,r);if(e)return n;n&&(t=this.properties.injector.create(t?t:this.properties.args,this,this._ctx,r));var i=this.properties.strategy.create(this._object,this.properties.factory,this.properties.type,t,this._ctx,this,r);return this._ctx.ready(i,this)},t.prototype.getObject=function(t){return this.create(void 0,void 0,t)},t.prototype.object=function(t){return arguments.length?(this._object=t,this):this.create()};for(var r=["load","wasReady","strategy","injector","type","dependencies","args","factory","initialize"],n=0;n<r.length;n++){var i=r[n];o(i)}function o(e){t.prototype[e]=function(t){if(!arguments.length)return this.properties[e];return this.properties[e]=t,this}}var a=function(e){e=e||{},e.version="0.3.3";e.logger=function(t,e){},e.log=function(t,r,n){r&&(t="[class="+r.name()+"] "+t),e.logger("DI - "+t,n||4)},e.error=function(t,r,n){e.log(t,r,n)},e.createContext=function(){var t={map:{},decorators:{}};t.decorate=function(e,r){t.decorators[e]||(t.decorators[e]=[]),t.decorators[e].push(r)},t.entry=function(e){return t.map[e]},t.register=function(r,n,i){var o=e.entry(r,t).type(n).args(i);return t.map[r]=o,o},t.has=function(e){return null!=t.entry(e)},t.remove=function(e){if(t.has(e))return t.map[e]=null,!0;return!1},t.isEntryRemoved=function(e){return null===t.entry(e)},t.get=function(r,n){return t.isEntryRemoved(r)&&e.error("Object["+r+"] was removed"),t.has(r)||e.error("Object["+r+"] is not registered"),t.entry(r).getObject(n)},t.create=function(r,n){if(t.entry(r).strategy()==e.strategy.singleton&&e.error("Attempt to create singleton object ["+r+"]"),t.has(r))return t.entry(r).create(n);e.error("Object["+r+"] is not registered")},t.initialize=function(){function r(r){var n=t.entry(r);n?n.initialize()&&n.strategy().initialize()&&t.get(r):e.error("Object["+r+"] is not registered")}return function(e){if(e)r(e);else for(var e in t.map)r(e)}}(),t.clear=function(){this.map={},this.decorators={}};function r(t){for(;t.indexOf(" ")>=0;)t=t.replace(" ","");return t}return t.resolve=function(r){var n=r.load(),i={};return t.eachDependency(r.dependencies(),function(o,a){var s=t.get(o,n);t.ready(s,t.entry(o)),null==s&&e.error("Dependency ["+r.name()+"."+a+"]->["+o+"] can not be satisfied",r),i[a]=s}),i},t.eachDependency=function(t,n){if(t)for(var i=r(t).split(","),o=0;o<i.length;o++){var a=i[o];if(a){var s=e.dependencyExpression(a);try{n(s.name,s.property,o)}catch(u){e.error("An exception was thrown while the DI tried to resolve class '"+s.name+"'. Check the class name, or if it was registred correctly. \r\n inner exception: \r\n"+u.message)}}}},t.ready=function(e,r){if(null===r&&e)return e;var n=r.wasReady();if(r.wasReady(!0),!n){var i=t.createCallback();i&&i(r.name(),e),e&&"function"==typeof e.ready&&e!=window&&e!=window.document&&e!=window.document.body&&(r.wasReady(!0),e.ready.apply(e,r.injector().ready(e,r)||[]))}return e},t.createCallback=function(){var e;return function(r){if(0==arguments.length)return e;return e=r,t}}(),t},e.dependencyExpression=function(t){var e={},r=t,n=t;if(t.indexOf("=")>0){var i=t.split("=");r=i[0],n=i[1]}return e.name=n,e.property=r,e},e.entry=function(e,r){return new t(e,r)},e.strategy={proto:{test:function(t,e){return!e||e()},initialize:function(){return!1},create:function(t,e,n,i,o,a,s){return t=r(e,n,i,o,a),s()&&a.injector().ready(t,a),a.depsDictionary(void 0),a.wasReady(!1),t}},singleton:{test:function(t,e){return!t&&(!e||e())},initialize:function(){return!0},create:function(t,e,n,i,o,a,s){return t||(t=r(e,n,i,o,a),a.object(t),a.wasReady(!0),s()&&a.injector().ready(t,a),a.wasReady(!1)),t}}};function r(t,e,r,n,i){var o=t(e,r,i),a=n.decorators[i.name()];if(a)for(var s=0;s<a.length;s++)o=a[s](o);return o}return e.factory={constructor:function(t,r,n){if(!(r instanceof Array))return new t(r);if(r.length<=10)return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9]);if(r.length<=30)return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15],r[16],r[17],r[18],r[19],r[20],r[21],r[22],r[23],r[24],r[25],r[26],r[27],r[28],r[29]);e.error("trying to create a class with too many args!",n)},func:function(t,e,r){return e instanceof Array?t.apply(t,e):t(e)},instance:function(t,e,r){return t}},e.injector={property:{create:function(t,e,r){return t},ready:function(t,e){var r=e.depsDictionary();for(var n in r)t[n]=r[n];var i=e.args();void 0==i||r.hasOwnProperty("args")||(t.args=i)}},ready:{create:function(t,e,r){return t},ready:function(t,e){var r=e.args(),n=[],i=e.depsDictionary();if(s.eachDependency(e.dependencies(),function(t,e,r){n[r]=i[e]}),r){r=r instanceof Array?r:[r];for(var o=0;o<r.length;o++)n.push(r[o])}return n}},ctor:{create:function(t,e,r){var n=[],i=e.depsDictionary();if(r.eachDependency(e.dependencies(),function(t,e,r){n[r]=i[e]}),t){t=t instanceof Array?t:[t];for(var o=0;o<t.length;o++)n.push(t[o])}return n},ready:function(t,e){}}},e.load={flat:function(t,e,r){return!1},recursive:function(t,e,r){return!0}},e.defaults={strategy:e.strategy.singleton,factory:e.factory.constructor,injector:e.injector.ctor,load:e.load.recursive},e}(),s=a.createContext();e.exports=function(t){t.di=a,t.ctx=s}}()},{}],20:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t){this._eventsBase=t}return t.prototype.on=function(t,e){var r=i(e);this._eventsBase.on(t,r)},t.prototype.once=function(t,e){var r=i(e);this._eventsBase.one(t,r)},t.prototype.off=function(t,e){var r=a(e);this._eventsBase.off(t,r)},t}();r.EventsListener=n;function i(t){return t.__wmEventWrapped||(t.__wmEventWrapped=o(t)),t.__wmEventWrapped}function o(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=(e[0],e[1]);return i&&i.__asyncResults&&i.__asyncResults.push(n),n}}function a(t){return t&&t.__wmEventWrapped||t}},{}],21:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){this._eventsBase=t,this._promiseManager=e}return t.prototype.async=function(t,e,r,n){var i;try{i=this._eventsBase.triggerHandler(t,e)}catch(o){n&&n()}this._promiseManager.Promise.resolve(i).then(r,n)},t.prototype.sync=function(t,e,r){var n=e&&e.asyncCallback;n&&(e.__asyncResults=[]);var i=this._eventsBase.triggerHandler(t,e);if(n&&(i=this._promiseManager.all(e.__asyncResults).then(function(t){return t[t.length-1]})),void 0==i)return r;return i},t}();r.EventsTrigger=n},{}],22:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./events/eventsListener");r.EventsListener=n.EventsListener;var i=t("./events/eventsTrigger");r.EventsTrigger=i.EventsTrigger},{"./events/eventsListener":20,"./events/eventsTrigger":21}],23:[function(t,e,r){"use strict";var n,i,o="walkme_prelib_log_enabled",a=1e4,s=[],u={write:c,getCookieName:h,setCookieName:l,enableLog:p,disableLog:g,isLogEnabled:v,readCookie:b,writeCookie:y,getLogHistoryRecords:f};function c(){if(v()){var t=arguments;try{t.stack=(new Error).stack}catch(e){}d(t);var r=Array().slice.call(t);console.log.apply(console,r)}}function d(t){var e=new Date;t.timeElapsed=e-(i||e),i=e,s.unshift(t),s=s.splice(0,a)}function f(){return s}function l(t){o=t}function h(){return o}function p(){n=!0,y(o,!0)}function g(){n=!1,y(o,"",-1)}function v(){if("undefined"!=typeof n)return n;return _(),n}function _(){var t=window.console&&(b(o)||!1);n=t&&"true"==t.toString().toLowerCase()}function b(t){var e=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)");return e?e.pop():void 0}function y(t,e,r){var n,i="";r&&(n=new Date,n.setTime(n.getTime()+864e5*r),i="; expires="+n.toUTCString()),document.cookie=t+"="+e+i+"; path=/"}e.exports=u},{}]},{},[1]);